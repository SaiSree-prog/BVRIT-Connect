var vC=t=>{throw TypeError(t)};var cv=(t,e,n)=>e.has(t)||vC("Cannot "+n);var Q=(t,e,n)=>(cv(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>e.has(t)?vC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pe=(t,e,n,s)=>(cv(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ft=(t,e,n)=>(cv(t,e,"access private method"),n);var Of=(t,e,n,s)=>({set _(i){Pe(t,e,i,n)},get _(){return Q(t,e,s)}});function q3(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function FT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},gx={},UT={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.element"),H3=Symbol.for("react.portal"),G3=Symbol.for("react.fragment"),Y3=Symbol.for("react.strict_mode"),K3=Symbol.for("react.profiler"),Q3=Symbol.for("react.provider"),Z3=Symbol.for("react.context"),X3=Symbol.for("react.forward_ref"),J3=Symbol.for("react.suspense"),eL=Symbol.for("react.memo"),tL=Symbol.for("react.lazy"),bC=Symbol.iterator;function nL(t){return t===null||typeof t!="object"?null:(t=bC&&t[bC]||t["@@iterator"],typeof t=="function"?t:null)}var $T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BT=Object.assign,zT={};function sd(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||$T}sd.prototype.isReactComponent={};sd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WT(){}WT.prototype=sd.prototype;function ej(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||$T}var tj=ej.prototype=new WT;tj.constructor=ej;BT(tj,sd.prototype);tj.isPureReactComponent=!0;var wC=Array.isArray,qT=Object.prototype.hasOwnProperty,nj={current:null},HT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)qT.call(e,s)&&!HT.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Am,type:t,key:a,ref:o,props:i,_owner:nj.current}}function sL(t,e){return{$$typeof:Am,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sj(t){return typeof t=="object"&&t!==null&&t.$$typeof===Am}function rL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jC=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rL(""+t.key):e.toString(36)}function xp(t,e,n,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Am:case H3:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+uv(o,0):s,wC(i)?(n="",t!=null&&(n=t.replace(jC,"$&/")+"/"),xp(i,e,n,"",function(u){return u})):i!=null&&(sj(i)&&(i=sL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",wC(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+uv(a,l);o+=xp(a,e,n,c,i)}else if(c=nL(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+uv(a,l++),o+=xp(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lf(t,e,n){if(t==null)return t;var s=[],i=0;return xp(t,s,"","",function(a){return e.call(n,a,i++)}),s}function iL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ps={current:null},yp={transition:null},aL={ReactCurrentDispatcher:Ps,ReactCurrentBatchConfig:yp,ReactCurrentOwner:nj};function YT(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Lf,forEach:function(t,e,n){Lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lf(t,function(){e++}),e},toArray:function(t){return Lf(t,function(e){return e})||[]},only:function(t){if(!sj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=sd;ct.Fragment=G3;ct.Profiler=K3;ct.PureComponent=ej;ct.StrictMode=Y3;ct.Suspense=J3;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aL;ct.act=YT;ct.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=BT({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=nj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qT.call(e,c)&&!HT.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Am,type:t.type,key:i,ref:a,props:s,_owner:o}};ct.createContext=function(t){return t={$$typeof:Z3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q3,_context:t},t.Consumer=t};ct.createElement=GT;ct.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:X3,render:t}};ct.isValidElement=sj;ct.lazy=function(t){return{$$typeof:tL,_payload:{_status:-1,_result:t},_init:iL}};ct.memo=function(t,e){return{$$typeof:eL,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=yp.transition;yp.transition={};try{t()}finally{yp.transition=e}};ct.unstable_act=YT;ct.useCallback=function(t,e){return Ps.current.useCallback(t,e)};ct.useContext=function(t){return Ps.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Ps.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Ps.current.useEffect(t,e)};ct.useId=function(){return Ps.current.useId()};ct.useImperativeHandle=function(t,e,n){return Ps.current.useImperativeHandle(t,e,n)};ct.useInsertionEffect=function(t,e){return Ps.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Ps.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Ps.current.useMemo(t,e)};ct.useReducer=function(t,e,n){return Ps.current.useReducer(t,e,n)};ct.useRef=function(t){return Ps.current.useRef(t)};ct.useState=function(t){return Ps.current.useState(t)};ct.useSyncExternalStore=function(t,e,n){return Ps.current.useSyncExternalStore(t,e,n)};ct.useTransition=function(){return Ps.current.useTransition()};ct.version="18.3.1";UT.exports=ct;var p=UT.exports;const ue=FT(p),KT=q3({__proto__:null,default:ue},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=p,lL=Symbol.for("react.element"),cL=Symbol.for("react.fragment"),uL=Object.prototype.hasOwnProperty,dL=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hL={key:!0,ref:!0,__self:!0,__source:!0};function QT(t,e,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)uL.call(e,s)&&!hL.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:lL,type:t,key:a,ref:o,props:i,_owner:dL.current}}gx.Fragment=cL;gx.jsx=QT;gx.jsxs=QT;VT.exports=gx;var r=VT.exports,ZT={exports:{}},Sr={},XT={exports:{}},JT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,U){var G=_.length;_.push(U);e:for(;0<G;){var M=G-1>>>1,Y=_[M];if(0<i(Y,U))_[M]=U,_[G]=Y,G=M;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var U=_[0],G=_.pop();if(G!==U){_[0]=G;e:for(var M=0,Y=_.length,L=Y>>>1;M<L;){var X=2*(M+1)-1,le=_[X],ne=X+1,H=_[ne];if(0>i(le,G))ne<Y&&0>i(H,le)?(_[M]=H,_[ne]=G,M=ne):(_[M]=le,_[X]=G,M=X);else if(ne<Y&&0>i(H,G))_[M]=H,_[ne]=G,M=ne;else break e}}return U}function i(_,U){var G=_.sortIndex-U.sortIndex;return G!==0?G:_.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,g=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(_){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=_)s(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function I(_){if(b=!1,N(_),!x)if(n(c)!==null)x=!0,$(V);else{var U=n(u);U!==null&&T(I,U.startTime-_)}}function V(_,U){x=!1,b&&(b=!1,w(C),C=-1),g=!0;var G=f;try{for(N(U),m=n(c);m!==null&&(!(m.expirationTime>U)||_&&!D());){var M=m.callback;if(typeof M=="function"){m.callback=null,f=m.priorityLevel;var Y=M(m.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?m.callback=Y:m===n(c)&&s(c),N(U)}else s(c);m=n(c)}if(m!==null)var L=!0;else{var X=n(u);X!==null&&T(I,X.startTime-U),L=!1}return L}finally{m=null,f=G,g=!1}}var z=!1,A=null,C=-1,R=5,k=-1;function D(){return!(t.unstable_now()-k<R)}function S(){if(A!==null){var _=t.unstable_now();k=_;var U=!0;try{U=A(!0,_)}finally{U?P():(z=!1,A=null)}}else z=!1}var P;if(typeof v=="function")P=function(){v(S)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=S,P=function(){O.postMessage(null)}}else P=function(){y(S,0)};function $(_){A=_,z||(z=!0,P())}function T(_,U){C=y(function(){_(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,$(V))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var G=f;f=U;try{return _()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,U){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var G=f;f=_;try{return U()}finally{f=G}},t.unstable_scheduleCallback=function(_,U,G){var M=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?M+G:M):G=M,_){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,_={id:d++,callback:U,priorityLevel:_,startTime:G,expirationTime:Y,sortIndex:-1},G>M?(_.sortIndex=G,e(u,_),n(c)===null&&_===n(u)&&(b?(w(C),C=-1):b=!0,T(I,G-M))):(_.sortIndex=Y,e(c,_),x||g||(x=!0,$(V))),_},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(_){var U=f;return function(){var G=f;f=U;try{return _.apply(this,arguments)}finally{f=G}}}})(JT);XT.exports=JT;var mL=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL=p,Nr=mL;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e2=new Set,Th={};function vc(t,e){Du(t,e),Du(t+"Capture",e)}function Du(t,e){for(Th[t]=e,t=0;t<e.length;t++)e2.add(e[t])}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P0=Object.prototype.hasOwnProperty,pL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NC={},_C={};function gL(t){return P0.call(_C,t)?!0:P0.call(NC,t)?!1:pL.test(t)?_C[t]=!0:(NC[t]=!0,!1)}function xL(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yL(t,e,n,s){if(e===null||typeof e>"u"||xL(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ds(t,e,n,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jn[t]=new Ds(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jn[e]=new Ds(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jn[t]=new Ds(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jn[t]=new Ds(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jn[t]=new Ds(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jn[t]=new Ds(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jn[t]=new Ds(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jn[t]=new Ds(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jn[t]=new Ds(t,5,!1,t.toLowerCase(),null,!1,!1)});var rj=/[\-:]([a-z])/g;function ij(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rj,ij);Jn[e]=new Ds(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rj,ij);Jn[e]=new Ds(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rj,ij);Jn[e]=new Ds(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jn[t]=new Ds(t,1,!1,t.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jn[t]=new Ds(t,1,!1,t.toLowerCase(),null,!0,!0)});function aj(t,e,n,s){var i=Jn.hasOwnProperty(e)?Jn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yL(e,n,i,s)&&(n=null),s||i===null?gL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Wa=fL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ff=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),oj=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),t2=Symbol.for("react.provider"),n2=Symbol.for("react.context"),lj=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),O0=Symbol.for("react.suspense_list"),cj=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),s2=Symbol.for("react.offscreen"),CC=Symbol.iterator;function Rd(t){return t===null||typeof t!="object"?null:(t=CC&&t[CC]||t["@@iterator"],typeof t=="function"?t:null)}var an=Object.assign,dv;function Yd(t){if(dv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+t}var hv=!1;function mv(t,e){if(!t||hv)return"";hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{hv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yd(t):""}function vL(t){switch(t.tag){case 5:return Yd(t.type);case 16:return Yd("Lazy");case 13:return Yd("Suspense");case 19:return Yd("SuspenseList");case 0:case 2:case 15:return t=mv(t.type,!1),t;case 11:return t=mv(t.type.render,!1),t;case 1:return t=mv(t.type,!0),t;default:return""}}function L0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hc:return"Fragment";case qc:return"Portal";case D0:return"Profiler";case oj:return"StrictMode";case M0:return"Suspense";case O0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n2:return(t.displayName||"Context")+".Consumer";case t2:return(t._context.displayName||"Context")+".Provider";case lj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cj:return e=t.displayName||null,e!==null?e:L0(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return L0(t(e))}catch{}}return null}function bL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L0(e);case 8:return e===oj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wL(t){var e=r2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vf(t){t._valueTracker||(t._valueTracker=wL(t))}function i2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=r2(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function eg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function F0(t,e){var n=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EC(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=$o(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a2(t,e){e=e.checked,e!=null&&aj(t,"checked",e,!1)}function V0(t,e){a2(t,e);var n=$o(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?U0(t,e.type,n):e.hasOwnProperty("defaultValue")&&U0(t,e.type,$o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function U0(t,e,n){(e!=="number"||eg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kd=Array.isArray;function ru(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+$o(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ge(92));if(Kd(n)){if(1<n.length)throw Error(ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$o(n)}}function o2(t,e){var n=$o(e.value),s=$o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function TC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,c2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ih(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jL=["Webkit","ms","Moz","O"];Object.keys(ch).forEach(function(t){jL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ch[e]=ch[t]})});function u2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ch.hasOwnProperty(t)&&ch[t]?(""+e).trim():e+"px"}function d2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=u2(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var NL=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z0(t,e){if(e){if(NL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function W0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=null;function uj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H0=null,iu=null,au=null;function IC(t){if(t=Mm(t)){if(typeof H0!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=wx(e),H0(t.stateNode,t.type,e))}}function h2(t){iu?au?au.push(t):au=[t]:iu=t}function m2(){if(iu){var t=iu,e=au;if(au=iu=null,IC(t),e)for(t=0;t<e.length;t++)IC(e[t])}}function f2(t,e){return t(e)}function p2(){}var fv=!1;function g2(t,e,n){if(fv)return t(e,n);fv=!0;try{return f2(t,e,n)}finally{fv=!1,(iu!==null||au!==null)&&(p2(),m2())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var s=wx(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ge(231,e,typeof n));return n}var G0=!1;if(Ta)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){G0=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{G0=!1}function _L(t,e,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var uh=!1,tg=null,ng=!1,Y0=null,CL={onError:function(t){uh=!0,tg=t}};function EL(t,e,n,s,i,a,o,l,c){uh=!1,tg=null,_L.apply(CL,arguments)}function SL(t,e,n,s,i,a,o,l,c){if(EL.apply(this,arguments),uh){if(uh){var u=tg;uh=!1,tg=null}else throw Error(ge(198));ng||(ng=!0,Y0=u)}}function bc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RC(t){if(bc(t)!==t)throw Error(ge(188))}function kL(t){var e=t.alternate;if(!e){if(e=bc(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return RC(i),t;if(a===s)return RC(i),e;a=a.sibling}throw Error(ge(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(n.alternate!==s)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?t:e}function y2(t){return t=kL(t),t!==null?v2(t):null}function v2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v2(t);if(e!==null)return e;t=t.sibling}return null}var b2=Nr.unstable_scheduleCallback,AC=Nr.unstable_cancelCallback,TL=Nr.unstable_shouldYield,IL=Nr.unstable_requestPaint,vn=Nr.unstable_now,RL=Nr.unstable_getCurrentPriorityLevel,dj=Nr.unstable_ImmediatePriority,w2=Nr.unstable_UserBlockingPriority,sg=Nr.unstable_NormalPriority,AL=Nr.unstable_LowPriority,j2=Nr.unstable_IdlePriority,xx=null,$i=null;function PL(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(xx,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:OL,DL=Math.log,ML=Math.LN2;function OL(t){return t>>>=0,t===0?32:31-(DL(t)/ML|0)|0}var $f=64,Bf=4194304;function Qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rg(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=Qd(l):(a&=o,a!==0&&(s=Qd(a)))}else o=n&~i,o!==0?s=Qd(o):a!==0&&(s=Qd(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-hi(e),i=1<<n,s|=t[n],e&=~i;return s}function LL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FL(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-hi(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=LL(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function K0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N2(){var t=$f;return $f<<=1,!($f&4194240)&&($f=64),t}function pv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=n}function VL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hi(n),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~a}}function hj(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-hi(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var At=0;function _2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C2,mj,E2,S2,k2,Q0=!1,zf=[],So=null,ko=null,To=null,Ah=new Map,Ph=new Map,ao=[],UL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PC(t,e){switch(t){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(e.pointerId)}}function Pd(t,e,n,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Mm(e),e!==null&&mj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $L(t,e,n,s,i){switch(e){case"focusin":return So=Pd(So,t,e,n,s,i),!0;case"dragenter":return ko=Pd(ko,t,e,n,s,i),!0;case"mouseover":return To=Pd(To,t,e,n,s,i),!0;case"pointerover":var a=i.pointerId;return Ah.set(a,Pd(Ah.get(a)||null,t,e,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Ph.set(a,Pd(Ph.get(a)||null,t,e,n,s,i)),!0}return!1}function T2(t){var e=Cl(t.target);if(e!==null){var n=bc(e);if(n!==null){if(e=n.tag,e===13){if(e=x2(n),e!==null){t.blockedOn=e,k2(t.priority,function(){E2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Z0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);q0=s,n.target.dispatchEvent(s),q0=null}else return e=Mm(n),e!==null&&mj(e),t.blockedOn=n,!1;e.shift()}return!0}function DC(t,e,n){vp(t)&&n.delete(e)}function BL(){Q0=!1,So!==null&&vp(So)&&(So=null),ko!==null&&vp(ko)&&(ko=null),To!==null&&vp(To)&&(To=null),Ah.forEach(DC),Ph.forEach(DC)}function Dd(t,e){t.blockedOn===e&&(t.blockedOn=null,Q0||(Q0=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,BL)))}function Dh(t){function e(i){return Dd(i,t)}if(0<zf.length){Dd(zf[0],t);for(var n=1;n<zf.length;n++){var s=zf[n];s.blockedOn===t&&(s.blockedOn=null)}}for(So!==null&&Dd(So,t),ko!==null&&Dd(ko,t),To!==null&&Dd(To,t),Ah.forEach(e),Ph.forEach(e),n=0;n<ao.length;n++)s=ao[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)T2(n),n.blockedOn===null&&ao.shift()}var ou=Wa.ReactCurrentBatchConfig,ig=!0;function zL(t,e,n,s){var i=At,a=ou.transition;ou.transition=null;try{At=1,fj(t,e,n,s)}finally{At=i,ou.transition=a}}function WL(t,e,n,s){var i=At,a=ou.transition;ou.transition=null;try{At=4,fj(t,e,n,s)}finally{At=i,ou.transition=a}}function fj(t,e,n,s){if(ig){var i=Z0(t,e,n,s);if(i===null)Cv(t,e,s,ag,n),PC(t,s);else if($L(i,t,e,n,s))s.stopPropagation();else if(PC(t,s),e&4&&-1<UL.indexOf(t)){for(;i!==null;){var a=Mm(i);if(a!==null&&C2(a),a=Z0(t,e,n,s),a===null&&Cv(t,e,s,ag,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Cv(t,e,s,null,n)}}var ag=null;function Z0(t,e,n,s){if(ag=null,t=uj(s),t=Cl(t),t!==null)if(e=bc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ag=t,null}function I2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RL()){case dj:return 1;case w2:return 4;case sg:case AL:return 16;case j2:return 536870912;default:return 16}default:return 16}}var No=null,pj=null,bp=null;function R2(){if(bp)return bp;var t,e=pj,n=e.length,s,i="value"in No?No.value:No.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[a-s];s++);return bp=i.slice(t,1<s?1-s:void 0)}function wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function MC(){return!1}function kr(t){function e(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wf:MC,this.isPropagationStopped=MC,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gj=kr(rd),Dm=an({},rd,{view:0,detail:0}),qL=kr(Dm),gv,xv,Md,yx=an({},Dm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Md&&(Md&&t.type==="mousemove"?(gv=t.screenX-Md.screenX,xv=t.screenY-Md.screenY):xv=gv=0,Md=t),gv)},movementY:function(t){return"movementY"in t?t.movementY:xv}}),OC=kr(yx),HL=an({},yx,{dataTransfer:0}),GL=kr(HL),YL=an({},Dm,{relatedTarget:0}),yv=kr(YL),KL=an({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),QL=kr(KL),ZL=an({},rd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XL=kr(ZL),JL=an({},rd,{data:0}),LC=kr(JL),eF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nF[t])?!!e[t]:!1}function xj(){return sF}var rF=an({},Dm,{key:function(t){if(t.key){var e=eF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xj,charCode:function(t){return t.type==="keypress"?wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iF=kr(rF),aF=an({},yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FC=kr(aF),oF=an({},Dm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xj}),lF=kr(oF),cF=an({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),uF=kr(cF),dF=an({},yx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hF=kr(dF),mF=[9,13,27,32],yj=Ta&&"CompositionEvent"in window,dh=null;Ta&&"documentMode"in document&&(dh=document.documentMode);var fF=Ta&&"TextEvent"in window&&!dh,A2=Ta&&(!yj||dh&&8<dh&&11>=dh),VC=" ",UC=!1;function P2(t,e){switch(t){case"keyup":return mF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gc=!1;function pF(t,e){switch(t){case"compositionend":return D2(e);case"keypress":return e.which!==32?null:(UC=!0,VC);case"textInput":return t=e.data,t===VC&&UC?null:t;default:return null}}function gF(t,e){if(Gc)return t==="compositionend"||!yj&&P2(t,e)?(t=R2(),bp=pj=No=null,Gc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A2&&e.locale!=="ko"?null:e.data;default:return null}}var xF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xF[t.type]:e==="textarea"}function M2(t,e,n,s){h2(s),e=og(e,"onChange"),0<e.length&&(n=new gj("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var hh=null,Mh=null;function yF(t){H2(t,0)}function vx(t){var e=Qc(t);if(i2(e))return t}function vF(t,e){if(t==="change")return e}var O2=!1;if(Ta){var vv;if(Ta){var bv="oninput"in document;if(!bv){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),bv=typeof BC.oninput=="function"}vv=bv}else vv=!1;O2=vv&&(!document.documentMode||9<document.documentMode)}function zC(){hh&&(hh.detachEvent("onpropertychange",L2),Mh=hh=null)}function L2(t){if(t.propertyName==="value"&&vx(Mh)){var e=[];M2(e,Mh,t,uj(t)),g2(yF,e)}}function bF(t,e,n){t==="focusin"?(zC(),hh=e,Mh=n,hh.attachEvent("onpropertychange",L2)):t==="focusout"&&zC()}function wF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vx(Mh)}function jF(t,e){if(t==="click")return vx(e)}function NF(t,e){if(t==="input"||t==="change")return vx(e)}function _F(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:_F;function Oh(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!P0.call(e,i)||!gi(t[i],e[i]))return!1}return!0}function WC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qC(t,e){var n=WC(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WC(n)}}function F2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V2(){for(var t=window,e=eg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eg(t.document)}return e}function vj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CF(t){var e=V2(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F2(n.ownerDocument.documentElement,n)){if(s!==null&&vj(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=qC(n,a);var o=qC(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EF=Ta&&"documentMode"in document&&11>=document.documentMode,Yc=null,X0=null,mh=null,J0=!1;function HC(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;J0||Yc==null||Yc!==eg(s)||(s=Yc,"selectionStart"in s&&vj(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),mh&&Oh(mh,s)||(mh=s,s=og(X0,"onSelect"),0<s.length&&(e=new gj("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Yc)))}function qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kc={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},wv={},U2={};Ta&&(U2=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function bx(t){if(wv[t])return wv[t];if(!Kc[t])return t;var e=Kc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U2)return wv[t]=e[n];return t}var $2=bx("animationend"),B2=bx("animationiteration"),z2=bx("animationstart"),W2=bx("transitionend"),q2=new Map,GC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){q2.set(t,e),vc(e,[t])}for(var jv=0;jv<GC.length;jv++){var Nv=GC[jv],SF=Nv.toLowerCase(),kF=Nv[0].toUpperCase()+Nv.slice(1);tl(SF,"on"+kF)}tl($2,"onAnimationEnd");tl(B2,"onAnimationIteration");tl(z2,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(W2,"onTransitionEnd");Du("onMouseEnter",["mouseout","mouseover"]);Du("onMouseLeave",["mouseout","mouseover"]);Du("onPointerEnter",["pointerout","pointerover"]);Du("onPointerLeave",["pointerout","pointerover"]);vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vc("onBeforeInput",["compositionend","keypress","textInput","paste"]);vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zd));function YC(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,SL(s,e,void 0,t),t.currentTarget=null}function H2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;YC(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;YC(i,l,u),a=c}}}if(ng)throw t=Y0,ng=!1,Y0=null,t}function Ht(t,e){var n=e[rb];n===void 0&&(n=e[rb]=new Set);var s=t+"__bubble";n.has(s)||(G2(e,t,2,!1),n.add(s))}function _v(t,e,n){var s=0;e&&(s|=4),G2(n,t,s,e)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[Hf]){t[Hf]=!0,e2.forEach(function(n){n!=="selectionchange"&&(TF.has(n)||_v(n,!1,t),_v(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hf]||(e[Hf]=!0,_v("selectionchange",!1,e))}}function G2(t,e,n,s){switch(I2(e)){case 1:var i=zL;break;case 4:i=WL;break;default:i=fj}n=i.bind(null,e,n,t),i=void 0,!G0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cv(t,e,n,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Cl(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}g2(function(){var u=a,d=uj(n),m=[];e:{var f=q2.get(t);if(f!==void 0){var g=gj,x=t;switch(t){case"keypress":if(wp(n)===0)break e;case"keydown":case"keyup":g=iF;break;case"focusin":x="focus",g=yv;break;case"focusout":x="blur",g=yv;break;case"beforeblur":case"afterblur":g=yv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=OC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lF;break;case $2:case B2:case z2:g=QL;break;case W2:g=uF;break;case"scroll":g=qL;break;case"wheel":g=hF;break;case"copy":case"cut":case"paste":g=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=FC}var b=(e&4)!==0,y=!b&&t==="scroll",w=b?f!==null?f+"Capture":null:f;b=[];for(var v=u,N;v!==null;){N=v;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,w!==null&&(I=Rh(v,w),I!=null&&b.push(Fh(v,I,N)))),y)break;v=v.return}0<b.length&&(f=new g(f,x,null,n,d),m.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==q0&&(x=n.relatedTarget||n.fromElement)&&(Cl(x)||x[Ia]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Cl(x):null,x!==null&&(y=bc(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(b=OC,I="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(b=FC,I="onPointerLeave",w="onPointerEnter",v="pointer"),y=g==null?f:Qc(g),N=x==null?f:Qc(x),f=new b(I,v+"leave",g,n,d),f.target=y,f.relatedTarget=N,I=null,Cl(d)===u&&(b=new b(w,v+"enter",x,n,d),b.target=N,b.relatedTarget=y,I=b),y=I,g&&x)t:{for(b=g,w=x,v=0,N=b;N;N=Mc(N))v++;for(N=0,I=w;I;I=Mc(I))N++;for(;0<v-N;)b=Mc(b),v--;for(;0<N-v;)w=Mc(w),N--;for(;v--;){if(b===w||w!==null&&b===w.alternate)break t;b=Mc(b),w=Mc(w)}b=null}else b=null;g!==null&&KC(m,f,g,b,!1),x!==null&&y!==null&&KC(m,y,x,b,!0)}}e:{if(f=u?Qc(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var V=vF;else if($C(f))if(O2)V=NF;else{V=wF;var z=bF}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=jF);if(V&&(V=V(t,u))){M2(m,V,n,d);break e}z&&z(t,f,u),t==="focusout"&&(z=f._wrapperState)&&z.controlled&&f.type==="number"&&U0(f,"number",f.value)}switch(z=u?Qc(u):window,t){case"focusin":($C(z)||z.contentEditable==="true")&&(Yc=z,X0=u,mh=null);break;case"focusout":mh=X0=Yc=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,HC(m,n,d);break;case"selectionchange":if(EF)break;case"keydown":case"keyup":HC(m,n,d)}var A;if(yj)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gc?P2(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(A2&&n.locale!=="ko"&&(Gc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gc&&(A=R2()):(No=d,pj="value"in No?No.value:No.textContent,Gc=!0)),z=og(u,C),0<z.length&&(C=new LC(C,t,null,n,d),m.push({event:C,listeners:z}),A?C.data=A:(A=D2(n),A!==null&&(C.data=A)))),(A=fF?pF(t,n):gF(t,n))&&(u=og(u,"onBeforeInput"),0<u.length&&(d=new LC("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=A))}H2(m,e)})}function Fh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function og(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Rh(t,n),a!=null&&s.unshift(Fh(t,a,i)),a=Rh(t,e),a!=null&&s.push(Fh(t,a,i))),t=t.return}return s}function Mc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KC(t,e,n,s,i){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Rh(n,a),c!=null&&o.unshift(Fh(n,c,l))):i||(c=Rh(n,a),c!=null&&o.push(Fh(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IF=/\r\n?/g,RF=/\u0000|\uFFFD/g;function QC(t){return(typeof t=="string"?t:""+t).replace(IF,`
`).replace(RF,"")}function Gf(t,e,n){if(e=QC(e),QC(t)!==e&&n)throw Error(ge(425))}function lg(){}var eb=null,tb=null;function nb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sb=typeof setTimeout=="function"?setTimeout:void 0,AF=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,PF=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(t){return ZC.resolve(null).then(t).catch(DF)}:sb;function DF(t){setTimeout(function(){throw t})}function Ev(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Dh(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Dh(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var id=Math.random().toString(36).slice(2),Di="__reactFiber$"+id,Vh="__reactProps$"+id,Ia="__reactContainer$"+id,rb="__reactEvents$"+id,MF="__reactListeners$"+id,OF="__reactHandles$"+id;function Cl(t){var e=t[Di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ia]||n[Di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XC(t);t!==null;){if(n=t[Di])return n;t=XC(t)}return e}t=n,n=t.parentNode}return null}function Mm(t){return t=t[Di]||t[Ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function wx(t){return t[Vh]||null}var ib=[],Zc=-1;function nl(t){return{current:t}}function Zt(t){0>Zc||(t.current=ib[Zc],ib[Zc]=null,Zc--)}function $t(t,e){Zc++,ib[Zc]=t.current,t.current=e}var Bo={},gs=nl(Bo),Gs=nl(!1),Yl=Bo;function Mu(t,e){var n=t.type.contextTypes;if(!n)return Bo;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ys(t){return t=t.childContextTypes,t!=null}function cg(){Zt(Gs),Zt(gs)}function JC(t,e,n){if(gs.current!==Bo)throw Error(ge(168));$t(gs,e),$t(Gs,n)}function Y2(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(ge(108,bL(t)||"Unknown",i));return an({},n,s)}function ug(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bo,Yl=gs.current,$t(gs,t),$t(Gs,Gs.current),!0}function eE(t,e,n){var s=t.stateNode;if(!s)throw Error(ge(169));n?(t=Y2(t,e,Yl),s.__reactInternalMemoizedMergedChildContext=t,Zt(Gs),Zt(gs),$t(gs,t)):Zt(Gs),$t(Gs,n)}var xa=null,jx=!1,Sv=!1;function K2(t){xa===null?xa=[t]:xa.push(t)}function LF(t){jx=!0,K2(t)}function sl(){if(!Sv&&xa!==null){Sv=!0;var t=0,e=At;try{var n=xa;for(At=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}xa=null,jx=!1}catch(i){throw xa!==null&&(xa=xa.slice(t+1)),b2(dj,sl),i}finally{At=e,Sv=!1}}return null}var Xc=[],Jc=0,dg=null,hg=0,Dr=[],Mr=0,Kl=null,va=1,ba="";function vl(t,e){Xc[Jc++]=hg,Xc[Jc++]=dg,dg=t,hg=e}function Q2(t,e,n){Dr[Mr++]=va,Dr[Mr++]=ba,Dr[Mr++]=Kl,Kl=t;var s=va;t=ba;var i=32-hi(s)-1;s&=~(1<<i),n+=1;var a=32-hi(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,va=1<<32-hi(e)+i|n<<i|s,ba=a+t}else va=1<<a|n<<i|s,ba=t}function bj(t){t.return!==null&&(vl(t,1),Q2(t,1,0))}function wj(t){for(;t===dg;)dg=Xc[--Jc],Xc[Jc]=null,hg=Xc[--Jc],Xc[Jc]=null;for(;t===Kl;)Kl=Dr[--Mr],Dr[Mr]=null,ba=Dr[--Mr],Dr[Mr]=null,va=Dr[--Mr],Dr[Mr]=null}var yr=null,fr=null,Xt=!1,oi=null;function Z2(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,fr=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kl!==null?{id:va,overflow:ba}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,fr=null,!0):!1;default:return!1}}function ab(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ob(t){if(Xt){var e=fr;if(e){var n=e;if(!tE(t,e)){if(ab(t))throw Error(ge(418));e=Io(n.nextSibling);var s=yr;e&&tE(t,e)?Z2(s,n):(t.flags=t.flags&-4097|2,Xt=!1,yr=t)}}else{if(ab(t))throw Error(ge(418));t.flags=t.flags&-4097|2,Xt=!1,yr=t}}}function nE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function Yf(t){if(t!==yr)return!1;if(!Xt)return nE(t),Xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nb(t.type,t.memoizedProps)),e&&(e=fr)){if(ab(t))throw X2(),Error(ge(418));for(;e;)Z2(t,e),e=Io(e.nextSibling)}if(nE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=yr?Io(t.stateNode.nextSibling):null;return!0}function X2(){for(var t=fr;t;)t=Io(t.nextSibling)}function Ou(){fr=yr=null,Xt=!1}function jj(t){oi===null?oi=[t]:oi.push(t)}var FF=Wa.ReactCurrentBatchConfig;function Od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var s=n.stateNode}if(!s)throw Error(ge(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,t))}return t}function Kf(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sE(t){var e=t._init;return e(t._payload)}function J2(t){function e(w,v){if(t){var N=w.deletions;N===null?(w.deletions=[v],w.flags|=16):N.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function s(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Do(w,v),w.index=0,w.sibling=null,w}function a(w,v,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<v?(w.flags|=2,v):N):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,N,I){return v===null||v.tag!==6?(v=Dv(N,w.mode,I),v.return=w,v):(v=i(v,N),v.return=w,v)}function c(w,v,N,I){var V=N.type;return V===Hc?d(w,v,N.props.children,I,N.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ro&&sE(V)===v.type)?(I=i(v,N.props),I.ref=Od(w,v,N),I.return=w,I):(I=kp(N.type,N.key,N.props,null,w.mode,I),I.ref=Od(w,v,N),I.return=w,I)}function u(w,v,N,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=Mv(N,w.mode,I),v.return=w,v):(v=i(v,N.children||[]),v.return=w,v)}function d(w,v,N,I,V){return v===null||v.tag!==7?(v=$l(N,w.mode,I,V),v.return=w,v):(v=i(v,N),v.return=w,v)}function m(w,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dv(""+v,w.mode,N),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ff:return N=kp(v.type,v.key,v.props,null,w.mode,N),N.ref=Od(w,null,v),N.return=w,N;case qc:return v=Mv(v,w.mode,N),v.return=w,v;case ro:var I=v._init;return m(w,I(v._payload),N)}if(Kd(v)||Rd(v))return v=$l(v,w.mode,N,null),v.return=w,v;Kf(w,v)}return null}function f(w,v,N,I){var V=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return V!==null?null:l(w,v,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ff:return N.key===V?c(w,v,N,I):null;case qc:return N.key===V?u(w,v,N,I):null;case ro:return V=N._init,f(w,v,V(N._payload),I)}if(Kd(N)||Rd(N))return V!==null?null:d(w,v,N,I,null);Kf(w,N)}return null}function g(w,v,N,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(N)||null,l(v,w,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ff:return w=w.get(I.key===null?N:I.key)||null,c(v,w,I,V);case qc:return w=w.get(I.key===null?N:I.key)||null,u(v,w,I,V);case ro:var z=I._init;return g(w,v,N,z(I._payload),V)}if(Kd(I)||Rd(I))return w=w.get(N)||null,d(v,w,I,V,null);Kf(v,I)}return null}function x(w,v,N,I){for(var V=null,z=null,A=v,C=v=0,R=null;A!==null&&C<N.length;C++){A.index>C?(R=A,A=null):R=A.sibling;var k=f(w,A,N[C],I);if(k===null){A===null&&(A=R);break}t&&A&&k.alternate===null&&e(w,A),v=a(k,v,C),z===null?V=k:z.sibling=k,z=k,A=R}if(C===N.length)return n(w,A),Xt&&vl(w,C),V;if(A===null){for(;C<N.length;C++)A=m(w,N[C],I),A!==null&&(v=a(A,v,C),z===null?V=A:z.sibling=A,z=A);return Xt&&vl(w,C),V}for(A=s(w,A);C<N.length;C++)R=g(A,w,C,N[C],I),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?C:R.key),v=a(R,v,C),z===null?V=R:z.sibling=R,z=R);return t&&A.forEach(function(D){return e(w,D)}),Xt&&vl(w,C),V}function b(w,v,N,I){var V=Rd(N);if(typeof V!="function")throw Error(ge(150));if(N=V.call(N),N==null)throw Error(ge(151));for(var z=V=null,A=v,C=v=0,R=null,k=N.next();A!==null&&!k.done;C++,k=N.next()){A.index>C?(R=A,A=null):R=A.sibling;var D=f(w,A,k.value,I);if(D===null){A===null&&(A=R);break}t&&A&&D.alternate===null&&e(w,A),v=a(D,v,C),z===null?V=D:z.sibling=D,z=D,A=R}if(k.done)return n(w,A),Xt&&vl(w,C),V;if(A===null){for(;!k.done;C++,k=N.next())k=m(w,k.value,I),k!==null&&(v=a(k,v,C),z===null?V=k:z.sibling=k,z=k);return Xt&&vl(w,C),V}for(A=s(w,A);!k.done;C++,k=N.next())k=g(A,w,C,k.value,I),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),v=a(k,v,C),z===null?V=k:z.sibling=k,z=k);return t&&A.forEach(function(S){return e(w,S)}),Xt&&vl(w,C),V}function y(w,v,N,I){if(typeof N=="object"&&N!==null&&N.type===Hc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Ff:e:{for(var V=N.key,z=v;z!==null;){if(z.key===V){if(V=N.type,V===Hc){if(z.tag===7){n(w,z.sibling),v=i(z,N.props.children),v.return=w,w=v;break e}}else if(z.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ro&&sE(V)===z.type){n(w,z.sibling),v=i(z,N.props),v.ref=Od(w,z,N),v.return=w,w=v;break e}n(w,z);break}else e(w,z);z=z.sibling}N.type===Hc?(v=$l(N.props.children,w.mode,I,N.key),v.return=w,w=v):(I=kp(N.type,N.key,N.props,null,w.mode,I),I.ref=Od(w,v,N),I.return=w,w=I)}return o(w);case qc:e:{for(z=N.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(w,v.sibling),v=i(v,N.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Mv(N,w.mode,I),v.return=w,w=v}return o(w);case ro:return z=N._init,y(w,v,z(N._payload),I)}if(Kd(N))return x(w,v,N,I);if(Rd(N))return b(w,v,N,I);Kf(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,N),v.return=w,w=v):(n(w,v),v=Dv(N,w.mode,I),v.return=w,w=v),o(w)):n(w,v)}return y}var Lu=J2(!0),eI=J2(!1),mg=nl(null),fg=null,eu=null,Nj=null;function _j(){Nj=eu=fg=null}function Cj(t){var e=mg.current;Zt(mg),t._currentValue=e}function lb(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function lu(t,e){fg=t,Nj=eu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ws=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(Nj!==t)if(t={context:t,memoizedValue:e,next:null},eu===null){if(fg===null)throw Error(ge(308));eu=t,fg.dependencies={lanes:0,firstContext:t}}else eu=eu.next=t;return e}var El=null;function Ej(t){El===null?El=[t]:El.push(t)}function tI(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Ej(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ra(t,s)}function Ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var io=!1;function Sj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,vt&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Ra(t,n)}return i=s.interleaved,i===null?(e.next=e,Ej(s)):(e.next=i.next,i.next=e),s.interleaved=e,Ra(t,n)}function jp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,hj(t,n)}}function rE(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pg(t,e,n,s){var i=t.updateQueue;io=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,b=l;switch(f=e,g=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){m=x.call(g,m,f);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,f=typeof x=="function"?x.call(g,m,f):x,f==null)break e;m=an({},m,f);break e;case 2:io=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=m):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Zl|=o,t.lanes=o,t.memoizedState=m}}function iE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(ge(191,i));i.call(s)}}}var Om={},Bi=nl(Om),Uh=nl(Om),$h=nl(Om);function Sl(t){if(t===Om)throw Error(ge(174));return t}function kj(t,e){switch($t($h,e),$t(Uh,t),$t(Bi,Om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B0(e,t)}Zt(Bi),$t(Bi,e)}function Fu(){Zt(Bi),Zt(Uh),Zt($h)}function sI(t){Sl($h.current);var e=Sl(Bi.current),n=B0(e,t.type);e!==n&&($t(Uh,t),$t(Bi,n))}function Tj(t){Uh.current===t&&(Zt(Bi),Zt(Uh))}var nn=nl(0);function gg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kv=[];function Ij(){for(var t=0;t<kv.length;t++)kv[t]._workInProgressVersionPrimary=null;kv.length=0}var Np=Wa.ReactCurrentDispatcher,Tv=Wa.ReactCurrentBatchConfig,Ql=0,rn=null,kn=null,On=null,xg=!1,fh=!1,Bh=0,VF=0;function os(){throw Error(ge(321))}function Rj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function Aj(t,e,n,s,i,a){if(Ql=a,rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Np.current=t===null||t.memoizedState===null?zF:WF,t=n(s,i),fh){a=0;do{if(fh=!1,Bh=0,25<=a)throw Error(ge(301));a+=1,On=kn=null,e.updateQueue=null,Np.current=qF,t=n(s,i)}while(fh)}if(Np.current=yg,e=kn!==null&&kn.next!==null,Ql=0,On=kn=rn=null,xg=!1,e)throw Error(ge(300));return t}function Pj(){var t=Bh!==0;return Bh=0,t}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?rn.memoizedState=On=t:On=On.next=t,On}function Yr(){if(kn===null){var t=rn.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var e=On===null?rn.memoizedState:On.next;if(e!==null)On=e,kn=t;else{if(t===null)throw Error(ge(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},On===null?rn.memoizedState=On=t:On=On.next=t}return On}function zh(t,e){return typeof e=="function"?e(t):e}function Iv(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var s=kn,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ql&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,rn.lanes|=d,Zl|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,gi(s,e.memoizedState)||(Ws=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do a=i.lane,rn.lanes|=a,Zl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rv(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);gi(a,e.memoizedState)||(Ws=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function rI(){}function iI(t,e){var n=rn,s=Yr(),i=e(),a=!gi(s.memoizedState,i);if(a&&(s.memoizedState=i,Ws=!0),s=s.queue,Dj(lI.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,Wh(9,oI.bind(null,n,s,i,e),void 0,null),zn===null)throw Error(ge(349));Ql&30||aI(n,e,i)}return i}function aI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oI(t,e,n,s){e.value=n,e.getSnapshot=s,cI(e)&&uI(t)}function lI(t,e,n){return n(function(){cI(e)&&uI(t)})}function cI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch{return!0}}function uI(t){var e=Ra(t,1);e!==null&&mi(e,t,1,-1)}function aE(t){var e=Ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:t},e.queue=t,t=t.dispatch=BF.bind(null,rn,t),[e.memoizedState,t]}function Wh(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function dI(){return Yr().memoizedState}function _p(t,e,n,s){var i=Ti();rn.flags|=t,i.memoizedState=Wh(1|e,n,void 0,s===void 0?null:s)}function Nx(t,e,n,s){var i=Yr();s=s===void 0?null:s;var a=void 0;if(kn!==null){var o=kn.memoizedState;if(a=o.destroy,s!==null&&Rj(s,o.deps)){i.memoizedState=Wh(e,n,a,s);return}}rn.flags|=t,i.memoizedState=Wh(1|e,n,a,s)}function oE(t,e){return _p(8390656,8,t,e)}function Dj(t,e){return Nx(2048,8,t,e)}function hI(t,e){return Nx(4,2,t,e)}function mI(t,e){return Nx(4,4,t,e)}function fI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pI(t,e,n){return n=n!=null?n.concat([t]):null,Nx(4,4,fI.bind(null,e,t),n)}function Mj(){}function gI(t,e){var n=Yr();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Rj(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function xI(t,e){var n=Yr();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Rj(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function yI(t,e,n){return Ql&21?(gi(n,e)||(n=N2(),rn.lanes|=n,Zl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ws=!0),t.memoizedState=n)}function UF(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var s=Tv.transition;Tv.transition={};try{t(!1),e()}finally{At=n,Tv.transition=s}}function vI(){return Yr().memoizedState}function $F(t,e,n){var s=Po(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bI(t))wI(e,n);else if(n=tI(t,e,n,s),n!==null){var i=Is();mi(n,t,s,i),jI(n,e,s)}}function BF(t,e,n){var s=Po(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bI(t))wI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,gi(l,o)){var c=e.interleaved;c===null?(i.next=i,Ej(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=tI(t,e,i,s),n!==null&&(i=Is(),mi(n,t,s,i),jI(n,e,s))}}function bI(t){var e=t.alternate;return t===rn||e!==null&&e===rn}function wI(t,e){fh=xg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jI(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,hj(t,n)}}var yg={readContext:Gr,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useInsertionEffect:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useSyncExternalStore:os,useId:os,unstable_isNewReconciler:!1},zF={readContext:Gr,useCallback:function(t,e){return Ti().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:oE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_p(4194308,4,fI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _p(4194308,4,t,e)},useInsertionEffect:function(t,e){return _p(4,2,t,e)},useMemo:function(t,e){var n=Ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ti();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=$F.bind(null,rn,t),[s.memoizedState,t]},useRef:function(t){var e=Ti();return t={current:t},e.memoizedState=t},useState:aE,useDebugValue:Mj,useDeferredValue:function(t){return Ti().memoizedState=t},useTransition:function(){var t=aE(!1),e=t[0];return t=UF.bind(null,t[1]),Ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=rn,i=Ti();if(Xt){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=e(),zn===null)throw Error(ge(349));Ql&30||aI(s,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,oE(lI.bind(null,s,a,t),[t]),s.flags|=2048,Wh(9,oI.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=Ti(),e=zn.identifierPrefix;if(Xt){var n=ba,s=va;n=(s&~(1<<32-hi(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WF={readContext:Gr,useCallback:gI,useContext:Gr,useEffect:Dj,useImperativeHandle:pI,useInsertionEffect:hI,useLayoutEffect:mI,useMemo:xI,useReducer:Iv,useRef:dI,useState:function(){return Iv(zh)},useDebugValue:Mj,useDeferredValue:function(t){var e=Yr();return yI(e,kn.memoizedState,t)},useTransition:function(){var t=Iv(zh)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:iI,useId:vI,unstable_isNewReconciler:!1},qF={readContext:Gr,useCallback:gI,useContext:Gr,useEffect:Dj,useImperativeHandle:pI,useInsertionEffect:hI,useLayoutEffect:mI,useMemo:xI,useReducer:Rv,useRef:dI,useState:function(){return Rv(zh)},useDebugValue:Mj,useDeferredValue:function(t){var e=Yr();return kn===null?e.memoizedState=t:yI(e,kn.memoizedState,t)},useTransition:function(){var t=Rv(zh)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:iI,useId:vI,unstable_isNewReconciler:!1};function si(t,e){if(t&&t.defaultProps){e=an({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cb(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:an({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _x={isMounted:function(t){return(t=t._reactInternals)?bc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Is(),i=Po(t),a=Ca(s,i);a.payload=e,n!=null&&(a.callback=n),e=Ro(t,a,i),e!==null&&(mi(e,t,i,s),jp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Is(),i=Po(t),a=Ca(s,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ro(t,a,i),e!==null&&(mi(e,t,i,s),jp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Is(),s=Po(t),i=Ca(n,s);i.tag=2,e!=null&&(i.callback=e),e=Ro(t,i,s),e!==null&&(mi(e,t,s,n),jp(e,t,s))}};function lE(t,e,n,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!Oh(n,s)||!Oh(i,a):!0}function NI(t,e,n){var s=!1,i=Bo,a=e.contextType;return typeof a=="object"&&a!==null?a=Gr(a):(i=Ys(e)?Yl:gs.current,s=e.contextTypes,a=(s=s!=null)?Mu(t,i):Bo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_x,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function cE(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&_x.enqueueReplaceState(e,e.state,null)}function ub(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sj(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gr(a):(a=Ys(e)?Yl:gs.current,i.context=Mu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(cb(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_x.enqueueReplaceState(i,i.state,null),pg(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vu(t,e){try{var n="",s=e;do n+=vL(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Av(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function db(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HF=typeof WeakMap=="function"?WeakMap:Map;function _I(t,e,n){n=Ca(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){bg||(bg=!0,wb=s),db(t,e)},n}function CI(t,e,n){n=Ca(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){db(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){db(t,e),typeof s!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uE(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new HF;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=aV.bind(null,t,e,n),e.then(t,t))}function dE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hE(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ca(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var GF=Wa.ReactCurrentOwner,Ws=!1;function Cs(t,e,n,s){e.child=t===null?eI(e,null,n,s):Lu(e,t.child,n,s)}function mE(t,e,n,s,i){n=n.render;var a=e.ref;return lu(e,i),s=Aj(t,e,n,s,a,i),n=Pj(),t!==null&&!Ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Aa(t,e,i)):(Xt&&n&&bj(e),e.flags|=1,Cs(t,e,s,i),e.child)}function fE(t,e,n,s,i){if(t===null){var a=n.type;return typeof a=="function"&&!zj(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,EI(t,e,a,s,i)):(t=kp(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Oh,n(o,s)&&t.ref===e.ref)return Aa(t,e,i)}return e.flags|=1,t=Do(a,s),t.ref=e.ref,t.return=e,e.child=t}function EI(t,e,n,s,i){if(t!==null){var a=t.memoizedProps;if(Oh(a,s)&&t.ref===e.ref)if(Ws=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Ws=!0);else return e.lanes=t.lanes,Aa(t,e,i)}return hb(t,e,n,s,i)}function SI(t,e,n){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(nu,ar),ar|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(nu,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,$t(nu,ar),ar|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,$t(nu,ar),ar|=s;return Cs(t,e,i,n),e.child}function kI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hb(t,e,n,s,i){var a=Ys(n)?Yl:gs.current;return a=Mu(e,a),lu(e,i),n=Aj(t,e,n,s,a,i),s=Pj(),t!==null&&!Ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Aa(t,e,i)):(Xt&&s&&bj(e),e.flags|=1,Cs(t,e,n,i),e.child)}function pE(t,e,n,s,i){if(Ys(n)){var a=!0;ug(e)}else a=!1;if(lu(e,i),e.stateNode===null)Cp(t,e),NI(e,n,s),ub(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gr(u):(u=Ys(n)?Yl:gs.current,u=Mu(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&cE(e,o,s,u),io=!1;var f=e.memoizedState;o.state=f,pg(e,s,o,i),c=e.memoizedState,l!==s||f!==c||Gs.current||io?(typeof d=="function"&&(cb(e,n,d,s),c=e.memoizedState),(l=io||lE(e,n,l,s,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,nI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:si(e.type,l),o.props=u,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gr(c):(c=Ys(n)?Yl:gs.current,c=Mu(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&cE(e,o,s,c),io=!1,f=e.memoizedState,o.state=f,pg(e,s,o,i);var x=e.memoizedState;l!==m||f!==x||Gs.current||io?(typeof g=="function"&&(cb(e,n,g,s),x=e.memoizedState),(u=io||lE(e,n,u,s,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return mb(t,e,n,s,a,i)}function mb(t,e,n,s,i,a){kI(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&eE(e,n,!1),Aa(t,e,a);s=e.stateNode,GF.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Lu(e,t.child,null,a),e.child=Lu(e,null,l,a)):Cs(t,e,l,a),e.memoizedState=s.state,i&&eE(e,n,!0),e.child}function TI(t){var e=t.stateNode;e.pendingContext?JC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JC(t,e.context,!1),kj(t,e.containerInfo)}function gE(t,e,n,s,i){return Ou(),jj(i),e.flags|=256,Cs(t,e,n,s),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function pb(t){return{baseLanes:t,cachePool:null,transitions:null}}function II(t,e,n){var s=e.pendingProps,i=nn.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(nn,i&1),t===null)return ob(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Sx(o,s,0,null),t=$l(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=pb(n),e.memoizedState=fb,t):Oj(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return YF(t,e,o,s,l,i,n);if(a){a=s.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Do(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Do(l,a):(a=$l(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?pb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=fb,s}return a=t.child,t=a.sibling,s=Do(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Oj(t,e){return e=Sx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,n,s){return s!==null&&jj(s),Lu(e,t.child,null,n),t=Oj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YF(t,e,n,s,i,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Av(Error(ge(422))),Qf(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=Sx({mode:"visible",children:s.children},i,0,null),a=$l(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&Lu(e,t.child,null,o),e.child.memoizedState=pb(o),e.memoizedState=fb,a);if(!(e.mode&1))return Qf(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(ge(419)),s=Av(a,s,void 0),Qf(t,e,o,s)}if(l=(o&t.childLanes)!==0,Ws||l){if(s=zn,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ra(t,i),mi(s,t,i,-1))}return Bj(),s=Av(Error(ge(421))),Qf(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,fr=Io(i.nextSibling),yr=e,Xt=!0,oi=null,t!==null&&(Dr[Mr++]=va,Dr[Mr++]=ba,Dr[Mr++]=Kl,va=t.id,ba=t.overflow,Kl=e),e=Oj(e,s.children),e.flags|=4096,e)}function xE(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),lb(t.return,e,n)}function Pv(t,e,n,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function RI(t,e,n){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(Cs(t,e,s.children,n),s=nn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xE(t,n,e);else if(t.tag===19)xE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if($t(nn,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pv(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pv(e,!0,n,null,a);break;case"together":Pv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,n=Do(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Do(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KF(t,e,n){switch(e.tag){case 3:TI(e),Ou();break;case 5:sI(e);break;case 1:Ys(e.type)&&ug(e);break;case 4:kj(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;$t(mg,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?($t(nn,nn.current&1),e.flags|=128,null):n&e.child.childLanes?II(t,e,n):($t(nn,nn.current&1),t=Aa(t,e,n),t!==null?t.sibling:null);$t(nn,nn.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return RI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(nn,nn.current),s)break;return null;case 22:case 23:return e.lanes=0,SI(t,e,n)}return Aa(t,e,n)}var AI,gb,PI,DI;AI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gb=function(){};PI=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Sl(Bi.current);var a=null;switch(n){case"input":i=F0(t,i),s=F0(t,s),a=[];break;case"select":i=an({},i,{value:void 0}),s=an({},s,{value:void 0}),a=[];break;case"textarea":i=$0(t,i),s=$0(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=lg)}z0(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Th.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Th.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ht("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};DI=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ld(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ls(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function QF(t,e,n){var s=e.pendingProps;switch(wj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ls(e),null;case 1:return Ys(e.type)&&cg(),ls(e),null;case 3:return s=e.stateNode,Fu(),Zt(Gs),Zt(gs),Ij(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oi!==null&&(_b(oi),oi=null))),gb(t,e),ls(e),null;case 5:Tj(e);var i=Sl($h.current);if(n=e.type,t!==null&&e.stateNode!=null)PI(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(ge(166));return ls(e),null}if(t=Sl(Bi.current),Yf(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Di]=e,s[Vh]=a,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(i=0;i<Zd.length;i++)Ht(Zd[i],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":EC(s,a),Ht("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",s);break;case"textarea":kC(s,a),Ht("invalid",s)}z0(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Gf(s.textContent,l,t),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Gf(s.textContent,l,t),i=["children",""+l]):Th.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ht("scroll",s)}switch(n){case"input":Vf(s),SC(s,a,!0);break;case"textarea":Vf(s),TC(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=lg)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Di]=e,t[Vh]=s,AI(t,e,!1,!1),e.stateNode=t;e:{switch(o=W0(n,s),n){case"dialog":Ht("cancel",t),Ht("close",t),i=s;break;case"iframe":case"object":case"embed":Ht("load",t),i=s;break;case"video":case"audio":for(i=0;i<Zd.length;i++)Ht(Zd[i],t);i=s;break;case"source":Ht("error",t),i=s;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),i=s;break;case"details":Ht("toggle",t),i=s;break;case"input":EC(t,s),i=F0(t,s),Ht("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=an({},s,{value:void 0}),Ht("invalid",t);break;case"textarea":kC(t,s),i=$0(t,s),Ht("invalid",t);break;default:i=s}z0(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?d2(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&c2(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ih(t,c):typeof c=="number"&&Ih(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Th.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ht("scroll",t):c!=null&&aj(t,a,c,o))}switch(n){case"input":Vf(t),SC(t,s,!1);break;case"textarea":Vf(t),TC(t);break;case"option":s.value!=null&&t.setAttribute("value",""+$o(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?ru(t,!!s.multiple,a,!1):s.defaultValue!=null&&ru(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lg)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ls(e),null;case 6:if(t&&e.stateNode!=null)DI(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ge(166));if(n=Sl($h.current),Sl(Bi.current),Yf(e)){if(s=e.stateNode,n=e.memoizedProps,s[Di]=e,(a=s.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:Gf(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gf(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Di]=e,e.stateNode=s}return ls(e),null;case 13:if(Zt(nn),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xt&&fr!==null&&e.mode&1&&!(e.flags&128))X2(),Ou(),e.flags|=98560,a=!1;else if(a=Yf(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(ge(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[Di]=e}else Ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ls(e),a=!1}else oi!==null&&(_b(oi),oi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||nn.current&1?Rn===0&&(Rn=3):Bj())),e.updateQueue!==null&&(e.flags|=4),ls(e),null);case 4:return Fu(),gb(t,e),t===null&&Lh(e.stateNode.containerInfo),ls(e),null;case 10:return Cj(e.type._context),ls(e),null;case 17:return Ys(e.type)&&cg(),ls(e),null;case 19:if(Zt(nn),a=e.memoizedState,a===null)return ls(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)Ld(a,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gg(t),o!==null){for(e.flags|=128,Ld(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $t(nn,nn.current&1|2),e.child}t=t.sibling}a.tail!==null&&vn()>Uu&&(e.flags|=128,s=!0,Ld(a,!1),e.lanes=4194304)}else{if(!s)if(t=gg(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ld(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xt)return ls(e),null}else 2*vn()-a.renderingStartTime>Uu&&n!==1073741824&&(e.flags|=128,s=!0,Ld(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vn(),e.sibling=null,n=nn.current,$t(nn,s?n&1|2:n&1),e):(ls(e),null);case 22:case 23:return $j(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ar&1073741824&&(ls(e),e.subtreeFlags&6&&(e.flags|=8192)):ls(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function ZF(t,e){switch(wj(e),e.tag){case 1:return Ys(e.type)&&cg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fu(),Zt(Gs),Zt(gs),Ij(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tj(e),null;case 13:if(Zt(nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));Ou()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zt(nn),null;case 4:return Fu(),null;case 10:return Cj(e.type._context),null;case 22:case 23:return $j(),null;case 24:return null;default:return null}}var Zf=!1,hs=!1,XF=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function tu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){un(t,e,s)}else n.current=null}function xb(t,e,n){try{n()}catch(s){un(t,e,s)}}var yE=!1;function JF(t,e){if(eb=ig,t=V2(),vj(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=t,f=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===t)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===s&&(c=o),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tb={focusedElem:t,selectionRange:n},ig=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,y=x.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:si(e.type,b),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(I){un(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return x=yE,yE=!1,x}function ph(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&xb(e,n,a)}i=i.next}while(i!==s)}}function Cx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function yb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MI(t){var e=t.alternate;e!==null&&(t.alternate=null,MI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Di],delete e[Vh],delete e[rb],delete e[MF],delete e[OF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OI(t){return t.tag===5||t.tag===3||t.tag===4}function vE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vb(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lg));else if(s!==4&&(t=t.child,t!==null))for(vb(t,e,n),t=t.sibling;t!==null;)vb(t,e,n),t=t.sibling}function bb(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(bb(t,e,n),t=t.sibling;t!==null;)bb(t,e,n),t=t.sibling}var Gn=null,ai=!1;function Za(t,e,n){for(n=n.child;n!==null;)LI(t,e,n),n=n.sibling}function LI(t,e,n){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(xx,n)}catch{}switch(n.tag){case 5:hs||tu(n,e);case 6:var s=Gn,i=ai;Gn=null,Za(t,e,n),Gn=s,ai=i,Gn!==null&&(ai?(t=Gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(ai?(t=Gn,n=n.stateNode,t.nodeType===8?Ev(t.parentNode,n):t.nodeType===1&&Ev(t,n),Dh(t)):Ev(Gn,n.stateNode));break;case 4:s=Gn,i=ai,Gn=n.stateNode.containerInfo,ai=!0,Za(t,e,n),Gn=s,ai=i;break;case 0:case 11:case 14:case 15:if(!hs&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&xb(n,e,o),i=i.next}while(i!==s)}Za(t,e,n);break;case 1:if(!hs&&(tu(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){un(n,e,l)}Za(t,e,n);break;case 21:Za(t,e,n);break;case 22:n.mode&1?(hs=(s=hs)||n.memoizedState!==null,Za(t,e,n),hs=s):Za(t,e,n);break;default:Za(t,e,n)}}function bE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XF),e.forEach(function(s){var i=lV.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ti(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gn=l.stateNode,ai=!1;break e;case 3:Gn=l.stateNode.containerInfo,ai=!0;break e;case 4:Gn=l.stateNode.containerInfo,ai=!0;break e}l=l.return}if(Gn===null)throw Error(ge(160));LI(a,o,i),Gn=null,ai=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){un(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FI(e,t),e=e.sibling}function FI(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),ki(t),s&4){try{ph(3,t,t.return),Cx(3,t)}catch(b){un(t,t.return,b)}try{ph(5,t,t.return)}catch(b){un(t,t.return,b)}}break;case 1:ti(e,t),ki(t),s&512&&n!==null&&tu(n,n.return);break;case 5:if(ti(e,t),ki(t),s&512&&n!==null&&tu(n,n.return),t.flags&32){var i=t.stateNode;try{Ih(i,"")}catch(b){un(t,t.return,b)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&a2(i,a),W0(l,o);var u=W0(l,a);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?d2(i,m):d==="dangerouslySetInnerHTML"?c2(i,m):d==="children"?Ih(i,m):aj(i,d,m,u)}switch(l){case"input":V0(i,a);break;case"textarea":o2(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ru(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?ru(i,!!a.multiple,a.defaultValue,!0):ru(i,!!a.multiple,a.multiple?[]:"",!1))}i[Vh]=a}catch(b){un(t,t.return,b)}}break;case 6:if(ti(e,t),ki(t),s&4){if(t.stateNode===null)throw Error(ge(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){un(t,t.return,b)}}break;case 3:if(ti(e,t),ki(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Dh(e.containerInfo)}catch(b){un(t,t.return,b)}break;case 4:ti(e,t),ki(t);break;case 13:ti(e,t),ki(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vj=vn())),s&4&&bE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hs=(u=hs)||d,ti(e,t),hs=u):ti(e,t),ki(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ae=t,d=t.child;d!==null;){for(m=Ae=d;Ae!==null;){switch(f=Ae,g=f.child,f.tag){case 0:case 11:case 14:case 15:ph(4,f,f.return);break;case 1:tu(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){un(s,n,b)}}break;case 5:tu(f,f.return);break;case 22:if(f.memoizedState!==null){jE(m);continue}}g!==null?(g.return=f,Ae=g):jE(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=u2("display",o))}catch(b){un(t,t.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){un(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ti(e,t),ki(t),s&4&&bE(t);break;case 21:break;default:ti(e,t),ki(t)}}function ki(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OI(n)){var s=n;break e}n=n.return}throw Error(ge(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ih(i,""),s.flags&=-33);var a=vE(t);bb(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=vE(t);vb(t,l,o);break;default:throw Error(ge(161))}}catch(c){un(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eV(t,e,n){Ae=t,VI(t)}function VI(t,e,n){for(var s=(t.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Zf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hs;l=Zf;var u=hs;if(Zf=o,(hs=c)&&!u)for(Ae=i;Ae!==null;)o=Ae,c=o.child,o.tag===22&&o.memoizedState!==null?NE(i):c!==null?(c.return=o,Ae=c):NE(i);for(;a!==null;)Ae=a,VI(a),a=a.sibling;Ae=i,Zf=l,hs=u}wE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ae=a):wE(t)}}function wE(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hs||Cx(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!hs)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:si(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&iE(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Dh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}hs||e.flags&512&&yb(e)}catch(f){un(e,e.return,f)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function jE(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function NE(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cx(4,e)}catch(c){un(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){un(e,i,c)}}var a=e.return;try{yb(e)}catch(c){un(e,a,c)}break;case 5:var o=e.return;try{yb(e)}catch(c){un(e,o,c)}}}catch(c){un(e,e.return,c)}if(e===t){Ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ae=l;break}Ae=e.return}}var tV=Math.ceil,vg=Wa.ReactCurrentDispatcher,Lj=Wa.ReactCurrentOwner,$r=Wa.ReactCurrentBatchConfig,vt=0,zn=null,_n=null,Zn=0,ar=0,nu=nl(0),Rn=0,qh=null,Zl=0,Ex=0,Fj=0,gh=null,Bs=null,Vj=0,Uu=1/0,ga=null,bg=!1,wb=null,Ao=null,Xf=!1,_o=null,wg=0,xh=0,jb=null,Ep=-1,Sp=0;function Is(){return vt&6?vn():Ep!==-1?Ep:Ep=vn()}function Po(t){return t.mode&1?vt&2&&Zn!==0?Zn&-Zn:FF.transition!==null?(Sp===0&&(Sp=N2()),Sp):(t=At,t!==0||(t=window.event,t=t===void 0?16:I2(t.type)),t):1}function mi(t,e,n,s){if(50<xh)throw xh=0,jb=null,Error(ge(185));Pm(t,n,s),(!(vt&2)||t!==zn)&&(t===zn&&(!(vt&2)&&(Ex|=n),Rn===4&&oo(t,Zn)),Ks(t,s),n===1&&vt===0&&!(e.mode&1)&&(Uu=vn()+500,jx&&sl()))}function Ks(t,e){var n=t.callbackNode;FL(t,e);var s=rg(t,t===zn?Zn:0);if(s===0)n!==null&&AC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&AC(n),e===1)t.tag===0?LF(_E.bind(null,t)):K2(_E.bind(null,t)),PF(function(){!(vt&6)&&sl()}),n=null;else{switch(_2(s)){case 1:n=dj;break;case 4:n=w2;break;case 16:n=sg;break;case 536870912:n=j2;break;default:n=sg}n=GI(n,UI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UI(t,e){if(Ep=-1,Sp=0,vt&6)throw Error(ge(327));var n=t.callbackNode;if(cu()&&t.callbackNode!==n)return null;var s=rg(t,t===zn?Zn:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=jg(t,s);else{e=s;var i=vt;vt|=2;var a=BI();(zn!==t||Zn!==e)&&(ga=null,Uu=vn()+500,Ul(t,e));do try{rV();break}catch(l){$I(t,l)}while(!0);_j(),vg.current=a,vt=i,_n!==null?e=0:(zn=null,Zn=0,e=Rn)}if(e!==0){if(e===2&&(i=K0(t),i!==0&&(s=i,e=Nb(t,i))),e===1)throw n=qh,Ul(t,0),oo(t,s),Ks(t,vn()),n;if(e===6)oo(t,s);else{if(i=t.current.alternate,!(s&30)&&!nV(i)&&(e=jg(t,s),e===2&&(a=K0(t),a!==0&&(s=a,e=Nb(t,a))),e===1))throw n=qh,Ul(t,0),oo(t,s),Ks(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(ge(345));case 2:bl(t,Bs,ga);break;case 3:if(oo(t,s),(s&130023424)===s&&(e=Vj+500-vn(),10<e)){if(rg(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sb(bl.bind(null,t,Bs,ga),e);break}bl(t,Bs,ga);break;case 4:if(oo(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-hi(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=vn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tV(s/1960))-s,10<s){t.timeoutHandle=sb(bl.bind(null,t,Bs,ga),s);break}bl(t,Bs,ga);break;case 5:bl(t,Bs,ga);break;default:throw Error(ge(329))}}}return Ks(t,vn()),t.callbackNode===n?UI.bind(null,t):null}function Nb(t,e){var n=gh;return t.current.memoizedState.isDehydrated&&(Ul(t,e).flags|=256),t=jg(t,e),t!==2&&(e=Bs,Bs=n,e!==null&&_b(e)),t}function _b(t){Bs===null?Bs=t:Bs.push.apply(Bs,t)}function nV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!gi(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Fj,e&=~Ex,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hi(e),s=1<<n;t[n]=-1,e&=~s}}function _E(t){if(vt&6)throw Error(ge(327));cu();var e=rg(t,0);if(!(e&1))return Ks(t,vn()),null;var n=jg(t,e);if(t.tag!==0&&n===2){var s=K0(t);s!==0&&(e=s,n=Nb(t,s))}if(n===1)throw n=qh,Ul(t,0),oo(t,e),Ks(t,vn()),n;if(n===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bl(t,Bs,ga),Ks(t,vn()),null}function Uj(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(Uu=vn()+500,jx&&sl())}}function Xl(t){_o!==null&&_o.tag===0&&!(vt&6)&&cu();var e=vt;vt|=1;var n=$r.transition,s=At;try{if($r.transition=null,At=1,t)return t()}finally{At=s,$r.transition=n,vt=e,!(vt&6)&&sl()}}function $j(){ar=nu.current,Zt(nu)}function Ul(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AF(n)),_n!==null)for(n=_n.return;n!==null;){var s=n;switch(wj(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cg();break;case 3:Fu(),Zt(Gs),Zt(gs),Ij();break;case 5:Tj(s);break;case 4:Fu();break;case 13:Zt(nn);break;case 19:Zt(nn);break;case 10:Cj(s.type._context);break;case 22:case 23:$j()}n=n.return}if(zn=t,_n=t=Do(t.current,null),Zn=ar=e,Rn=0,qh=null,Fj=Ex=Zl=0,Bs=gh=null,El!==null){for(e=0;e<El.length;e++)if(n=El[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}El=null}return t}function $I(t,e){do{var n=_n;try{if(_j(),Np.current=yg,xg){for(var s=rn.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}xg=!1}if(Ql=0,On=kn=rn=null,fh=!1,Bh=0,Lj.current=null,n===null||n.return===null){Rn=1,qh=e,_n=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=Zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=dE(o);if(g!==null){g.flags&=-257,hE(g,o,l,a,e),g.mode&1&&uE(a,u,e),e=g,c=u;var x=e.updateQueue;if(x===null){var b=new Set;b.add(c),e.updateQueue=b}else x.add(c);break e}else{if(!(e&1)){uE(a,u,e),Bj();break e}c=Error(ge(426))}}else if(Xt&&l.mode&1){var y=dE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),hE(y,o,l,a,e),jj(Vu(c,l));break e}}a=c=Vu(c,l),Rn!==4&&(Rn=2),gh===null?gh=[a]:gh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=_I(a,c,e);rE(a,w);break e;case 1:l=c;var v=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ao===null||!Ao.has(N)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=CI(a,l,e);rE(a,I);break e}}a=a.return}while(a!==null)}WI(n)}catch(V){e=V,_n===n&&n!==null&&(_n=n=n.return);continue}break}while(!0)}function BI(){var t=vg.current;return vg.current=yg,t===null?yg:t}function Bj(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),zn===null||!(Zl&268435455)&&!(Ex&268435455)||oo(zn,Zn)}function jg(t,e){var n=vt;vt|=2;var s=BI();(zn!==t||Zn!==e)&&(ga=null,Ul(t,e));do try{sV();break}catch(i){$I(t,i)}while(!0);if(_j(),vt=n,vg.current=s,_n!==null)throw Error(ge(261));return zn=null,Zn=0,Rn}function sV(){for(;_n!==null;)zI(_n)}function rV(){for(;_n!==null&&!TL();)zI(_n)}function zI(t){var e=HI(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?WI(t):_n=e,Lj.current=null}function WI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZF(n,e),n!==null){n.flags&=32767,_n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,_n=null;return}}else if(n=QF(n,e,ar),n!==null){_n=n;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=t}while(e!==null);Rn===0&&(Rn=5)}function bl(t,e,n){var s=At,i=$r.transition;try{$r.transition=null,At=1,iV(t,e,n,s)}finally{$r.transition=i,At=s}return null}function iV(t,e,n,s){do cu();while(_o!==null);if(vt&6)throw Error(ge(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(VL(t,a),t===zn&&(_n=zn=null,Zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xf||(Xf=!0,GI(sg,function(){return cu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$r.transition,$r.transition=null;var o=At;At=1;var l=vt;vt|=4,Lj.current=null,JF(t,n),FI(n,t),CF(tb),ig=!!eb,tb=eb=null,t.current=n,eV(n),IL(),vt=l,At=o,$r.transition=a}else t.current=n;if(Xf&&(Xf=!1,_o=t,wg=i),a=t.pendingLanes,a===0&&(Ao=null),PL(n.stateNode),Ks(t,vn()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(bg)throw bg=!1,t=wb,wb=null,t;return wg&1&&t.tag!==0&&cu(),a=t.pendingLanes,a&1?t===jb?xh++:(xh=0,jb=t):xh=0,sl(),null}function cu(){if(_o!==null){var t=_2(wg),e=$r.transition,n=At;try{if($r.transition=null,At=16>t?16:t,_o===null)var s=!1;else{if(t=_o,_o=null,wg=0,vt&6)throw Error(ge(331));var i=vt;for(vt|=4,Ae=t.current;Ae!==null;){var a=Ae,o=a.child;if(Ae.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:ph(8,d,a)}var m=d.child;if(m!==null)m.return=d,Ae=m;else for(;Ae!==null;){d=Ae;var f=d.sibling,g=d.return;if(MI(d),d===u){Ae=null;break}if(f!==null){f.return=g,Ae=f;break}Ae=g}}}var x=a.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}Ae=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ae=o;else e:for(;Ae!==null;){if(a=Ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ph(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ae=w;break e}Ae=a.return}}var v=t.current;for(Ae=v;Ae!==null;){o=Ae;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ae=N;else e:for(o=v;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cx(9,l)}}catch(V){un(l,l.return,V)}if(l===o){Ae=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Ae=I;break e}Ae=l.return}}if(vt=i,sl(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(xx,t)}catch{}s=!0}return s}finally{At=n,$r.transition=e}}return!1}function CE(t,e,n){e=Vu(n,e),e=_I(t,e,1),t=Ro(t,e,1),e=Is(),t!==null&&(Pm(t,1,e),Ks(t,e))}function un(t,e,n){if(t.tag===3)CE(t,t,n);else for(;e!==null;){if(e.tag===3){CE(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ao===null||!Ao.has(s))){t=Vu(n,t),t=CI(e,t,1),e=Ro(e,t,1),t=Is(),e!==null&&(Pm(e,1,t),Ks(e,t));break}}e=e.return}}function aV(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Is(),t.pingedLanes|=t.suspendedLanes&n,zn===t&&(Zn&n)===n&&(Rn===4||Rn===3&&(Zn&130023424)===Zn&&500>vn()-Vj?Ul(t,0):Fj|=n),Ks(t,e)}function qI(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var n=Is();t=Ra(t,e),t!==null&&(Pm(t,e,n),Ks(t,n))}function oV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qI(t,n)}function lV(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(ge(314))}s!==null&&s.delete(e),qI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gs.current)Ws=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ws=!1,KF(t,e,n);Ws=!!(t.flags&131072)}else Ws=!1,Xt&&e.flags&1048576&&Q2(e,hg,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Cp(t,e),t=e.pendingProps;var i=Mu(e,gs.current);lu(e,n),i=Aj(null,e,s,t,i,n);var a=Pj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ys(s)?(a=!0,ug(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sj(e),i.updater=_x,e.stateNode=i,i._reactInternals=e,ub(e,s,t,n),e=mb(null,e,s,!0,a,n)):(e.tag=0,Xt&&a&&bj(e),Cs(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Cp(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=uV(s),t=si(s,t),i){case 0:e=hb(null,e,s,t,n);break e;case 1:e=pE(null,e,s,t,n);break e;case 11:e=mE(null,e,s,t,n);break e;case 14:e=fE(null,e,s,si(s.type,t),n);break e}throw Error(ge(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:si(s,i),hb(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:si(s,i),pE(t,e,s,i,n);case 3:e:{if(TI(e),t===null)throw Error(ge(387));s=e.pendingProps,a=e.memoizedState,i=a.element,nI(t,e),pg(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vu(Error(ge(423)),e),e=gE(t,e,s,n,i);break e}else if(s!==i){i=Vu(Error(ge(424)),e),e=gE(t,e,s,n,i);break e}else for(fr=Io(e.stateNode.containerInfo.firstChild),yr=e,Xt=!0,oi=null,n=eI(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ou(),s===i){e=Aa(t,e,n);break e}Cs(t,e,s,n)}e=e.child}return e;case 5:return sI(e),t===null&&ob(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,nb(s,i)?o=null:a!==null&&nb(s,a)&&(e.flags|=32),kI(t,e),Cs(t,e,o,n),e.child;case 6:return t===null&&ob(e),null;case 13:return II(t,e,n);case 4:return kj(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Lu(e,null,s,n):Cs(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:si(s,i),mE(t,e,s,i,n);case 7:return Cs(t,e,e.pendingProps,n),e.child;case 8:return Cs(t,e,e.pendingProps.children,n),e.child;case 12:return Cs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$t(mg,s._currentValue),s._currentValue=o,a!==null)if(gi(a.value,o)){if(a.children===i.children&&!Gs.current){e=Aa(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Ca(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),lb(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lb(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Cs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,lu(e,n),i=Gr(i),s=s(i),e.flags|=1,Cs(t,e,s,n),e.child;case 14:return s=e.type,i=si(s,e.pendingProps),i=si(s.type,i),fE(t,e,s,i,n);case 15:return EI(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:si(s,i),Cp(t,e),e.tag=1,Ys(s)?(t=!0,ug(e)):t=!1,lu(e,n),NI(e,s,i),ub(e,s,i,n),mb(null,e,s,!0,t,n);case 19:return RI(t,e,n);case 22:return SI(t,e,n)}throw Error(ge(156,e.tag))};function GI(t,e){return b2(t,e)}function cV(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,s){return new cV(t,e,n,s)}function zj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uV(t){if(typeof t=="function")return zj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lj)return 11;if(t===cj)return 14}return 2}function Do(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kp(t,e,n,s,i,a){var o=2;if(s=t,typeof t=="function")zj(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hc:return $l(n.children,i,a,e);case oj:o=8,i|=8;break;case D0:return t=Lr(12,n,e,i|2),t.elementType=D0,t.lanes=a,t;case M0:return t=Lr(13,n,e,i),t.elementType=M0,t.lanes=a,t;case O0:return t=Lr(19,n,e,i),t.elementType=O0,t.lanes=a,t;case s2:return Sx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t2:o=10;break e;case n2:o=9;break e;case lj:o=11;break e;case cj:o=14;break e;case ro:o=16,s=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Lr(o,n,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function $l(t,e,n,s){return t=Lr(7,t,s,e),t.lanes=n,t}function Sx(t,e,n,s){return t=Lr(22,t,s,e),t.elementType=s2,t.lanes=n,t.stateNode={isHidden:!1},t}function Dv(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function Mv(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dV(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pv(0),this.expirationTimes=pv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pv(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wj(t,e,n,s,i,a,o,l,c){return t=new dV(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Lr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sj(a),t}function hV(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function YI(t){if(!t)return Bo;t=t._reactInternals;e:{if(bc(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var n=t.type;if(Ys(n))return Y2(t,n,e)}return e}function KI(t,e,n,s,i,a,o,l,c){return t=Wj(n,s,!0,t,i,a,o,l,c),t.context=YI(null),n=t.current,s=Is(),i=Po(n),a=Ca(s,i),a.callback=e??null,Ro(n,a,i),t.current.lanes=i,Pm(t,i,s),Ks(t,s),t}function kx(t,e,n,s){var i=e.current,a=Is(),o=Po(i);return n=YI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ca(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Ro(i,e,o),t!==null&&(mi(t,i,o,a),jp(t,i,o)),o}function Ng(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function EE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qj(t,e){EE(t,e),(t=t.alternate)&&EE(t,e)}function mV(){return null}var QI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hj(t){this._internalRoot=t}Tx.prototype.render=Hj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));kx(t,e,null,null)};Tx.prototype.unmount=Hj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xl(function(){kx(null,t,null,null)}),e[Ia]=null}};function Tx(t){this._internalRoot=t}Tx.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&T2(t)}};function Gj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SE(){}function fV(t,e,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Ng(o);a.call(u)}}var o=KI(e,s,t,0,null,!1,!1,"",SE);return t._reactRootContainer=o,t[Ia]=o.current,Lh(t.nodeType===8?t.parentNode:t),Xl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Ng(c);l.call(u)}}var c=Wj(t,0,!1,null,null,!1,!1,"",SE);return t._reactRootContainer=c,t[Ia]=c.current,Lh(t.nodeType===8?t.parentNode:t),Xl(function(){kx(e,c,n,s)}),c}function Rx(t,e,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ng(o);l.call(c)}}kx(e,o,t,i)}else o=fV(n,e,t,i,s);return Ng(o)}C2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qd(e.pendingLanes);n!==0&&(hj(e,n|1),Ks(e,vn()),!(vt&6)&&(Uu=vn()+500,sl()))}break;case 13:Xl(function(){var s=Ra(t,1);if(s!==null){var i=Is();mi(s,t,1,i)}}),qj(t,1)}};mj=function(t){if(t.tag===13){var e=Ra(t,134217728);if(e!==null){var n=Is();mi(e,t,134217728,n)}qj(t,134217728)}};E2=function(t){if(t.tag===13){var e=Po(t),n=Ra(t,e);if(n!==null){var s=Is();mi(n,t,e,s)}qj(t,e)}};S2=function(){return At};k2=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};H0=function(t,e,n){switch(e){case"input":if(V0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=wx(s);if(!i)throw Error(ge(90));i2(s),V0(s,i)}}}break;case"textarea":o2(t,n);break;case"select":e=n.value,e!=null&&ru(t,!!n.multiple,e,!1)}};f2=Uj;p2=Xl;var pV={usingClientEntryPoint:!1,Events:[Mm,Qc,wx,h2,m2,Uj]},Fd={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gV={bundleType:Fd.bundleType,version:Fd.version,rendererPackageName:Fd.rendererPackageName,rendererConfig:Fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y2(t),t===null?null:t.stateNode},findFiberByHostInstance:Fd.findFiberByHostInstance||mV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{xx=Jf.inject(gV),$i=Jf}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gj(e))throw Error(ge(200));return hV(t,e,null,n)};Sr.createRoot=function(t,e){if(!Gj(t))throw Error(ge(299));var n=!1,s="",i=QI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wj(t,1,!1,null,null,n,!1,s,i),t[Ia]=e.current,Lh(t.nodeType===8?t.parentNode:t),new Hj(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=y2(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return Xl(t)};Sr.hydrate=function(t,e,n){if(!Ix(e))throw Error(ge(200));return Rx(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!Gj(t))throw Error(ge(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=QI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,i,!1,a,o),t[Ia]=e.current,Lh(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tx(e)};Sr.render=function(t,e,n){if(!Ix(e))throw Error(ge(200));return Rx(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!Ix(t))throw Error(ge(40));return t._reactRootContainer?(Xl(function(){Rx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ia]=null})}),!0):!1};Sr.unstable_batchedUpdates=Uj;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ix(n))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Rx(t,e,n,!1,s)};Sr.version="18.3.1-next-f1338f8080-20240426";function ZI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZI)}catch(t){console.error(t)}}ZI(),ZT.exports=Sr;var wc=ZT.exports;const XI=FT(wc);var JI,kE=wc;JI=kE.createRoot,kE.hydrateRoot;const xV=1,yV=1e6;let Ov=0;function vV(){return Ov=(Ov+1)%Number.MAX_SAFE_INTEGER,Ov.toString()}const Lv=new Map,TE=t=>{if(Lv.has(t))return;const e=setTimeout(()=>{Lv.delete(t),yh({type:"REMOVE_TOAST",toastId:t})},yV);Lv.set(t,e)},bV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TE(n):t.toasts.forEach(s=>{TE(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tp=[];let Ip={toasts:[]};function yh(t){Ip=bV(Ip,t),Tp.forEach(e=>{e(Ip)})}function _r({...t}){const e=vV(),n=i=>yh({type:"UPDATE_TOAST",toast:{...i,id:e}}),s=()=>yh({type:"DISMISS_TOAST",toastId:e});return yh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||s()}}}),{id:e,dismiss:s,update:n}}function Lm(){const[t,e]=p.useState(Ip);return p.useEffect(()=>(Tp.push(e),()=>{const n=Tp.indexOf(e);n>-1&&Tp.splice(n,1)}),[t]),{...t,toast:_r,dismiss:n=>yh({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wV(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ax(...t){return e=>t.forEach(n=>wV(n,e))}function ht(...t){return p.useCallback(Ax(...t),t)}function jV(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:f,children:g,...x}=m,b=(f==null?void 0:f[t][c])||l,y=p.useMemo(()=>x,Object.values(x));return r.jsx(b.Provider,{value:y,children:g})}function d(m,f){const g=(f==null?void 0:f[t][c])||l,x=p.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[s,NV(i,...e)]}function NV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qi=p.forwardRef((t,e)=>{const{children:n,...s}=t,i=p.Children.toArray(n),a=i.find(_V);if(a){const o=a.props.children,l=i.map(c=>c===a?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return r.jsx(Cb,{...s,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return r.jsx(Cb,{...s,ref:e,children:n})});Qi.displayName="Slot";var Cb=p.forwardRef((t,e)=>{const{children:n,...s}=t;if(p.isValidElement(n)){const i=EV(n);return p.cloneElement(n,{...CV(s,n.props),ref:e?Ax(e,i):i})}return p.Children.count(n)>1?p.Children.only(null):null});Cb.displayName="SlotClone";var eR=({children:t})=>r.jsx(r.Fragment,{children:t});function _V(t){return p.isValidElement(t)&&t.type===eR}function CV(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{a(...l),i(...l)}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function EV(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Px(t){const e=t+"CollectionProvider",[n,s]=jV(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:b}=g,y=ue.useRef(null),w=ue.useRef(new Map).current;return r.jsx(i,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=ue.forwardRef((g,x)=>{const{scope:b,children:y}=g,w=a(l,b),v=ht(x,w.collectionRef);return r.jsx(Qi,{ref:v,children:y})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",m=ue.forwardRef((g,x)=>{const{scope:b,children:y,...w}=g,v=ue.useRef(null),N=ht(x,v),I=a(u,b);return ue.useEffect(()=>(I.itemMap.set(v,{ref:v,...w}),()=>void I.itemMap.delete(v))),r.jsx(Qi,{[d]:"",ref:N,children:y})});m.displayName=u;function f(g){const x=a(t+"CollectionConsumer",g);return ue.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((I,V)=>w.indexOf(I.ref.current)-w.indexOf(V.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},f,s]}function SV(t,e){const n=p.createContext(e),s=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,i]}function Xr(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=m=>{var w;const{scope:f,children:g,...x}=m,b=((w=f==null?void 0:f[t])==null?void 0:w[c])||l,y=p.useMemo(()=>x,Object.values(x));return r.jsx(b.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(m,f){var b;const g=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,x=p.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[s,kV(i,...e)]}function kV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var TV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=TV.reduce((t,e)=>{const n=p.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?Qi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Yj(t,e){t&&wc.flushSync(()=>t.dispatchEvent(e))}function es(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function IV(t,e=globalThis==null?void 0:globalThis.document){const n=es(t);p.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var RV="DismissableLayer",Eb="dismissableLayer.update",AV="dismissableLayer.pointerDownOutside",PV="dismissableLayer.focusOutside",IE,tR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(tR),[d,m]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),x=ht(e,A=>m(A)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(y),v=d?b.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,I=v>=w,V=MV(A=>{const C=A.target,R=[...u.branches].some(k=>k.contains(C));!I||R||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),z=OV(A=>{const C=A.target;[...u.branches].some(k=>k.contains(C))||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return IV(A=>{v===u.layers.size-1&&(s==null||s(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(IE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=IE)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RE())},[d,u]),p.useEffect(()=>{const A=()=>g({});return document.addEventListener(Eb,A),()=>document.removeEventListener(Eb,A)},[]),r.jsx(Ve.div,{...c,ref:x,style:{pointerEvents:N?I?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,z.onFocusCapture),onBlurCapture:we(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,V.onPointerDownCapture)})});jc.displayName=RV;var DV="DismissableLayerBranch",nR=p.forwardRef((t,e)=>{const n=p.useContext(tR),s=p.useRef(null),i=ht(e,s);return p.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(Ve.div,{...t,ref:i})});nR.displayName=DV;function MV(t,e=globalThis==null?void 0:globalThis.document){const n=es(t),s=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){sR(AV,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function OV(t,e=globalThis==null?void 0:globalThis.document){const n=es(t),s=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!s.current&&sR(PV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function RE(){const t=new CustomEvent(Eb);document.dispatchEvent(t)}function sR(t,e,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?Yj(i,a):i.dispatchEvent(a)}var LV=jc,FV=nR,Wn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},VV="Portal",ad=p.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[i,a]=p.useState(!1);Wn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?XI.createPortal(r.jsx(Ve.div,{...s,ref:e}),o):null});ad.displayName=VV;function UV(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var nr=t=>{const{present:e,children:n}=t,s=$V(e),i=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=ht(s.ref,BV(i));return typeof n=="function"||s.isPresent?p.cloneElement(i,{ref:a}):null};nr.displayName="Presence";function $V(t){const[e,n]=p.useState(),s=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=UV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=ep(s.current);a.current=l==="mounted"?u:"none"},[l]),Wn(()=>{const u=s.current,d=i.current;if(d!==t){const f=a.current,g=ep(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Wn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,m=g=>{const b=ep(s.current).includes(g.animationName);if(g.target===e&&b&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=g=>{g.target===e&&(a.current=ep(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function ep(t){return(t==null?void 0:t.animationName)||"none"}function BV(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,i]=zV({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:s,l=es(n),c=p.useCallback(u=>{if(a){const m=typeof u=="function"?u(t):u;m!==t&&l(m)}else i(u)},[a,t,i,l]);return[o,c]}function zV({defaultProp:t,onChange:e}){const n=p.useState(t),[s]=n,i=p.useRef(s),a=es(e);return p.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}var WV="VisuallyHidden",Fm=p.forwardRef((t,e)=>r.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fm.displayName=WV;var qV=Fm,Kj="ToastProvider",[Qj,HV,GV]=Px("Toast"),[rR,roe]=Xr("Toast",[GV]),[YV,Dx]=rR(Kj),iR=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),m=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kj}\`. Expected non-empty \`string\`.`),r.jsx(Qj.Provider,{scope:e,children:r.jsx(YV,{scope:e,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:o})})};iR.displayName=Kj;var aR="ToastViewport",KV=["F8"],Sb="toast.viewportPause",kb="toast.viewportResume",oR=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=KV,label:i="Notifications ({hotkey})",...a}=t,o=Dx(aR,n),l=HV(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),m=p.useRef(null),f=ht(e,m,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const y=w=>{var N;s.length!==0&&s.every(I=>w[I]||w.code===I)&&((N=m.current)==null||N.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),p.useEffect(()=>{const y=c.current,w=m.current;if(x&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(Sb);w.dispatchEvent(z),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(kb);w.dispatchEvent(z),o.isClosePausedRef.current=!1}},I=z=>{!y.contains(z.relatedTarget)&&N()},V=()=>{y.contains(document.activeElement)||N()};return y.addEventListener("focusin",v),y.addEventListener("focusout",I),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",V),window.addEventListener("blur",v),window.addEventListener("focus",N),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",I),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",V),window.removeEventListener("blur",v),window.removeEventListener("focus",N)}}},[x,o.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:y})=>{const v=l().map(N=>{const I=N.ref.current,V=[I,...lU(I)];return y==="forwards"?V:V.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const y=m.current;if(y){const w=v=>{var V,z,A;const N=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!N){const C=document.activeElement,R=v.shiftKey;if(v.target===y&&R){(V=u.current)==null||V.focus();return}const S=b({tabbingDirection:R?"backwards":"forwards"}),P=S.findIndex(B=>B===C);Fv(S.slice(P+1))?v.preventDefault():R?(z=u.current)==null||z.focus():(A=d.current)==null||A.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,b]),r.jsxs(FV,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(Tb,{ref:u,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"forwards"});Fv(y)}}),r.jsx(Qj.Slot,{scope:n,children:r.jsx(Ve.ol,{tabIndex:-1,...a,ref:f})}),x&&r.jsx(Tb,{ref:d,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"backwards"});Fv(y)}})]})});oR.displayName=aR;var lR="ToastFocusProxy",Tb=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=t,a=Dx(lR,n);return r.jsx(Fm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});Tb.displayName=lR;var Mx="Toast",QV="toast.swipeStart",ZV="toast.swipeMove",XV="toast.swipeCancel",JV="toast.swipeEnd",cR=p.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=xi({prop:s,defaultProp:i,onChange:a});return r.jsx(nr,{present:n||l,children:r.jsx(nU,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:es(t.onPause),onResume:es(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});cR.displayName=Mx;var[eU,tU]=rR(Mx,{onClose(){}}),nU=p.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:g,...x}=t,b=Dx(Mx,n),[y,w]=p.useState(null),v=ht(e,B=>w(B)),N=p.useRef(null),I=p.useRef(null),V=i||b.duration,z=p.useRef(0),A=p.useRef(V),C=p.useRef(0),{onToastAdd:R,onToastRemove:k}=b,D=es(()=>{var O;(y==null?void 0:y.contains(document.activeElement))&&((O=b.viewport)==null||O.focus()),o()}),S=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),z.current=new Date().getTime(),C.current=window.setTimeout(D,B))},[D]);p.useEffect(()=>{const B=b.viewport;if(B){const O=()=>{S(A.current),u==null||u()},$=()=>{const T=new Date().getTime()-z.current;A.current=A.current-T,window.clearTimeout(C.current),c==null||c()};return B.addEventListener(Sb,$),B.addEventListener(kb,O),()=>{B.removeEventListener(Sb,$),B.removeEventListener(kb,O)}}},[b.viewport,V,c,u,S]),p.useEffect(()=>{a&&!b.isClosePausedRef.current&&S(V)},[a,V,b.isClosePausedRef,S]),p.useEffect(()=>(R(),()=>k()),[R,k]);const P=p.useMemo(()=>y?gR(y):null,[y]);return b.viewport?r.jsxs(r.Fragment,{children:[P&&r.jsx(sU,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),r.jsx(eU,{scope:n,onClose:D,children:wc.createPortal(r.jsx(Qj.ItemSlot,{scope:n,children:r.jsx(LV,{asChild:!0,onEscapeKeyDown:we(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||D(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:we(t.onPointerDown,B=>{B.button===0&&(N.current={x:B.clientX,y:B.clientY})}),onPointerMove:we(t.onPointerMove,B=>{if(!N.current)return;const O=B.clientX-N.current.x,$=B.clientY-N.current.y,T=!!I.current,_=["left","right"].includes(b.swipeDirection),U=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,G=_?U(0,O):0,M=_?0:U(0,$),Y=B.pointerType==="touch"?10:2,L={x:G,y:M},X={originalEvent:B,delta:L};T?(I.current=L,tp(ZV,m,X,{discrete:!1})):AE(L,b.swipeDirection,Y)?(I.current=L,tp(QV,d,X,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(O)>Y||Math.abs($)>Y)&&(N.current=null)}),onPointerUp:we(t.onPointerUp,B=>{const O=I.current,$=B.target;if($.hasPointerCapture(B.pointerId)&&$.releasePointerCapture(B.pointerId),I.current=null,N.current=null,O){const T=B.currentTarget,_={originalEvent:B,delta:O};AE(O,b.swipeDirection,b.swipeThreshold)?tp(JV,g,_,{discrete:!0}):tp(XV,f,_,{discrete:!0}),T.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),sU=t=>{const{__scopeToast:e,children:n,...s}=t,i=Dx(Mx,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return aU(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(ad,{asChild:!0,children:r.jsx(Fm,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},rU="ToastTitle",uR=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return r.jsx(Ve.div,{...s,ref:e})});uR.displayName=rU;var iU="ToastDescription",dR=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return r.jsx(Ve.div,{...s,ref:e})});dR.displayName=iU;var hR="ToastAction",mR=p.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?r.jsx(pR,{altText:n,asChild:!0,children:r.jsx(Zj,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hR}\`. Expected non-empty \`string\`.`),null)});mR.displayName=hR;var fR="ToastClose",Zj=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,i=tU(fR,n);return r.jsx(pR,{asChild:!0,children:r.jsx(Ve.button,{type:"button",...s,ref:e,onClick:we(t.onClick,i.onClose)})})});Zj.displayName=fR;var pR=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...i}=t;return r.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:e})});function gR(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),oU(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...gR(s))}}),e}function tp(t,e,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?Yj(i,a):i.dispatchEvent(a)}var AE=(t,e,n=0)=>{const s=Math.abs(t.x),i=Math.abs(t.y),a=s>i;return e==="left"||e==="right"?a&&s>n:!a&&i>n};function aU(t=()=>{}){const e=es(t);Wn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function oU(t){return t.nodeType===t.ELEMENT_NODE}function lU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Fv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var cU=iR,xR=oR,yR=cR,vR=uR,bR=dR,wR=mR,jR=Zj;function NR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function _R(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NR(t))&&(s&&(s+=" "),s+=e);return s}const PE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DE=_R,od=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return DE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],m=a==null?void 0:a[u];if(d===null)return null;const f=PE(d)||PE(m);return i[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[m,f]=d;return f===void 0||(u[m]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:m,className:f,...g}=d;return Object.entries(g).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes({...a,...l}[b]):{...a,...l}[b]===y})?[...u,m,f]:u},[]);return DE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...dU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:CR("lucide",i),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=p.forwardRef(({className:s,...i},a)=>p.createElement(hU,{ref:a,iconNode:e,className:CR(`lucide-${uU(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=ke("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ke("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=ke("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ke("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ke("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=ke("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=ke("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=ke("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ke("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ke("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=ke("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ke("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ke("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ke("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=ke("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ke("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ke("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sN="-",CU=t=>{const e=SU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(sN);return l[0]===""&&l.length!==1&&l.shift(),MR(l,e)||EU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},MR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?MR(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(sN);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},LE=/^\[(.+)\]$/,EU=t=>{if(LE.test(t)){const e=LE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SU=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return TU(Object.entries(t.classGroups),n).forEach(([a,o])=>{Ab(o,s,a,e)}),s},Ab=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:FE(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(kU(i)){Ab(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Ab(o,FE(e,a),n,s)})})},FE=(t,e)=>{let n=t;return e.split(sN).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},kU=t=>t.isThemeGetter,TU=(t,e)=>e?t.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,IU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},OR="!",RU=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,m;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===i&&(s||l.slice(y,y+a)===e)){c.push(l.slice(d,y)),d=y+a;continue}if(w==="/"){m=y;continue}}w==="["?u++:w==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(OR),x=g?f.substring(1):f,b=m&&m>d?m-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},AU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},PU=t=>({cache:IU(t.cacheSize),parseClassName:RU(t),...CU(t)}),DU=/\s+/,MU=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(DU);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let x=!!g,b=s(x?f.substring(0,g):f);if(!b){if(!x){l=u+(l.length>0?" "+l:l);continue}if(b=s(f),!b){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=AU(d).join(":"),w=m?y+OR:y,v=w+b;if(a.includes(v))continue;a.push(v);const N=i(b,x);for(let I=0;I<N.length;++I){const V=N[I];a.push(w+V)}l=u+(l.length>0?" "+l:l)}return l};function OU(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LR(e))&&(s&&(s+=" "),s+=n);return s}const LR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=LR(t[s]))&&(n&&(n+=" "),n+=e);return n};function LU(t,...e){let n,s,i,a=o;function o(c){const u=e.reduce((d,m)=>m(d),t());return n=PU(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=MU(c,n);return i(c,d),d}return function(){return a(OU.apply(null,arguments))}}const qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FR=/^\[(?:([a-z-]+):)?(.+)\]$/i,FU=/^\d+\/\d+$/,VU=new Set(["px","full","screen"]),UU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$U=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ca=t=>du(t)||VU.has(t)||FU.test(t),Xa=t=>ld(t,"length",XU),du=t=>!!t&&!Number.isNaN(Number(t)),Vv=t=>ld(t,"number",du),Vd=t=>!!t&&Number.isInteger(Number(t)),qU=t=>t.endsWith("%")&&du(t.slice(0,-1)),nt=t=>FR.test(t),Ja=t=>UU.test(t),HU=new Set(["length","size","percentage"]),GU=t=>ld(t,HU,VR),YU=t=>ld(t,"position",VR),KU=new Set(["image","url"]),QU=t=>ld(t,KU,e$),ZU=t=>ld(t,"",JU),Ud=()=>!0,ld=(t,e,n)=>{const s=FR.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},XU=t=>$U.test(t)&&!BU.test(t),VR=()=>!1,JU=t=>zU.test(t),e$=t=>WU.test(t),t$=()=>{const t=qt("colors"),e=qt("spacing"),n=qt("blur"),s=qt("brightness"),i=qt("borderColor"),a=qt("borderRadius"),o=qt("borderSpacing"),l=qt("borderWidth"),c=qt("contrast"),u=qt("grayscale"),d=qt("hueRotate"),m=qt("invert"),f=qt("gap"),g=qt("gradientColorStops"),x=qt("gradientColorStopPositions"),b=qt("inset"),y=qt("margin"),w=qt("opacity"),v=qt("padding"),N=qt("saturate"),I=qt("scale"),V=qt("sepia"),z=qt("skew"),A=qt("space"),C=qt("translate"),R=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",nt,e],S=()=>[nt,e],P=()=>["",ca,Xa],B=()=>["auto",du,nt],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",nt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[du,nt];return{cacheSize:500,separator:":",theme:{colors:[Ud],spacing:[ca,Xa],blur:["none","",Ja,nt],brightness:M(),borderColor:[t],borderRadius:["none","","full",Ja,nt],borderSpacing:S(),borderWidth:P(),contrast:M(),grayscale:U(),hueRotate:M(),invert:U(),gap:S(),gradientColorStops:[t],gradientColorStopPositions:[qU,Xa],inset:D(),margin:D(),opacity:M(),padding:S(),saturate:M(),scale:M(),sepia:U(),skew:M(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[Ja]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),nt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vd,nt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Vd,nt]}],"grid-cols":[{"grid-cols":[Ud]}],"col-start-end":[{col:["auto",{span:["full",Vd,nt]},nt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ud]}],"row-start-end":[{row:["auto",{span:[Vd,nt]},nt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,e]}],"min-w":[{"min-w":[nt,e,"min","max","fit"]}],"max-w":[{"max-w":[nt,e,"none","full","min","max","fit","prose",{screen:[Ja]},Ja]}],h:[{h:[nt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ja,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vv]}],"font-family":[{font:[Ud]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",du,Vv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ca,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ca,Xa]}],"underline-offset":[{"underline-offset":["auto",ca,nt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),YU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ca,nt]}],"outline-w":[{outline:[ca,Xa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ca,Xa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ja,ZU]}],"shadow-color":[{shadow:[Ud]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ja,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Vd,nt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ca,Xa,Vv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},n$=LU(t$);function Ee(...t){return n$(_R(t))}const s$=cU,UR=p.forwardRef(({className:t,...e},n)=>r.jsx(xR,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UR.displayName=xR.displayName;const r$=od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$R=p.forwardRef(({className:t,variant:e,...n},s)=>r.jsx(yR,{ref:s,className:Ee(r$({variant:e}),t),...n}));$R.displayName=yR.displayName;const i$=p.forwardRef(({className:t,...e},n)=>r.jsx(wR,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));i$.displayName=wR.displayName;const BR=p.forwardRef(({className:t,...e},n)=>r.jsx(jR,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:r.jsx(er,{className:"h-4 w-4"})}));BR.displayName=jR.displayName;const zR=p.forwardRef(({className:t,...e},n)=>r.jsx(vR,{ref:n,className:Ee("text-sm font-semibold",t),...e}));zR.displayName=vR.displayName;const WR=p.forwardRef(({className:t,...e},n)=>r.jsx(bR,{ref:n,className:Ee("text-sm opacity-90",t),...e}));WR.displayName=bR.displayName;function a$(){const{toasts:t}=Lm();return r.jsxs(s$,{children:[t.map(function({id:e,title:n,description:s,action:i,...a}){return r.jsxs($R,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(zR,{children:n}),s&&r.jsx(WR,{children:s})]}),i,r.jsx(BR,{})]},e)}),r.jsx(UR,{})]})}var VE=["light","dark"],o$="(prefers-color-scheme: dark)",l$=p.createContext(void 0),c$={setTheme:t=>{},themes:[]},u$=()=>{var t;return(t=p.useContext(l$))!=null?t:c$};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?VE.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,b=!1,y=!0)=>{let w=o?o[x]:x,v=b?x+"|| ''":`'${w}'`,N="";return i&&y&&!b&&VE.includes(x)&&(N+=`d.style.colorScheme = '${x}';`),n==="class"?b||w?N+=`c.add(${v})`:N+="null":w&&(N+=`d[s](n,${v})`),N},g=t?`!function(){${d}${f(t)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${o$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${m}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var d$=t=>{switch(t){case"success":return f$;case"info":return g$;case"warning":return p$;case"error":return x$;default:return null}},h$=Array(12).fill(0),m$=({visible:t})=>ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ue.createElement("div",{className:"sonner-spinner"},h$.map((e,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),f$=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),p$=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g$=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x$=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),y$=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Pb=1,v$=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Pb++,a=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0;return s.then(async a=>{if(w$(a)&&!a.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:o,description:l})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(a):e.success,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async a=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(a):e.error,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Pb++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},ir=new v$,b$=(t,e)=>{let n=(e==null?void 0:e.id)||Pb++;return ir.addToast({title:t,...e,id:n}),n},w$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",j$=b$,N$=()=>ir.toasts,Ln=Object.assign(j$,{success:ir.success,info:ir.info,warning:ir.warning,error:ir.error,custom:ir.custom,message:ir.message,promise:ir.promise,dismiss:ir.dismiss,loading:ir.loading},{getHistory:N$});function _$(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}_$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function np(t){return t.label!==void 0}var C$=3,E$="32px",S$=4e3,k$=356,T$=14,I$=20,R$=200;function A$(...t){return t.filter(Boolean).join(" ")}var P$=t=>{var e,n,s,i,a,o,l,c,u,d;let{invert:m,toast:f,unstyled:g,interacting:x,setHeights:b,visibleToasts:y,heights:w,index:v,toasts:N,expanded:I,removeToast:V,defaultRichColors:z,closeButton:A,style:C,cancelButtonStyle:R,actionButtonStyle:k,className:D="",descriptionClassName:S="",duration:P,position:B,gap:O,loadingIcon:$,expandByDefault:T,classNames:_,icons:U,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:M,cn:Y}=t,[L,X]=ue.useState(!1),[le,ne]=ue.useState(!1),[H,te]=ue.useState(!1),[J,ae]=ue.useState(!1),[ye,ve]=ue.useState(0),[Ue,Oe]=ue.useState(0),Vt=ue.useRef(null),re=ue.useRef(null),qe=v===0,q=v+1<=y,Z=f.type,se=f.dismissible!==!1,K=f.className||"",he=f.descriptionClassName||"",de=ue.useMemo(()=>w.findIndex(Xe=>Xe.toastId===f.id)||0,[w,f.id]),_e=ue.useMemo(()=>{var Xe;return(Xe=f.closeButton)!=null?Xe:A},[f.closeButton,A]),$e=ue.useMemo(()=>f.duration||P||S$,[f.duration,P]),ze=ue.useRef(0),We=ue.useRef(0),Dn=ue.useRef(0),Ls=ue.useRef(null),[ia,pl]=B.split("-"),Ci=ue.useMemo(()=>w.reduce((Xe,Dt,Tt)=>Tt>=de?Xe:Xe+Dt.height,0),[w,de]),Ha=y$(),Ic=f.invert||m,Ei=Z==="loading";We.current=ue.useMemo(()=>de*O+Ci,[de,Ci]),ue.useEffect(()=>{X(!0)},[]),ue.useLayoutEffect(()=>{if(!L)return;let Xe=re.current,Dt=Xe.style.height;Xe.style.height="auto";let Tt=Xe.getBoundingClientRect().height;Xe.style.height=Dt,Oe(Tt),b(rs=>rs.find(Fs=>Fs.toastId===f.id)?rs.map(Fs=>Fs.toastId===f.id?{...Fs,height:Tt}:Fs):[{toastId:f.id,height:Tt,position:f.position},...rs])},[L,f.title,f.description,b,f.id]);let Si=ue.useCallback(()=>{ne(!0),ve(We.current),b(Xe=>Xe.filter(Dt=>Dt.toastId!==f.id)),setTimeout(()=>{V(f)},R$)},[f,V,b,We]);ue.useEffect(()=>{if(f.promise&&Z==="loading"||f.duration===1/0||f.type==="loading")return;let Xe,Dt=$e;return I||x||M&&Ha?(()=>{if(Dn.current<ze.current){let Tt=new Date().getTime()-ze.current;Dt=Dt-Tt}Dn.current=new Date().getTime()})():Dt!==1/0&&(ze.current=new Date().getTime(),Xe=setTimeout(()=>{var Tt;(Tt=f.onAutoClose)==null||Tt.call(f,f),Si()},Dt)),()=>clearTimeout(Xe)},[I,x,T,f,$e,Si,f.promise,Z,M,Ha]),ue.useEffect(()=>{let Xe=re.current;if(Xe){let Dt=Xe.getBoundingClientRect().height;return Oe(Dt),b(Tt=>[{toastId:f.id,height:Dt,position:f.position},...Tt]),()=>b(Tt=>Tt.filter(rs=>rs.toastId!==f.id))}},[b,f.id]),ue.useEffect(()=>{f.delete&&Si()},[Si,f.delete]);function Qy(){return U!=null&&U.loading?ue.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},U.loading):$?ue.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},$):ue.createElement(m$,{visible:Z==="loading"})}return ue.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:Y(D,K,_==null?void 0:_.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,_==null?void 0:_.default,_==null?void 0:_[Z],(n=f==null?void 0:f.classNames)==null?void 0:n[Z]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:z,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":L,"data-promise":!!f.promise,"data-removed":le,"data-visible":q,"data-y-position":ia,"data-x-position":pl,"data-index":v,"data-front":qe,"data-swiping":H,"data-dismissible":se,"data-type":Z,"data-invert":Ic,"data-swipe-out":J,"data-expanded":!!(I||T&&L),style:{"--index":v,"--toasts-before":v,"--z-index":N.length-v,"--offset":`${le?ye:We.current}px`,"--initial-height":T?"auto":`${Ue}px`,...C,...f.style},onPointerDown:Xe=>{Ei||!se||(Vt.current=new Date,ve(We.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(te(!0),Ls.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,Dt,Tt,rs;if(J||!se)return;Ls.current=null;let Fs=Number(((Xe=re.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ga=new Date().getTime()-((Dt=Vt.current)==null?void 0:Dt.getTime()),aa=Math.abs(Fs)/Ga;if(Math.abs(Fs)>=I$||aa>.11){ve(We.current),(Tt=f.onDismiss)==null||Tt.call(f,f),Si(),ae(!0);return}(rs=re.current)==null||rs.style.setProperty("--swipe-amount","0px"),te(!1)},onPointerMove:Xe=>{var Dt;if(!Ls.current||!se)return;let Tt=Xe.clientY-Ls.current.y,rs=Xe.clientX-Ls.current.x,Fs=(ia==="top"?Math.min:Math.max)(0,Tt),Ga=Xe.pointerType==="touch"?10:2;Math.abs(Fs)>Ga?(Dt=re.current)==null||Dt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(rs)>Ga&&(Ls.current=null)}},_e&&!f.jsx?ue.createElement("button",{"aria-label":G,"data-disabled":Ei,"data-close-button":!0,onClick:Ei||!se?()=>{}:()=>{var Xe;Si(),(Xe=f.onDismiss)==null||Xe.call(f,f)},className:Y(_==null?void 0:_.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||ue.isValidElement(f.title)?f.jsx||f.title:ue.createElement(ue.Fragment,null,Z||f.icon||f.promise?ue.createElement("div",{"data-icon":"",className:Y(_==null?void 0:_.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Qy():null,f.type!=="loading"?f.icon||(U==null?void 0:U[Z])||d$(Z):null):null,ue.createElement("div",{"data-content":"",className:Y(_==null?void 0:_.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},ue.createElement("div",{"data-title":"",className:Y(_==null?void 0:_.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?ue.createElement("div",{"data-description":"",className:Y(S,he,_==null?void 0:_.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),ue.isValidElement(f.cancel)?f.cancel:f.cancel&&np(f.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:Xe=>{var Dt,Tt;np(f.cancel)&&se&&((Tt=(Dt=f.cancel).onClick)==null||Tt.call(Dt,Xe),Si())},className:Y(_==null?void 0:_.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,ue.isValidElement(f.action)?f.action:f.action&&np(f.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:Xe=>{var Dt,Tt;np(f.action)&&(Xe.defaultPrevented||((Tt=(Dt=f.action).onClick)==null||Tt.call(Dt,Xe),Si()))},className:Y(_==null?void 0:_.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function UE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var D$=t=>{let{invert:e,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:m,visibleToasts:f=C$,toastOptions:g,dir:x=UE(),gap:b=T$,loadingIcon:y,icons:w,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:N,cn:I=A$}=t,[V,z]=ue.useState([]),A=ue.useMemo(()=>Array.from(new Set([n].concat(V.filter(M=>M.position).map(M=>M.position)))),[V,n]),[C,R]=ue.useState([]),[k,D]=ue.useState(!1),[S,P]=ue.useState(!1),[B,O]=ue.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=ue.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=ue.useRef(null),U=ue.useRef(!1),G=ue.useCallback(M=>{var Y;(Y=V.find(L=>L.id===M.id))!=null&&Y.delete||ir.dismiss(M.id),z(L=>L.filter(({id:X})=>X!==M.id))},[V]);return ue.useEffect(()=>ir.subscribe(M=>{if(M.dismiss){z(Y=>Y.map(L=>L.id===M.id?{...L,delete:!0}:L));return}setTimeout(()=>{XI.flushSync(()=>{z(Y=>{let L=Y.findIndex(X=>X.id===M.id);return L!==-1?[...Y.slice(0,L),{...Y[L],...M},...Y.slice(L+1)]:[M,...Y]})})})}),[]),ue.useEffect(()=>{if(c!=="system"){O(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:M})=>{O(M?"dark":"light")})},[c]),ue.useEffect(()=>{V.length<=1&&D(!1)},[V]),ue.useEffect(()=>{let M=Y=>{var L,X;s.every(le=>Y[le]||Y.code===le)&&(D(!0),(L=$.current)==null||L.focus()),Y.code==="Escape"&&(document.activeElement===$.current||(X=$.current)!=null&&X.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),ue.useEffect(()=>{if($.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,U.current=!1)}},[$.current]),V.length?ue.createElement("section",{"aria-label":`${v} ${T}`,tabIndex:-1},A.map((M,Y)=>{var L;let[X,le]=M.split("-");return ue.createElement("ol",{key:M,dir:x==="auto"?UE():x,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":X,"data-x-position":le,style:{"--front-toast-height":`${((L=C[0])==null?void 0:L.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||E$,"--width":`${k$}px`,"--gap":`${b}px`,...m},onBlur:ne=>{U.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(U.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||U.current||(U.current=!0,_.current=ne.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{S||D(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},V.filter(ne=>!ne.position&&Y===0||ne.position===M).map((ne,H)=>{var te,J;return ue.createElement(P$,{key:ne.id,icons:w,index:H,toast:ne,defaultRichColors:u,duration:(te=g==null?void 0:g.duration)!=null?te:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:f,closeButton:(J=g==null?void 0:g.closeButton)!=null?J:a,interacting:S,position:M,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:G,toasts:V.filter(ae=>ae.position==ne.position),heights:C.filter(ae=>ae.position==ne.position),setHeights:R,expandByDefault:i,gap:b,loadingIcon:y,expanded:k,pauseWhenPageIsHidden:N,cn:I})}))})):null};const M$=({...t})=>{const{theme:e="system"}=u$();return r.jsx(D$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var O$=KT.useId||(()=>{}),L$=0;function Br(t){const[e,n]=p.useState(O$());return Wn(()=>{t||n(s=>s??String(L$++))},[t]),t||(e?`radix-${e}`:"")}const F$=["top","right","bottom","left"],Wo=Math.min,or=Math.max,Eg=Math.round,sp=Math.floor,qo=t=>({x:t,y:t}),V$={left:"right",right:"left",bottom:"top",top:"bottom"},U$={start:"end",end:"start"};function Db(t,e,n){return or(t,Wo(e,n))}function Da(t,e){return typeof t=="function"?t(e):t}function Ma(t){return t.split("-")[0]}function cd(t){return t.split("-")[1]}function rN(t){return t==="x"?"y":"x"}function iN(t){return t==="y"?"height":"width"}function Ho(t){return["top","bottom"].includes(Ma(t))?"y":"x"}function aN(t){return rN(Ho(t))}function $$(t,e,n){n===void 0&&(n=!1);const s=cd(t),i=aN(t),a=iN(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Sg(o)),[o,Sg(o)]}function B$(t){const e=Sg(t);return[Mb(t),e,Mb(e)]}function Mb(t){return t.replace(/start|end/g,e=>U$[e])}function z$(t,e,n){const s=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:s:e?s:i;case"left":case"right":return e?a:o;default:return[]}}function W$(t,e,n,s){const i=cd(t);let a=z$(Ma(t),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Mb)))),a}function Sg(t){return t.replace(/left|right|bottom|top/g,e=>V$[e])}function q$(t){return{top:0,right:0,bottom:0,left:0,...t}}function qR(t){return typeof t!="number"?q$(t):{top:t,right:t,bottom:t,left:t}}function kg(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function $E(t,e,n){let{reference:s,floating:i}=t;const a=Ho(e),o=aN(e),l=iN(o),c=Ma(e),u=a==="y",d=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,f=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:m};break;case"left":g={x:s.x-i.width,y:m};break;default:g={x:s.x,y:s.y}}switch(cd(e)){case"start":g[o]-=f*(n&&u?-1:1);break;case"end":g[o]+=f*(n&&u?-1:1);break}return g}const H$=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:m}=$E(u,s,c),f=s,g={},x=0;for(let b=0;b<l.length;b++){const{name:y,fn:w}=l[b],{x:v,y:N,data:I,reset:V}=await w({x:d,y:m,initialPlacement:s,placement:f,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,m=N??m,g={...g,[y]:{...g[y],...I}},V&&x<=50&&(x++,typeof V=="object"&&(V.placement&&(f=V.placement),V.rects&&(u=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):V.rects),{x:d,y:m}=$E(u,f,c)),b=-1)}return{x:d,y:m,placement:f,strategy:i,middlewareData:g}};async function Yh(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:f=!1,padding:g=0}=Da(e,t),x=qR(g),y=l[f?m==="floating"?"reference":"floating":m],w=kg(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=m==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),I=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},V=kg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:N,strategy:c}):v);return{top:(w.top-V.top+x.top)/I.y,bottom:(V.bottom-w.bottom+x.bottom)/I.y,left:(w.left-V.left+x.left)/I.x,right:(V.right-w.right+x.right)/I.x}}const G$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Da(t,e)||{};if(u==null)return{};const m=qR(d),f={x:n,y:s},g=aN(i),x=iN(g),b=await o.getDimensions(u),y=g==="y",w=y?"top":"left",v=y?"bottom":"right",N=y?"clientHeight":"clientWidth",I=a.reference[x]+a.reference[g]-f[g]-a.floating[x],V=f[g]-a.reference[g],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=z?z[N]:0;(!A||!await(o.isElement==null?void 0:o.isElement(z)))&&(A=l.floating[N]||a.floating[x]);const C=I/2-V/2,R=A/2-b[x]/2-1,k=Wo(m[w],R),D=Wo(m[v],R),S=k,P=A-b[x]-D,B=A/2-b[x]/2+C,O=Db(S,B,P),$=!c.arrow&&cd(i)!=null&&B!==O&&a.reference[x]/2-(B<S?k:D)-b[x]/2<0,T=$?B<S?B-S:B-P:0;return{[g]:f[g]+T,data:{[g]:O,centerOffset:B-O-T,...$&&{alignmentOffset:T}},reset:$}}}),Y$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...y}=Da(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=Ma(i),v=Ho(l),N=Ma(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),V=f||(N||!b?[Sg(l)]:B$(l)),z=x!=="none";!f&&z&&V.push(...W$(l,b,x,I));const A=[l,...V],C=await Yh(e,y),R=[];let k=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&R.push(C[w]),m){const B=$$(i,o,I);R.push(C[B[0]],C[B[1]])}if(k=[...k,{placement:i,overflows:R}],!R.every(B=>B<=0)){var D,S;const B=(((D=a.flip)==null?void 0:D.index)||0)+1,O=A[B];if(O)return{data:{index:B,overflows:k},reset:{placement:O}};let $=(S=k.filter(T=>T.overflows[0]<=0).sort((T,_)=>T.overflows[1]-_.overflows[1])[0])==null?void 0:S.placement;if(!$)switch(g){case"bestFit":{var P;const T=(P=k.filter(_=>{if(z){const U=Ho(_.placement);return U===v||U==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((_,U)=>_[1]-U[1])[0])==null?void 0:P[0];T&&($=T);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function BE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zE(t){return F$.some(e=>t[e]>=0)}const K$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Da(t,e);switch(s){case"referenceHidden":{const a=await Yh(e,{...i,elementContext:"reference"}),o=BE(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zE(o)}}}case"escaped":{const a=await Yh(e,{...i,altBoundary:!0}),o=BE(a,n.floating);return{data:{escapedOffsets:o,escaped:zE(o)}}}default:return{}}}}};async function Q$(t,e){const{placement:n,platform:s,elements:i}=t,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Ma(n),l=cd(n),c=Ho(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,m=Da(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:f*u}:{x:f*u,y:g*d}}const Z$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await Q$(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},X$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...c}=Da(t,e),u={x:n,y:s},d=await Yh(e,c),m=Ho(Ma(i)),f=rN(m);let g=u[f],x=u[m];if(a){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=g+d[y],N=g-d[w];g=Db(v,g,N)}if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=x+d[y],N=x-d[w];x=Db(v,x,N)}const b=l.fn({...e,[f]:g,[m]:x});return{...b,data:{x:b.x-n,y:b.y-s,enabled:{[f]:a,[m]:o}}}}}},J$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Da(t,e),d={x:n,y:s},m=Ho(i),f=rN(m);let g=d[f],x=d[m];const b=Da(l,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const N=f==="y"?"height":"width",I=a.reference[f]-a.floating[N]+y.mainAxis,V=a.reference[f]+a.reference[N]-y.mainAxis;g<I?g=I:g>V&&(g=V)}if(u){var w,v;const N=f==="y"?"width":"height",I=["top","left"].includes(Ma(i)),V=a.reference[m]-a.floating[N]+(I&&((w=o.offset)==null?void 0:w[m])||0)+(I?0:y.crossAxis),z=a.reference[m]+a.reference[N]+(I?0:((v=o.offset)==null?void 0:v[m])||0)-(I?y.crossAxis:0);x<V?x=V:x>z&&(x=z)}return{[f]:g,[m]:x}}}},e8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Da(t,e),d=await Yh(e,u),m=Ma(i),f=cd(i),g=Ho(i)==="y",{width:x,height:b}=a.floating;let y,w;m==="top"||m==="bottom"?(y=m,w=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,y=f==="end"?"top":"bottom");const v=b-d.top-d.bottom,N=x-d.left-d.right,I=Wo(b-d[y],v),V=Wo(x-d[w],N),z=!e.middlewareData.shift;let A=I,C=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(A=v),z&&!f){const k=or(d.left,0),D=or(d.right,0),S=or(d.top,0),P=or(d.bottom,0);g?C=x-2*(k!==0||D!==0?k+D:or(d.left,d.right)):A=b-2*(S!==0||P!==0?S+P:or(d.top,d.bottom))}await c({...e,availableWidth:C,availableHeight:A});const R=await o.getDimensions(l.floating);return x!==R.width||b!==R.height?{reset:{rects:!0}}:{}}}};function $x(){return typeof window<"u"}function ud(t){return HR(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function na(t){var e;return(e=(HR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HR(t){return $x()?t instanceof Node||t instanceof vr(t).Node:!1}function yi(t){return $x()?t instanceof Element||t instanceof vr(t).Element:!1}function Xi(t){return $x()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function WE(t){return!$x()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}function Vm(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(i)}function t8(t){return["table","td","th"].includes(ud(t))}function Bx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function oN(t){const e=lN(),n=yi(t)?vi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function n8(t){let e=Go(t);for(;Xi(e)&&!Bu(e);){if(oN(e))return e;if(Bx(e))return null;e=Go(e)}return null}function lN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bu(t){return["html","body","#document"].includes(ud(t))}function vi(t){return vr(t).getComputedStyle(t)}function zx(t){return yi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Go(t){if(ud(t)==="html")return t;const e=t.assignedSlot||t.parentNode||WE(t)&&t.host||na(t);return WE(e)?e.host:e}function GR(t){const e=Go(t);return Bu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xi(e)&&Vm(e)?e:GR(e)}function Kh(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GR(t),a=i===((s=t.ownerDocument)==null?void 0:s.body),o=vr(i);if(a){const l=Ob(o);return e.concat(o,o.visualViewport||[],Vm(i)?i:[],l&&n?Kh(l):[])}return e.concat(i,Kh(i,[],n))}function Ob(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YR(t){const e=vi(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Xi(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:s,l=Eg(n)!==a||Eg(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function cN(t){return yi(t)?t:t.contextElement}function hu(t){const e=cN(t);if(!Xi(e))return qo(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:a}=YR(e);let o=(a?Eg(n.width):n.width)/s,l=(a?Eg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const s8=qo(0);function KR(t){const e=vr(t);return!lN()||!e.visualViewport?s8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function r8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function nc(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=cN(t);let o=qo(1);e&&(s?yi(s)&&(o=hu(s)):o=hu(t));const l=r8(a,n,s)?KR(a):qo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,m=i.height/o.y;if(a){const f=vr(a),g=s&&yi(s)?vr(s):s;let x=f,b=Ob(x);for(;b&&s&&g!==x;){const y=hu(b),w=b.getBoundingClientRect(),v=vi(b),N=w.left+(b.clientLeft+parseFloat(v.paddingLeft))*y.x,I=w.top+(b.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,m*=y.y,c+=N,u+=I,x=vr(b),b=Ob(x)}}return kg({width:d,height:m,x:c,y:u})}function i8(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const a=i==="fixed",o=na(s),l=e?Bx(e.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=qo(1);const d=qo(0),m=Xi(s);if((m||!m&&!a)&&((ud(s)!=="body"||Vm(o))&&(c=zx(s)),Xi(s))){const f=nc(s);u=hu(s),d.x=f.x+s.clientLeft,d.y=f.y+s.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function a8(t){return Array.from(t.getClientRects())}function Lb(t,e){const n=zx(t).scrollLeft;return e?e.left+n:nc(na(t)).left+n}function o8(t){const e=na(t),n=zx(t),s=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=or(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Lb(t);const l=-n.scrollTop;return vi(s).direction==="rtl"&&(o+=or(e.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function l8(t,e){const n=vr(t),s=na(t),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=lN();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function c8(t,e){const n=nc(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,a=Xi(t)?hu(t):qo(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function qE(t,e,n){let s;if(e==="viewport")s=l8(t,n);else if(e==="document")s=o8(na(t));else if(yi(e))s=c8(e,n);else{const i=KR(t);s={...e,x:e.x-i.x,y:e.y-i.y}}return kg(s)}function QR(t,e){const n=Go(t);return n===e||!yi(n)||Bu(n)?!1:vi(n).position==="fixed"||QR(n,e)}function u8(t,e){const n=e.get(t);if(n)return n;let s=Kh(t,[],!1).filter(l=>yi(l)&&ud(l)!=="body"),i=null;const a=vi(t).position==="fixed";let o=a?Go(t):t;for(;yi(o)&&!Bu(o);){const l=vi(o),c=oN(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vm(o)&&!c&&QR(t,o))?s=s.filter(d=>d!==o):i=l,o=Go(o)}return e.set(t,s),s}function d8(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const o=[...n==="clippingAncestors"?Bx(e)?[]:u8(e,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const m=qE(e,d,i);return u.top=or(m.top,u.top),u.right=Wo(m.right,u.right),u.bottom=Wo(m.bottom,u.bottom),u.left=or(m.left,u.left),u},qE(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function h8(t){const{width:e,height:n}=YR(t);return{width:e,height:n}}function m8(t,e,n){const s=Xi(e),i=na(e),a=n==="fixed",o=nc(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=qo(0);if(s||!s&&!a)if((ud(e)!=="body"||Vm(i))&&(l=zx(e)),s){const g=nc(e,!0,a,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=Lb(i));let u=0,d=0;if(i&&!s&&!a){const g=i.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-Lb(i,g)}const m=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:m,y:f,width:o.width,height:o.height}}function Uv(t){return vi(t).position==="static"}function HE(t,e){if(!Xi(t)||vi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return na(t)===n&&(n=n.ownerDocument.body),n}function ZR(t,e){const n=vr(t);if(Bx(t))return n;if(!Xi(t)){let i=Go(t);for(;i&&!Bu(i);){if(yi(i)&&!Uv(i))return i;i=Go(i)}return n}let s=HE(t,e);for(;s&&t8(s)&&Uv(s);)s=HE(s,e);return s&&Bu(s)&&Uv(s)&&!oN(s)?n:s||n8(t)||n}const f8=async function(t){const e=this.getOffsetParent||ZR,n=this.getDimensions,s=await n(t.floating);return{reference:m8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function p8(t){return vi(t).direction==="rtl"}const g8={convertOffsetParentRelativeRectToViewportRelativeRect:i8,getDocumentElement:na,getClippingRect:d8,getOffsetParent:ZR,getElementRects:f8,getClientRects:a8,getDimensions:h8,getScale:hu,isElement:yi,isRTL:p8};function x8(t,e){let n=null,s;const i=na(t);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:m,height:f}=t.getBoundingClientRect();if(l||e(),!m||!f)return;const g=sp(d),x=sp(i.clientWidth-(u+m)),b=sp(i.clientHeight-(d+f)),y=sp(u),v={rootMargin:-g+"px "+-x+"px "+-b+"px "+-y+"px",threshold:or(0,Wo(1,c))||1};let N=!0;function I(V){const z=V[0].intersectionRatio;if(z!==c){if(!N)return o();z?o(!1,z):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(I,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,v)}n.observe(t)}return o(!0),a}function y8(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=cN(t),d=i||a?[...u?Kh(u):[],...Kh(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const m=u&&l?x8(u,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,b=c?nc(t):null;c&&y();function y(){const w=nc(t);b&&(w.x!==b.x||w.y!==b.y||w.width!==b.width||w.height!==b.height)&&n(),b=w,x=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),m==null||m(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const v8=Z$,b8=X$,w8=Y$,j8=e8,N8=K$,GE=G$,_8=J$,C8=(t,e,n)=>{const s=new Map,i={platform:g8,...n},a={...i.platform,_c:s};return H$(t,e,{...i,platform:a})};var Rp=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Tg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Tg(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&t.$$typeof)&&!Tg(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function XR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(t,e){const n=XR(t);return Math.round(e*n)/n}function $v(t){const e=p.useRef(t);return Rp(()=>{e.current=t}),e}function E8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,m]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(s);Tg(f,s)||g(s);const[x,b]=p.useState(null),[y,w]=p.useState(null),v=p.useCallback(_=>{_!==z.current&&(z.current=_,b(_))},[]),N=p.useCallback(_=>{_!==A.current&&(A.current=_,w(_))},[]),I=a||x,V=o||y,z=p.useRef(null),A=p.useRef(null),C=p.useRef(d),R=c!=null,k=$v(c),D=$v(i),S=$v(u),P=p.useCallback(()=>{if(!z.current||!A.current)return;const _={placement:e,strategy:n,middleware:f};D.current&&(_.platform=D.current),C8(z.current,A.current,_).then(U=>{const G={...U,isPositioned:S.current!==!1};B.current&&!Tg(C.current,G)&&(C.current=G,wc.flushSync(()=>{m(G)}))})},[f,e,n,D,S]);Rp(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(_=>({..._,isPositioned:!1})))},[u]);const B=p.useRef(!1);Rp(()=>(B.current=!0,()=>{B.current=!1}),[]),Rp(()=>{if(I&&(z.current=I),V&&(A.current=V),I&&V){if(k.current)return k.current(I,V,P);P()}},[I,V,P,k,R]);const O=p.useMemo(()=>({reference:z,floating:A,setReference:v,setFloating:N}),[v,N]),$=p.useMemo(()=>({reference:I,floating:V}),[I,V]),T=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!$.floating)return _;const U=YE($.floating,d.x),G=YE($.floating,d.y);return l?{..._,transform:"translate("+U+"px, "+G+"px)",...XR($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:G}},[n,l,$.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:P,refs:O,elements:$,floatingStyles:T}),[d,P,O,$,T])}const S8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?GE({element:s.current,padding:i}).fn(n):{}:s?GE({element:s,padding:i}).fn(n):{}}}},k8=(t,e)=>({...v8(t),options:[t,e]}),T8=(t,e)=>({...b8(t),options:[t,e]}),I8=(t,e)=>({..._8(t),options:[t,e]}),R8=(t,e)=>({...w8(t),options:[t,e]}),A8=(t,e)=>({...j8(t),options:[t,e]}),P8=(t,e)=>({...N8(t),options:[t,e]}),D8=(t,e)=>({...S8(t),options:[t,e]});var M8="Arrow",JR=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...a}=t;return r.jsx(Ve.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});JR.displayName=M8;var O8=JR;function L8(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:f,children:g,...x}=m,b=(f==null?void 0:f[t][c])||l,y=p.useMemo(()=>x,Object.values(x));return r.jsx(b.Provider,{value:y,children:g})}function d(m,f){const g=(f==null?void 0:f[t][c])||l,x=p.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[s,F8(i,...e)]}function F8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function uN(t){const[e,n]=p.useState(void 0);return Wn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var dN="Popper",[eA,il]=L8(dN),[V8,tA]=eA(dN),nA=t=>{const{__scopePopper:e,children:n}=t,[s,i]=p.useState(null);return r.jsx(V8,{scope:e,anchor:s,onAnchorChange:i,children:n})};nA.displayName=dN;var sA="PopperAnchor",rA=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,a=tA(sA,n),o=p.useRef(null),l=ht(e,o);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(Ve.div,{...i,ref:l})});rA.displayName=sA;var hN="PopperContent",[U8,$8]=eA(hN),iA=p.forwardRef((t,e)=>{var H,te,J,ae,ye,ve;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:x,...b}=t,y=tA(hN,n),[w,v]=p.useState(null),N=ht(e,Ue=>v(Ue)),[I,V]=p.useState(null),z=uN(I),A=(z==null?void 0:z.width)??0,C=(z==null?void 0:z.height)??0,R=s+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],S=D.length>0,P={padding:k,boundary:D.filter(z8),altBoundary:S},{refs:B,floatingStyles:O,placement:$,isPositioned:T,middlewareData:_}=E8({strategy:"fixed",placement:R,whileElementsMounted:(...Ue)=>y8(...Ue,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[k8({mainAxis:i+C,alignmentAxis:o}),c&&T8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?I8():void 0,...P}),c&&R8({...P}),A8({...P,apply:({elements:Ue,rects:Oe,availableWidth:Vt,availableHeight:re})=>{const{width:qe,height:q}=Oe.reference,Z=Ue.floating.style;Z.setProperty("--radix-popper-available-width",`${Vt}px`),Z.setProperty("--radix-popper-available-height",`${re}px`),Z.setProperty("--radix-popper-anchor-width",`${qe}px`),Z.setProperty("--radix-popper-anchor-height",`${q}px`)}}),I&&D8({element:I,padding:l}),W8({arrowWidth:A,arrowHeight:C}),f&&P8({strategy:"referenceHidden",...P})]}),[U,G]=lA($),M=es(x);Wn(()=>{T&&(M==null||M())},[T,M]);const Y=(H=_.arrow)==null?void 0:H.x,L=(te=_.arrow)==null?void 0:te.y,X=((J=_.arrow)==null?void 0:J.centerOffset)!==0,[le,ne]=p.useState();return Wn(()=>{w&&ne(window.getComputedStyle(w).zIndex)},[w]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:T?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(ae=_.transformOrigin)==null?void 0:ae.x,(ye=_.transformOrigin)==null?void 0:ye.y].join(" "),...((ve=_.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(U8,{scope:n,placedSide:U,onArrowChange:V,arrowX:Y,arrowY:L,shouldHideArrow:X,children:r.jsx(Ve.div,{"data-side":U,"data-align":G,...b,ref:N,style:{...b.style,animation:T?void 0:"none"}})})})});iA.displayName=hN;var aA="PopperArrow",B8={top:"bottom",right:"left",bottom:"top",left:"right"},oA=p.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,a=$8(aA,s),o=B8[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(O8,{...i,ref:n,style:{...i.style,display:"block"}})})});oA.displayName=aA;function z8(t){return t!==null}var W8=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:n,rects:s,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=lA(n),m={start:"0%",center:"50%",end:"100%"}[d],f=(((w=i.arrow)==null?void 0:w.x)??0)+l/2,g=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let x="",b="";return u==="bottom"?(x=o?m:`${f}px`,b=`${-c}px`):u==="top"?(x=o?m:`${f}px`,b=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,b=o?m:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,b=o?m:`${g}px`),{data:{x,y:b}}}});function lA(t){const[e,n="center"]=t.split("-");return[e,n]}var Wx=nA,Um=rA,qx=iA,Hx=oA,[Gx,ioe]=Xr("Tooltip",[il]),Yx=il(),cA="TooltipProvider",q8=700,Fb="tooltip.open",[H8,mN]=Gx(cA),uA=t=>{const{__scopeTooltip:e,delayDuration:n=q8,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=t,[o,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),r.jsx(H8,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:a})};uA.displayName=cA;var Kx="Tooltip",[G8,Qx]=Gx(Kx),dA=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=mN(Kx,t.__scopeTooltip),u=Yx(e),[d,m]=p.useState(null),f=Br(),g=p.useRef(0),x=o??c.disableHoverableContent,b=l??c.delayDuration,y=p.useRef(!1),[w=!1,v]=xi({prop:s,defaultProp:i,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(Fb))):c.onClose(),a==null||a(A)}}),N=p.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),I=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y.current=!1,v(!0)},[v]),V=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v(!1)},[v]),z=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{y.current=!0,v(!0),g.current=0},b)},[b,v]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),r.jsx(Wx,{...u,children:r.jsx(G8,{scope:e,contentId:f,open:w,stateAttribute:N,trigger:d,onTriggerChange:m,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?z():I()},[c.isOpenDelayed,z,I]),onTriggerLeave:p.useCallback(()=>{x?V():(window.clearTimeout(g.current),g.current=0)},[V,x]),onOpen:I,onClose:V,disableHoverableContent:x,children:n})})};dA.displayName=Kx;var Vb="TooltipTrigger",hA=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Qx(Vb,n),a=mN(Vb,n),o=Yx(n),l=p.useRef(null),c=ht(e,l,i.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),m=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(Um,{asChild:!0,...o,children:r.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:we(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:we(t.onBlur,i.onClose),onClick:we(t.onClick,i.onClose)})})});hA.displayName=Vb;var Y8="TooltipPortal",[aoe,K8]=Gx(Y8,{forceMount:void 0}),zu="TooltipContent",mA=p.forwardRef((t,e)=>{const n=K8(zu,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=t,o=Qx(zu,t.__scopeTooltip);return r.jsx(nr,{present:s||o.open,children:o.disableHoverableContent?r.jsx(fA,{side:i,...a,ref:e}):r.jsx(Q8,{side:i,...a,ref:e})})}),Q8=p.forwardRef((t,e)=>{const n=Qx(zu,t.__scopeTooltip),s=mN(zu,t.__scopeTooltip),i=p.useRef(null),a=ht(e,i),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:m}=s,f=p.useCallback(()=>{l(null),m(!1)},[m]),g=p.useCallback((x,b)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},v=e9(w,y.getBoundingClientRect()),N=t9(w,v),I=n9(b.getBoundingClientRect()),V=r9([...N,...I]);l(V),m(!0)},[m]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const x=y=>g(y,d),b=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",b)}}},[c,d,g,f]),p.useEffect(()=>{if(o){const x=b=>{const y=b.target,w={x:b.clientX,y:b.clientY},v=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),N=!s9(w,o);v?f():N&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),r.jsx(fA,{...t,ref:a})}),[Z8,X8]=Gx(Kx,{isInside:!1}),fA=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Qx(zu,n),u=Yx(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Fb,d),()=>document.removeEventListener(Fb,d)),[d]),p.useEffect(()=>{if(c.trigger){const m=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),r.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:r.jsxs(qx,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(eR,{children:s}),r.jsx(Z8,{scope:n,isInside:!0,children:r.jsx(qV,{id:c.contentId,role:"tooltip",children:i||s})})]})})});mA.displayName=zu;var pA="TooltipArrow",J8=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Yx(n);return X8(pA,n).isInside?null:r.jsx(Hx,{...i,...s,ref:e})});J8.displayName=pA;function e9(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function t9(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function n9(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function s9(t,e){const{x:n,y:s}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>s!=d>s&&n<(u-l)*(s-c)/(d-c)+l&&(i=!i)}return i}function r9(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),i9(e)}function i9(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var a9=uA,o9=dA,l9=hA,gA=mA;const fN=a9,xA=o9,yA=l9,pN=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>r.jsx(gA,{ref:s,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));pN.displayName=gA.displayName;var $m=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sc=typeof window>"u"||"Deno"in globalThis;function Ar(){}function c9(t,e){return typeof t=="function"?t(e):t}function Ub(t){return typeof t=="number"&&t>=0&&t!==1/0}function vA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mu(t,e){return typeof t=="function"?t(e):t}function li(t,e){return typeof t=="function"?t(e):t}function KE(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==gN(o,e.options))return!1}else if(!Zh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function QE(t,e){const{exact:n,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Qh(e.options.mutationKey)!==Qh(a))return!1}else if(!Zh(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function gN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qh)(t)}function Qh(t){return JSON.stringify(t,(e,n)=>Bb(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function Zh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Zh(t[n],e[n])):!1}function bA(t,e){if(t===e)return t;const n=ZE(t)&&ZE(e);if(n||Bb(t)&&Bb(e)){const s=n?t:Object.keys(t),i=s.length,a=n?e:Object.keys(e),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&s.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=bA(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function $b(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ZE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bb(t){if(!XE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XE(t){return Object.prototype.toString.call(t)==="[object Object]"}function u9(t){return new Promise(e=>{setTimeout(e,t)})}function zb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bA(t,e):e}function d9(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function h9(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var xN=Symbol();function wA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pl,go,wu,TT,m9=(TT=class extends $m{constructor(){super();Qe(this,Pl);Qe(this,go);Qe(this,wu);Pe(this,wu,e=>{if(!sc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,go)||this.setEventListener(Q(this,wu))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,go))==null||e.call(this),Pe(this,go,void 0))}setEventListener(e){var n;Pe(this,wu,e),(n=Q(this,go))==null||n.call(this),Pe(this,go,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){Q(this,Pl)!==e&&(Pe(this,Pl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Q(this,Pl)=="boolean"?Q(this,Pl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pl=new WeakMap,go=new WeakMap,wu=new WeakMap,TT),yN=new m9,ju,xo,Nu,IT,f9=(IT=class extends $m{constructor(){super();Qe(this,ju,!0);Qe(this,xo);Qe(this,Nu);Pe(this,Nu,e=>{if(!sc&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Q(this,xo)||this.setEventListener(Q(this,Nu))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,xo))==null||e.call(this),Pe(this,xo,void 0))}setEventListener(e){var n;Pe(this,Nu,e),(n=Q(this,xo))==null||n.call(this),Pe(this,xo,e(this.setOnline.bind(this)))}setOnline(e){Q(this,ju)!==e&&(Pe(this,ju,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return Q(this,ju)}},ju=new WeakMap,xo=new WeakMap,Nu=new WeakMap,IT),Ig=new f9;function Wb(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}function p9(t){return Math.min(1e3*2**t,3e4)}function jA(t){return(t??"online")==="online"?Ig.isOnline():!0}var NA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bv(t){return t instanceof NA}function _A(t){let e=!1,n=0,s=!1,i;const a=Wb(),o=b=>{var y;s||(f(new NA(b)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>yN.isFocused()&&(t.networkMode==="always"||Ig.isOnline())&&t.canRun(),d=()=>jA(t.networkMode)&&t.canRun(),m=b=>{var y;s||(s=!0,(y=t.onSuccess)==null||y.call(t,b),i==null||i(),a.resolve(b))},f=b=>{var y;s||(s=!0,(y=t.onError)==null||y.call(t,b),i==null||i(),a.reject(b))},g=()=>new Promise(b=>{var y;i=w=>{(s||u())&&b(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var b;i=void 0,s||(b=t.onContinue)==null||b.call(t)}),x=()=>{if(s)return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(m).catch(w=>{var z;if(s)return;const v=t.retry??(sc?0:3),N=t.retryDelay??p9,I=typeof N=="function"?N(n,w):N,V=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!V){f(w);return}n++,(z=t.onFail)==null||z.call(t,n,w),u9(I).then(()=>u()?void 0:g()).then(()=>{e?f(w):x()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),a)}}function g9(){let t=[],e=0,n=l=>{l()},s=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Kn=g9(),Dl,RT,CA=(RT=class{constructor(){Qe(this,Dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ub(this.gcTime)&&Pe(this,Dl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sc?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Dl)&&(clearTimeout(Q(this,Dl)),Pe(this,Dl,void 0))}},Dl=new WeakMap,RT),_u,Cu,Rr,us,km,Ml,ii,fa,AT,x9=(AT=class extends CA{constructor(n){super();Qe(this,ii);Qe(this,_u);Qe(this,Cu);Qe(this,Rr);Qe(this,us);Qe(this,km);Qe(this,Ml);Pe(this,Ml,!1),Pe(this,km,n.defaultOptions),this.setOptions(n.options),this.observers=[],Pe(this,Rr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Pe(this,_u,y9(this.options)),this.state=n.state??Q(this,_u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Q(this,us))==null?void 0:n.promise}setOptions(n){this.options={...Q(this,km),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Rr).remove(this)}setData(n,s){const i=zb(this.state.data,n,this.options);return ft(this,ii,fa).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(n,s){ft(this,ii,fa).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var i,a;const s=(i=Q(this,us))==null?void 0:i.promise;return(a=Q(this,us))==null||a.cancel(n),s?s.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,_u))}isActive(){return this.observers.some(n=>li(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!vA(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=Q(this,us))==null||s.continue()}onOnline(){var s;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=Q(this,us))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Q(this,Rr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(Q(this,us)&&(Q(this,Ml)?Q(this,us).cancel({revert:!0}):Q(this,us).cancelRetry()),this.scheduleGc()),Q(this,Rr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,ii,fa).call(this,{type:"invalidate"})}fetch(n,s){var u,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(Q(this,us))return Q(this,us).continueRetry(),Q(this,us).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Pe(this,Ml,!0),i.signal)})},o=()=>{const f=wA(this.options,s),g={queryKey:this.queryKey,meta:this.meta};return a(g),Pe(this,Ml,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Cu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ft(this,ii,fa).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=f=>{var g,x,b,y;Bv(f)&&f.silent||ft(this,ii,fa).call(this,{type:"error",error:f}),Bv(f)||((x=(g=Q(this,Rr).config).onError)==null||x.call(g,f,this),(y=(b=Q(this,Rr).config).onSettled)==null||y.call(b,this.state.data,f,this)),this.scheduleGc()};return Pe(this,us,_A({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var g,x,b,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){c(w);return}(x=(g=Q(this,Rr).config).onSuccess)==null||x.call(g,f,this),(y=(b=Q(this,Rr).config).onSettled)==null||y.call(b,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{ft(this,ii,fa).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{ft(this,ii,fa).call(this,{type:"pause"})},onContinue:()=>{ft(this,ii,fa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Q(this,us).start()}},_u=new WeakMap,Cu=new WeakMap,Rr=new WeakMap,us=new WeakMap,km=new WeakMap,Ml=new WeakMap,ii=new WeakSet,fa=function(n){const s=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...EA(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=n.error;return Bv(a)&&a.revert&&Q(this,Cu)?{...Q(this,Cu),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=s(this.state),Kn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Q(this,Rr).notify({query:this,type:"updated",action:n})})},AT);function EA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function y9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ii,PT,v9=(PT=class extends $m{constructor(e={}){super();Qe(this,Ii);this.config=e,Pe(this,Ii,new Map)}build(e,n,s){const i=n.queryKey,a=n.queryHash??gN(i,n);let o=this.get(a);return o||(o=new x9({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Q(this,Ii).has(e.queryHash)||(Q(this,Ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Q(this,Ii).get(e.queryHash);n&&(e.destroy(),n===e&&Q(this,Ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Q(this,Ii).get(e)}getAll(){return[...Q(this,Ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>KE(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>KE(e,s)):n}notify(e){Kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ii=new WeakMap,PT),Ri,Ns,Ol,Ai,no,DT,b9=(DT=class extends CA{constructor(n){super();Qe(this,Ai);Qe(this,Ri);Qe(this,Ns);Qe(this,Ol);this.mutationId=n.mutationId,Pe(this,Ns,n.mutationCache),Pe(this,Ri,[]),this.state=n.state||w9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Q(this,Ri).includes(n)||(Q(this,Ri).push(n),this.clearGcTimeout(),Q(this,Ns).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Pe(this,Ri,Q(this,Ri).filter(s=>s!==n)),this.scheduleGc(),Q(this,Ns).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Q(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Ns).remove(this))}continue(){var n;return((n=Q(this,Ol))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,l,c,u,d,m,f,g,x,b,y,w,v,N,I,V,z,A,C;Pe(this,Ol,_A({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,k)=>{ft(this,Ai,no).call(this,{type:"failed",failureCount:R,error:k})},onPause:()=>{ft(this,Ai,no).call(this,{type:"pause"})},onContinue:()=>{ft(this,Ai,no).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Ns).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,Ol).canStart();try{if(!s){ft(this,Ai,no).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(a=Q(this,Ns).config).onMutate)==null?void 0:o.call(a,n,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));k!==this.state.context&&ft(this,Ai,no).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const R=await Q(this,Ol).start();return await((d=(u=Q(this,Ns).config).onSuccess)==null?void 0:d.call(u,R,n,this.state.context,this)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,R,n,this.state.context)),await((x=(g=Q(this,Ns).config).onSettled)==null?void 0:x.call(g,R,null,this.state.variables,this.state.context,this)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,R,null,n,this.state.context)),ft(this,Ai,no).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(w=Q(this,Ns).config).onError)==null?void 0:v.call(w,R,n,this.state.context,this)),await((I=(N=this.options).onError)==null?void 0:I.call(N,R,n,this.state.context)),await((z=(V=Q(this,Ns).config).onSettled)==null?void 0:z.call(V,void 0,R,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,R,n,this.state.context)),R}finally{ft(this,Ai,no).call(this,{type:"error",error:R})}}finally{Q(this,Ns).runNext(this)}}},Ri=new WeakMap,Ns=new WeakMap,Ol=new WeakMap,Ai=new WeakSet,no=function(n){const s=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Kn.batch(()=>{Q(this,Ri).forEach(i=>{i.onMutationUpdate(n)}),Q(this,Ns).notify({mutation:this,type:"updated",action:n})})},DT);function w9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rr,Tm,MT,j9=(MT=class extends $m{constructor(e={}){super();Qe(this,rr);Qe(this,Tm);this.config=e,Pe(this,rr,new Map),Pe(this,Tm,Date.now())}build(e,n,s){const i=new b9({mutationCache:this,mutationId:++Of(this,Tm)._,options:e.defaultMutationOptions(n),state:s});return this.add(i),i}add(e){const n=rp(e),s=Q(this,rr).get(n)??[];s.push(e),Q(this,rr).set(n,s),this.notify({type:"added",mutation:e})}remove(e){var s;const n=rp(e);if(Q(this,rr).has(n)){const i=(s=Q(this,rr).get(n))==null?void 0:s.filter(a=>a!==e);i&&(i.length===0?Q(this,rr).delete(n):Q(this,rr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const n=(s=Q(this,rr).get(rp(e)))==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var s;const n=(s=Q(this,rr).get(rp(e)))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Q(this,rr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(s=>QE(n,s))}findAll(e={}){return this.getAll().filter(n=>QE(e,n))}notify(e){Kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ar))))}},rr=new WeakMap,Tm=new WeakMap,MT);function rp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function JE(t){return{onFetch:(e,n)=>{var d,m,f,g,x;const s=e.options,i=(f=(m=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},w=wA(e.options,e.fetchOptions),v=async(N,I,V)=>{if(b)return Promise.reject();if(I==null&&N.pages.length)return Promise.resolve(N);const z={queryKey:e.queryKey,pageParam:I,direction:V?"backward":"forward",meta:e.options.meta};y(z);const A=await w(z),{maxPages:C}=e.options,R=V?h9:d9;return{pages:R(N.pages,A,C),pageParams:R(N.pageParams,I,C)}};if(i&&a.length){const N=i==="backward",I=N?N9:eS,V={pages:a,pageParams:o},z=I(s,V);l=await v(V,z,N)}else{const N=t??a.length;do{const I=c===0?o[0]??s.initialPageParam:eS(s,l);if(c>0&&I==null)break;l=await v(l,I),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function eS(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function N9(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var cn,yo,vo,Eu,Su,bo,ku,Tu,OT,_9=(OT=class{constructor(t={}){Qe(this,cn);Qe(this,yo);Qe(this,vo);Qe(this,Eu);Qe(this,Su);Qe(this,bo);Qe(this,ku);Qe(this,Tu);Pe(this,cn,t.queryCache||new v9),Pe(this,yo,t.mutationCache||new j9),Pe(this,vo,t.defaultOptions||{}),Pe(this,Eu,new Map),Pe(this,Su,new Map),Pe(this,bo,0)}mount(){Of(this,bo)._++,Q(this,bo)===1&&(Pe(this,ku,yN.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,cn).onFocus())})),Pe(this,Tu,Ig.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,cn).onOnline())})))}unmount(){var t,e;Of(this,bo)._--,Q(this,bo)===0&&((t=Q(this,ku))==null||t.call(this),Pe(this,ku,void 0),(e=Q(this,Tu))==null||e.call(this),Pe(this,Tu,void 0))}isFetching(t){return Q(this,cn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Q(this,yo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,cn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),s=Q(this,cn).build(this,n);return t.revalidateIfStale&&s.isStaleByTime(mu(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Q(this,cn).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=Q(this,cn).get(s.queryHash),a=i==null?void 0:i.state.data,o=c9(e,a);if(o!==void 0)return Q(this,cn).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kn.batch(()=>Q(this,cn).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,cn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Q(this,cn);Kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Q(this,cn),s={type:"active",...t};return Kn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},s=Kn.batch(()=>Q(this,cn).findAll(t).map(i=>i.cancel(n)));return Promise.all(s).then(Ar).catch(Ar)}invalidateQueries(t={},e={}){return Kn.batch(()=>{if(Q(this,cn).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=Kn.batch(()=>Q(this,cn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ar)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Q(this,cn).build(this,e);return n.isStaleByTime(mu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ar).catch(Ar)}fetchInfiniteQuery(t){return t.behavior=JE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ar).catch(Ar)}ensureInfiniteQueryData(t){return t.behavior=JE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ig.isOnline()?Q(this,yo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,cn)}getMutationCache(){return Q(this,yo)}getDefaultOptions(){return Q(this,vo)}setDefaultOptions(t){Pe(this,vo,t)}setQueryDefaults(t,e){Q(this,Eu).set(Qh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Q(this,Eu).values()];let n={};return e.forEach(s=>{Zh(t,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(t,e){Q(this,Su).set(Qh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Q(this,Su).values()];let n={};return e.forEach(s=>{Zh(t,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Q(this,vo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Q(this,vo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Q(this,cn).clear(),Q(this,yo).clear()}},cn=new WeakMap,yo=new WeakMap,vo=new WeakMap,Eu=new WeakMap,Su=new WeakMap,bo=new WeakMap,ku=new WeakMap,Tu=new WeakMap,OT),Us,pt,Im,_s,Ll,Iu,wo,Pi,Rm,Ru,Au,Fl,Vl,jo,Pu,kt,Xd,qb,Hb,Gb,Yb,Kb,Qb,Zb,SA,LT,C9=(LT=class extends $m{constructor(e,n){super();Qe(this,kt);Qe(this,Us);Qe(this,pt);Qe(this,Im);Qe(this,_s);Qe(this,Ll);Qe(this,Iu);Qe(this,wo);Qe(this,Pi);Qe(this,Rm);Qe(this,Ru);Qe(this,Au);Qe(this,Fl);Qe(this,Vl);Qe(this,jo);Qe(this,Pu,new Set);this.options=n,Pe(this,Us,e),Pe(this,Pi,null),Pe(this,wo,Wb()),this.options.experimental_prefetchInRender||Q(this,wo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,pt).addObserver(this),tS(Q(this,pt),this.options)?ft(this,kt,Xd).call(this):this.updateResult(),ft(this,kt,Yb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xb(Q(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xb(Q(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,kt,Kb).call(this),ft(this,kt,Qb).call(this),Q(this,pt).removeObserver(this)}setOptions(e,n){const s=this.options,i=Q(this,pt);if(this.options=Q(this,Us).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,Q(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,kt,Zb).call(this),Q(this,pt).setOptions(this.options),s._defaulted&&!$b(this.options,s)&&Q(this,Us).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,pt),observer:this});const a=this.hasListeners();a&&nS(Q(this,pt),i,this.options,s)&&ft(this,kt,Xd).call(this),this.updateResult(n),a&&(Q(this,pt)!==i||li(this.options.enabled,Q(this,pt))!==li(s.enabled,Q(this,pt))||mu(this.options.staleTime,Q(this,pt))!==mu(s.staleTime,Q(this,pt)))&&ft(this,kt,qb).call(this);const o=ft(this,kt,Hb).call(this);a&&(Q(this,pt)!==i||li(this.options.enabled,Q(this,pt))!==li(s.enabled,Q(this,pt))||o!==Q(this,jo))&&ft(this,kt,Gb).call(this,o)}getOptimisticResult(e){const n=Q(this,Us).getQueryCache().build(Q(this,Us),e),s=this.createResult(n,e);return S9(this,s)&&(Pe(this,_s,s),Pe(this,Iu,this.options),Pe(this,Ll,Q(this,pt).state)),s}getCurrentResult(){return Q(this,_s)}trackResult(e,n){const s={};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),s}trackProp(e){Q(this,Pu).add(e)}getCurrentQuery(){return Q(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Q(this,Us).defaultQueryOptions(e),s=Q(this,Us).getQueryCache().build(Q(this,Us),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ft(this,kt,Xd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,_s)))}createResult(e,n){var C;const s=Q(this,pt),i=this.options,a=Q(this,_s),o=Q(this,Ll),l=Q(this,Iu),u=e!==s?e.state:Q(this,Im),{state:d}=e;let m={...d},f=!1,g;if(n._optimisticResults){const R=this.hasListeners(),k=!R&&tS(e,n),D=R&&nS(e,s,n,i);(k||D)&&(m={...m,...EA(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=m;if(n.select&&m.data!==void 0)if(a&&m.data===(o==null?void 0:o.data)&&n.select===Q(this,Rm))g=Q(this,Ru);else try{Pe(this,Rm,n.select),g=n.select(m.data),g=zb(a==null?void 0:a.data,g,n),Pe(this,Ru,g),Pe(this,Pi,null)}catch(R){Pe(this,Pi,R)}else g=m.data;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let R;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))R=a.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData((C=Q(this,Au))==null?void 0:C.state.data,Q(this,Au)):n.placeholderData,n.select&&R!==void 0)try{R=n.select(R),Pe(this,Pi,null)}catch(k){Pe(this,Pi,k)}R!==void 0&&(y="success",g=zb(a==null?void 0:a.data,R,n),f=!0)}Q(this,Pi)&&(x=Q(this,Pi),g=Q(this,Ru),b=Date.now(),y="error");const w=m.fetchStatus==="fetching",v=y==="pending",N=y==="error",I=v&&w,V=g!==void 0,A={status:y,fetchStatus:m.fetchStatus,isPending:v,isSuccess:y==="success",isError:N,isInitialLoading:I,isLoading:I,data:g,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:N&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&V,isStale:vN(e,n),refetch:this.refetch,promise:Q(this,wo)};if(this.options.experimental_prefetchInRender){const R=S=>{A.status==="error"?S.reject(A.error):A.data!==void 0&&S.resolve(A.data)},k=()=>{const S=Pe(this,wo,A.promise=Wb());R(S)},D=Q(this,wo);switch(D.status){case"pending":e.queryHash===s.queryHash&&R(D);break;case"fulfilled":(A.status==="error"||A.data!==D.value)&&k();break;case"rejected":(A.status!=="error"||A.error!==D.reason)&&k();break}}return A}updateResult(e){const n=Q(this,_s),s=this.createResult(Q(this,pt),this.options);if(Pe(this,Ll,Q(this,pt).state),Pe(this,Iu,this.options),Q(this,Ll).data!==void 0&&Pe(this,Au,Q(this,pt)),$b(s,n))return;Pe(this,_s,s);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Q(this,Pu).size)return!0;const c=new Set(l??Q(this,Pu));return this.options.throwOnError&&c.add("error"),Object.keys(Q(this,_s)).some(u=>{const d=u;return Q(this,_s)[d]!==n[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ft(this,kt,SA).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,kt,Yb).call(this)}},Us=new WeakMap,pt=new WeakMap,Im=new WeakMap,_s=new WeakMap,Ll=new WeakMap,Iu=new WeakMap,wo=new WeakMap,Pi=new WeakMap,Rm=new WeakMap,Ru=new WeakMap,Au=new WeakMap,Fl=new WeakMap,Vl=new WeakMap,jo=new WeakMap,Pu=new WeakMap,kt=new WeakSet,Xd=function(e){ft(this,kt,Zb).call(this);let n=Q(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ar)),n},qb=function(){ft(this,kt,Kb).call(this);const e=mu(this.options.staleTime,Q(this,pt));if(sc||Q(this,_s).isStale||!Ub(e))return;const s=vA(Q(this,_s).dataUpdatedAt,e)+1;Pe(this,Fl,setTimeout(()=>{Q(this,_s).isStale||this.updateResult()},s))},Hb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,pt)):this.options.refetchInterval)??!1},Gb=function(e){ft(this,kt,Qb).call(this),Pe(this,jo,e),!(sc||li(this.options.enabled,Q(this,pt))===!1||!Ub(Q(this,jo))||Q(this,jo)===0)&&Pe(this,Vl,setInterval(()=>{(this.options.refetchIntervalInBackground||yN.isFocused())&&ft(this,kt,Xd).call(this)},Q(this,jo)))},Yb=function(){ft(this,kt,qb).call(this),ft(this,kt,Gb).call(this,ft(this,kt,Hb).call(this))},Kb=function(){Q(this,Fl)&&(clearTimeout(Q(this,Fl)),Pe(this,Fl,void 0))},Qb=function(){Q(this,Vl)&&(clearInterval(Q(this,Vl)),Pe(this,Vl,void 0))},Zb=function(){const e=Q(this,Us).getQueryCache().build(Q(this,Us),this.options);if(e===Q(this,pt))return;const n=Q(this,pt);Pe(this,pt,e),Pe(this,Im,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},SA=function(e){Kn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Q(this,_s))}),Q(this,Us).getQueryCache().notify({query:Q(this,pt),type:"observerResultsUpdated"})})},LT);function E9(t,e){return li(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tS(t,e){return E9(t,e)||t.state.data!==void 0&&Xb(t,e,e.refetchOnMount)}function Xb(t,e,n){if(li(e.enabled,t)!==!1){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&vN(t,e)}return!1}function nS(t,e,n,s){return(t!==e||li(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&vN(t,n)}function vN(t,e){return li(e.enabled,t)!==!1&&t.isStaleByTime(mu(e.staleTime,t))}function S9(t,e){return!$b(t.getCurrentResult(),e)}var kA=p.createContext(void 0),k9=t=>{const e=p.useContext(kA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},T9=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx(kA.Provider,{value:t,children:e})),TA=p.createContext(!1),I9=()=>p.useContext(TA);TA.Provider;function R9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var A9=p.createContext(R9()),P9=()=>p.useContext(A9);function D9(t,e){return typeof t=="function"?t(...e):!!t}function M9(){}var O9=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},L9=t=>{p.useEffect(()=>{t.clearReset()},[t])},F9=({result:t,errorResetBoundary:e,throwOnError:n,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&D9(n,[t.error,s]),V9=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},U9=(t,e)=>t.isLoading&&t.isFetching&&!e,$9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,sS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function B9(t,e,n){var d,m,f,g,x;const s=k9(),i=I9(),a=P9(),o=s.defaultQueryOptions(t);(m=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",V9(o),O9(o,a),L9(a);const l=!s.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(s,o)),u=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(b=>{const y=i?()=>{}:c.subscribe(Kn.batchCalls(b));return c.updateResult(),y},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),$9(o,u))throw sS(o,c,a);if(F9({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,u),o.experimental_prefetchInRender&&!sc&&U9(u,i)){const b=l?sS(o,c,a):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;b==null||b.catch(M9).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function z9(t,e){return B9(t,C9)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xh.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const rS="popstate";function W9(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:l}=s.location;return Jb("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Rg(i)}return H9(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q9(){return Math.random().toString(36).substr(2,8)}function iS(t,e){return{usr:t.state,key:t.key,idx:e}}function Jb(t,e,n,s){return n===void 0&&(n=null),Xh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dd(e):e,{state:n,key:e&&e.key||s||q9()})}function Rg(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function dd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function H9(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=Co.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Xh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=Co.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:b.location,delta:w})}function f(y,w){l=Co.Push;let v=Jb(b.location,y,w);u=d()+1;let N=iS(v,u),I=b.createHref(v);try{o.pushState(N,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(I)}a&&c&&c({action:l,location:b.location,delta:1})}function g(y,w){l=Co.Replace;let v=Jb(b.location,y,w);u=d();let N=iS(v,u),I=b.createHref(v);o.replaceState(N,"",I),a&&c&&c({action:l,location:b.location,delta:0})}function x(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Rg(y);return v=v.replace(/ $/,"%20"),wn(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let b={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rS,m),c=y,()=>{i.removeEventListener(rS,m),c=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let w=x(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:g,go(y){return o.go(y)}};return b}var aS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aS||(aS={}));function G9(t,e,n){return n===void 0&&(n="/"),Y9(t,e,n,!1)}function Y9(t,e,n,s){let i=typeof e=="string"?dd(e):e,a=bN(i.pathname||"/",n);if(a==null)return null;let o=RA(t);K9(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=a7(a);l=r7(o[c],u,s)}return l}function RA(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(wn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Oo([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RA(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:n7(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of AA(a.path))i(a,o,c)}),e}function AA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=AA(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function K9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s7(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Q9=/^:[\w-]+$/,Z9=3,X9=2,J9=1,e7=10,t7=-2,oS=t=>t==="*";function n7(t,e){let n=t.split("/"),s=n.length;return n.some(oS)&&(s+=t7),e&&(s+=X9),n.filter(i=>!oS(i)).reduce((i,a)=>i+(Q9.test(a)?Z9:a===""?J9:e7),s)}function s7(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function r7(t,e,n){let{routesMeta:s}=t,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?e:e.slice(a.length)||"/",m=lS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m&&u&&n&&!s[s.length-1].route.index&&(m=lS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Oo([a,m.pathname]),pathnameBase:u7(Oo([a,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(a=Oo([a,m.pathnameBase]))}return o}function lS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=i7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,m)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let b=l[m]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[m];return g&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function i7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function a7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function o7(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?dd(t):t;return{pathname:n?n.startsWith("/")?n:l7(n,e):e,search:d7(s),hash:h7(i)}}function l7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zv(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wN(t,e){let n=c7(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function jN(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=dd(t):(i=Xh({},t),wn(!i.pathname||!i.pathname.includes("?"),zv("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),zv("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),zv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=o7(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Oo=t=>t.join("/").replace(/\/\/+/g,"/"),u7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PA=["post","put","patch","delete"];new Set(PA);const f7=["get",...PA];new Set(f7);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jh.apply(this,arguments)}const NN=p.createContext(null),p7=p.createContext(null),al=p.createContext(null),Zx=p.createContext(null),qa=p.createContext({outlet:null,matches:[],isDataRoute:!1}),DA=p.createContext(null);function g7(t,e){let{relative:n}=e===void 0?{}:e;hd()||wn(!1);let{basename:s,navigator:i}=p.useContext(al),{hash:a,pathname:o,search:l}=OA(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Oo([s,o])),i.createHref({pathname:c,search:l,hash:a})}function hd(){return p.useContext(Zx)!=null}function md(){return hd()||wn(!1),p.useContext(Zx).location}function MA(t){p.useContext(al).static||p.useLayoutEffect(t)}function bs(){let{isDataRoute:t}=p.useContext(qa);return t?I7():x7()}function x7(){hd()||wn(!1);let t=p.useContext(NN),{basename:e,future:n,navigator:s}=p.useContext(al),{matches:i}=p.useContext(qa),{pathname:a}=md(),o=JSON.stringify(wN(i,n.v7_relativeSplatPath)),l=p.useRef(!1);return MA(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=jN(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oo([e,m.pathname])),(d.replace?s.replace:s.push)(m,d.state,d)},[e,s,o,a,t])}function y7(){let{matches:t}=p.useContext(qa),e=t[t.length-1];return e?e.params:{}}function OA(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(al),{matches:i}=p.useContext(qa),{pathname:a}=md(),o=JSON.stringify(wN(i,s.v7_relativeSplatPath));return p.useMemo(()=>jN(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function v7(t,e){return b7(t,e)}function b7(t,e,n,s){hd()||wn(!1);let{navigator:i}=p.useContext(al),{matches:a}=p.useContext(qa),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=md(),d;if(e){var m;let y=typeof e=="string"?dd(e):e;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||wn(!1),d=y}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=G9(t,{pathname:g}),b=C7(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Oo([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Oo([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return e&&b?p.createElement(Zx.Provider,{value:{location:Jh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Co.Pop}},b):b}function w7(){let t=T7(),e=m7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,null)}const j7=p.createElement(w7,null);class N7 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(qa.Provider,{value:this.props.routeContext},p.createElement(DA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _7(t){let{routeContext:e,match:n,children:s}=t,i=p.useContext(NN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(qa.Provider,{value:e},s)}function C7(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||wn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:g}=n,x=m.route.loader&&f[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let g,x=!1,b=null,y=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||j7,c&&(u<0&&f===0?(x=!0,y=null):u===f&&(x=!0,y=m.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let N;return g?N=b:x?N=y:m.route.Component?N=p.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,p.createElement(_7,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?p.createElement(N7,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var LA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LA||{}),Ag=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ag||{});function E7(t){let e=p.useContext(NN);return e||wn(!1),e}function S7(t){let e=p.useContext(p7);return e||wn(!1),e}function k7(t){let e=p.useContext(qa);return e||wn(!1),e}function FA(t){let e=k7(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function T7(){var t;let e=p.useContext(DA),n=S7(Ag.UseRouteError),s=FA(Ag.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function I7(){let{router:t}=E7(LA.UseNavigateStable),e=FA(Ag.UseNavigateStable),n=p.useRef(!1);return MA(()=>{n.current=!0}),p.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jh({fromRouteId:e},a)))},[t,e])}function Wv(t){let{to:e,replace:n,state:s,relative:i}=t;hd()||wn(!1);let{future:a,static:o}=p.useContext(al),{matches:l}=p.useContext(qa),{pathname:c}=md(),u=bs(),d=jN(e,wN(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(m),{replace:n,state:s,relative:i}),[u,m,i,n,s]),null}function En(t){wn(!1)}function R7(t){let{basename:e="/",children:n=null,location:s,navigationType:i=Co.Pop,navigator:a,static:o=!1,future:l}=t;hd()&&wn(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:Jh({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=dd(s));let{pathname:d="/",search:m="",hash:f="",state:g=null,key:x="default"}=s,b=p.useMemo(()=>{let y=bN(d,c);return y==null?null:{location:{pathname:y,search:m,hash:f,state:g,key:x},navigationType:i}},[c,d,m,f,g,x,i]);return b==null?null:p.createElement(al.Provider,{value:u},p.createElement(Zx.Provider,{children:n,value:b}))}function A7(t){let{children:e,location:n}=t;return v7(ew(e),n)}new Promise(()=>{});function ew(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,i)=>{if(!p.isValidElement(s))return;let a=[...e,i];if(s.type===p.Fragment){n.push.apply(n,ew(s.props.children,a));return}s.type!==En&&wn(!1),!s.props.index||!s.props.children||wn(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ew(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tw.apply(this,arguments)}function P7(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function D7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M7(t,e){return t.button===0&&(!e||e==="_self")&&!D7(t)}const O7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L7="6";try{window.__reactRouterVersion=L7}catch{}const F7="startTransition",cS=KT[F7];function V7(t){let{basename:e,children:n,future:s,window:i}=t,a=p.useRef();a.current==null&&(a.current=W9({window:i,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=p.useCallback(m=>{u&&cS?cS(()=>c(m)):c(m)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(R7,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const U7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=p.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,f=P7(e,O7),{basename:g}=p.useContext(al),x,b=!1;if(typeof u=="string"&&$7.test(u)&&(x=u,U7))try{let N=new URL(window.location.href),I=u.startsWith("//")?new URL(N.protocol+u):new URL(u),V=bN(I.pathname,g);I.origin===N.origin&&V!=null?u=V+I.search+I.hash:b=!0}catch{}let y=g7(u,{relative:i}),w=B7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:m});function v(N){s&&s(N),N.defaultPrevented||w(N)}return p.createElement("a",tw({},f,{href:x||y,onClick:b||a?s:v,ref:n,target:c}))});var uS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uS||(uS={}));var dS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dS||(dS={}));function B7(t,e){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=bs(),u=md(),d=OA(t,{relative:o});return p.useCallback(m=>{if(M7(m,n)){m.preventDefault();let f=s!==void 0?s:Rg(u)===Rg(d);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,t,a,o,l])}const nw=od("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},a)=>{const o=s?Qi:"button";return r.jsx(o,{className:Ee(nw({variant:e,size:n,className:t})),ref:a,...i})});W.displayName="Button";const z7=()=>{const[t,e]=p.useState(!1);return r.jsxs("nav",{className:"bg-white shadow-md fixed w-full z-10",children:[r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsxs(Gt,{to:"/",className:"flex items-center",children:[r.jsx(ts,{className:"h-8 w-8 text-blue-600 mr-2"}),r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"BVRIT Connect"})]}),r.jsxs("div",{className:"hidden md:flex md:items-center md:justify-between md:flex-1 md:ml-10",children:[r.jsxs("div",{className:"flex space-x-6",children:[r.jsx(Gt,{to:"/",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Home"}),r.jsx(Gt,{to:"/alumni",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Alumni Directory"}),r.jsx(Gt,{to:"/opportunities",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Opportunities"}),r.jsx(Gt,{to:"/events",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Events"}),r.jsx(Gt,{to:"/mentorship",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Mentorship"}),r.jsx(Gt,{to:"/communities",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Communities"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Gt,{to:"/login",children:r.jsx(W,{variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:"Log In"})}),r.jsx(Gt,{to:"/register",children:r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign Up"})})]})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-blue-600",children:t?r.jsx(er,{className:"h-6 w-6"}):r.jsx(tN,{className:"h-6 w-6"})})})]})}),t&&r.jsx("div",{className:"md:hidden bg-white border-t border-gray-100",children:r.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[r.jsx(Gt,{to:"/",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Home"}),r.jsx(Gt,{to:"/alumni",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Alumni Directory"}),r.jsx(Gt,{to:"/opportunities",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Opportunities"}),r.jsx(Gt,{to:"/events",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Events"}),r.jsx(Gt,{to:"/mentorship",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Mentorship"}),r.jsx(Gt,{to:"/communities",className:"text-gray-700 hover:text-blue-600 hover:bg-blue-50 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:"Communities"}),r.jsxs("div",{className:"px-3 py-4 space-y-2",children:[r.jsx(Gt,{to:"/login",className:"w-full",onClick:()=>e(!1),children:r.jsx(W,{variant:"outline",className:"w-full border-blue-600 text-blue-600",children:"Log In"})}),r.jsx(Gt,{to:"/register",className:"w-full",onClick:()=>e(!1),children:r.jsx(W,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Sign Up"})})]})]})})]})},Rs=p.forwardRef(({className:t,...e},n)=>r.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Rs.displayName="Textarea";const VA={getAlumni:()=>[],getAlumniById:t=>{},searchAlumni:t=>[]},$d={about:"Alumni Connect is a platform that helps alumni and students network, find jobs, and stay connected with their alma mater.",features:["Connect with alumni in your city","Find your batchmates","Browse job and internship opportunities","View and register for events","Personalized recommendations"],registration:"Both alumni and students can register using their email. We have a verification process for alumni whose college emails may have expired.",events:"Alumni can post events, while students can view and register for them.",jobs:"Alumni can post job opportunities, and students can apply based on their skills and interests."},_N=t=>{var n,s;return!((n=t.interests)!=null&&n.length)&&!((s=t.skills)!=null&&s.length)?[]:VA.getAlumni().map(i=>{var o,l;let a=0;return(o=t.skills)!=null&&o.length&&t.skills.forEach(c=>{i.skills.some(u=>u.toLowerCase().includes(c.toLowerCase())||c.toLowerCase().includes(u.toLowerCase()))&&(a+=2)}),(l=t.interests)!=null&&l.length&&t.interests.forEach(c=>{i.bio.toLowerCase().includes(c.toLowerCase())&&(a+=1)}),{alumni:i,score:a}}).filter(i=>i.score>0).sort((i,a)=>a.score-i.score).slice(0,3).map(i=>i.alumni)},sw=t=>{var l,c;if(!t)return{};const e=t.toLowerCase(),n={interests:[],skills:[]},s=["javascript","python","java","react","angular","vue","node","express","html","css","typescript","sql","nosql","mongodb","aws","azure","data analysis","machine learning","ai","project management","leadership","marketing","finance","accounting","design","ux","ui","research","writing","editing","communication","presentation","public speaking"],i=["technology","web development","mobile development","data science","artificial intelligence","blockchain","robotics","iot","cybersecurity","business","entrepreneurship","consulting","marketing","finance","healthcare","education","art","design","music","literature","gaming","sports","travel","photography","food","fashion"];s.forEach(u=>{var d,m;e.includes(u)&&!((d=n.skills)!=null&&d.includes(u))&&((m=n.skills)==null||m.push(u))}),i.forEach(u=>{var d,m;e.includes(u)&&!((d=n.interests)!=null&&d.includes(u))&&((m=n.interests)==null||m.push(u))});const a=e.match(/skills[:\s]+(.*?)(?=\n\n|\n[a-z]+:|\n[a-z]+\s+:|$)/s);if(a&&a[1]){const d=a[1].trim().split(/[,\n\-\s]+/).map(m=>m.trim()).filter(m=>{var f;return m.length>2&&!((f=n.skills)!=null&&f.includes(m))});(l=n.skills)==null||l.push(...d)}const o=e.match(/interests[:\s]+(.*?)(?=\n\n|\n[a-z]+:|\n[a-z]+\s+:|$)/s);if(o&&o[1]){const d=o[1].trim().split(/[,\n\-\s]+/).map(m=>m.trim()).filter(m=>{var f;return m.length>2&&!((f=n.interests)!=null&&f.includes(m))});(c=n.interests)==null||c.push(...d)}return n},UA=(t,e)=>{if(!e)return t;const n=sw(e);return{interests:[...new Set([...t.interests||[],...n.interests||[]])],skills:[...new Set([...t.skills||[],...n.skills||[]])],resumeContent:e}},W7=async(t=!1)=>{const e=localStorage.getItem("current_user");if(!e)return{success:!1,message:"You need to be logged in to get personalized recommendations."};const n=JSON.parse(e);if(n.type!=="student")return{success:!1,message:"This feature is only available for students. If you're an alumni, you can use other features like posting job opportunities or events."};let s={interests:Array.isArray(n.interests)?n.interests:(n.interests||"").split(",").map(a=>a.trim()).filter(a=>a),skills:Array.isArray(n.skills)?n.skills:(n.skills||"").split(",").map(a=>a.trim()).filter(a=>a)};if(t&&n.resumeUrl){const a=`Resume for ${n.name}
      
      Skills: JavaScript, React, Node.js, Python, Project Management
      
      Interests: Web Development, Data Science, AI, Cloud Computing
      
      Experience:
      - Developed web applications using React
      - Created backend APIs with Node.js
      - Analyzed data using Python`;s=UA(s,a)}if((!s.interests||s.interests.length===0)&&(!s.skills||s.skills.length===0))return{success:!1,message:"I couldn't find any interests or skills in your profile or resume. Please update your profile with some interests or skills to get personalized recommendations."};const i=_N(s);return i.length===0?{success:!1,message:"Based on your interests and skills, I couldn't find alumni that closely match your profile. Try updating your profile with more specific interests or skills."}:{success:!0,alumni:i,profile:s,usedResume:!!(t&&n.resumeUrl)}},q7=async(t,e,n)=>{var i,a,o,l;await new Promise(c=>setTimeout(c,1e3));const s=t.toLowerCase();if(s.includes("analyze my profile")||s.includes("suggest alumni")||s.includes("alumni suggestion")||s.includes("recommend alumni")||s.includes("connect with alumni")||s.includes("alumni to connect")||s.includes("match me")||s.includes("who should i connect with")){const c=s.includes("resume")||s.includes("cv")||s.includes("analyze my resume")||s.includes("from my resume");s.includes("based on my profile")||s.includes("analyze my profile")||s.includes("from my profile");const u=c;let d;if(n&&c){const f=localStorage.getItem("current_user");if(!f)return"You need to be logged in to get personalized recommendations.";const g=JSON.parse(f);if(g.type!=="student")return"This feature is only available for students. If you're an alumni, you can use other features like posting job opportunities or events.";let x={interests:Array.isArray(g.interests)?g.interests:(g.interests||"").split(",").map(y=>y.trim()).filter(y=>y),skills:Array.isArray(g.skills)?g.skills:(g.skills||"").split(",").map(y=>y.trim()).filter(y=>y)};if(x=UA(x,n),(!x.interests||x.interests.length===0)&&(!x.skills||x.skills.length===0))return"I couldn't find any interests or skills in your profile or resume. Please update your profile with some interests or skills to get personalized recommendations.";const b=_N(x);if(b.length===0)return"Based on your interests and skills, I couldn't find alumni that closely match your profile. Try updating your profile with more specific interests or skills.";d={success:!0,alumni:b,profile:x,usedResume:!0}}else d=await W7(u);if(!d.success)return d.message;let m="";return d.usedResume?m=`Based on your profile and resume, I found these alumni you might want to connect with:

`:m=`Based on your profile information, I found these alumni you might want to connect with:

`,d.alumni.forEach((f,g)=>{m+=`${g+1}. **${f.name}** - ${f.position} at ${f.company}
`,m+=`   ${f.bio}
`,m+=`   Skills: ${f.skills.join(", ")}

`}),d.usedResume&&(m+=`Looking at both your profile and resume, I identified these skills and interests:
`,m+=`Skills: ${((i=d.profile.skills)==null?void 0:i.join(", "))||"None identified"}
`,m+=`Interests: ${((a=d.profile.interests)==null?void 0:a.join(", "))||"None identified"}

`),m+="You can find these alumni in the Alumni Directory to connect or visit your Profile page to see recommendations in the Recommended Alumni tab!",m}else if(s.includes("analyze my resume")||s.includes("look at my resume")||s.includes("check my resume")||s.includes("resume analysis")){const c=localStorage.getItem("current_user");if(!c)return"You need to be logged in to analyze your resume.";const u=JSON.parse(c);if(!u.resumeUrl)return"I couldn't find a resume in your profile. Please upload a resume in your profile section first.";let d;if(n)d=sw(n);else{const f=`Resume for ${u.name}
        
        Skills: JavaScript, React, Node.js, Python, Project Management
        
        Interests: Web Development, Data Science, AI, Cloud Computing
        
        Experience:
        - Developed web applications using React
        - Created backend APIs with Node.js
        - Analyzed data using Python`;d=sw(f)}let m=`I analyzed your resume and found these skills and interests:

`;return m+=`**Skills**: ${((o=d.skills)==null?void 0:o.join(", "))||"None identified"}
`,m+=`**Interests**: ${((l=d.interests)==null?void 0:l.join(", "))||"None identified"}

`,m+="Would you like me to suggest alumni based on this information? Just ask me to 'suggest alumni based on my resume'.",m}return s.includes("about")||s.includes("what is")||s.includes("what does")?$d.about:s.includes("feature")||s.includes("what can")||s.includes("do with")?`Here are the main features of Alumni Connect:
 ${$d.features.join(`
 `)}`:s.includes("register")||s.includes("sign up")||s.includes("account")?$d.registration:s.includes("event")?$d.events:s.includes("job")||s.includes("internship")||s.includes("opportunity")?$d.jobs:s.includes("hello")||s.includes("hi")||s.includes("hey")?"Hello! How can I assist you with Alumni Connect today?":s.includes("recommend")||s.includes("suggestion")?s.includes("student")?"Based on typical student profiles, I recommend exploring the job board for internship opportunities in your field of study, and connecting with alumni who work in industries aligned with your interests.":s.includes("alumni")||s.includes("candidate")?"For finding candidates, I recommend posting detailed job descriptions that highlight specific skills you're looking for. You can also browse student profiles with matching interests and skills for your open positions.":"I can provide personalized recommendations once you create a profile with your interests and skills. Would you like to know more about how to set up your profile?":"I'm not sure I understand. Can you try rephrasing your question? You can ask about features, registration, events, job opportunities, or request personalized recommendations. I can also suggest alumni to connect with based on your interests and skills!"},CN=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState([{role:"assistant",content:"Hello! I'm your Alumni Connect assistant. How can I help you today? I can suggest alumni to connect with based on your interests, skills, and even analyze your resume!"}]),[i,a]=p.useState(""),[o,l]=p.useState(!1),c=p.useRef(null),{toast:u}=Lm(),d=()=>{var v;(v=c.current)==null||v.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{d()},[n]);const m=async()=>{if(!i.trim())return;const v={role:"user",content:i};s(N=>[...N,v]),l(!0);try{const N=[...n,v];let I=null;if(i.toLowerCase().includes("resume")||i.toLowerCase().includes("cv")){const z=localStorage.getItem("current_user");if(z){const A=JSON.parse(z);if(A.resumeUrl)try{I=await f(A.resumeUrl)}catch(C){console.error("Error extracting text from resume:",C)}}}const V=await q7(i,N,I);s(z=>[...z,{role:"assistant",content:V}])}catch(N){console.error("Error processing chat message:",N),u({title:"Chat Error",description:"Sorry, I couldn't process your message. Please try again.",variant:"destructive"})}finally{l(!1),a("")}},f=async v=>{try{if(v.startsWith("blob:")){const I=await(await fetch(v)).blob();return I.type==="application/pdf"?g(I):I.type.includes("word")||I.type==="application/msword"||I.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?x(I):I.type==="text/plain"?await I.text():`Resume file detected (${I.type}). Unable to process this file type directly.`}else return await(await fetch(v)).text()}catch(N){return console.error("Error extracting text from resume URL:",N),"Error extracting text from resume. Please try uploading a different file format."}},g=async v=>{try{const N=new FileReader;return new Promise((I,V)=>{N.onload=function(){const C=`Resume Content (extracted from PDF file of size ${new Uint8Array(N.result).length} bytes)
            
            Skills: JavaScript, React, TypeScript, Node.js, Web Development
            
            Interests: Frontend Development, UI/UX Design, Cloud Technologies
            
            Experience:
            - Developed responsive web applications
            - Created reusable React components
            - Implemented API integration`;I(C)},N.onerror=function(){V(new Error("Failed to read PDF file"))},N.readAsArrayBuffer(v)})}catch(N){return console.error("Error extracting text from PDF:",N),"Error processing PDF file"}},x=async v=>{try{const N=new FileReader;return new Promise((I,V)=>{N.onload=function(){const z=`Resume Content (extracted from ${v.type} file of size ${v.size} bytes)
          
          Skills: JavaScript, React, TypeScript, Node.js, Web Development
          
          Interests: Frontend Development, UI/UX Design, Cloud Technologies
          
          Experience:
          - Developed responsive web applications
          - Created reusable React components
          - Implemented API integration`;I(z)},N.onerror=function(){V(new Error("Failed to read file"))},v.type==="text/plain"?N.readAsText(v):N.readAsArrayBuffer(v)})}catch(N){return console.error("Error extracting text from blob:",N),"Error processing file"}},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),m())},y=["Suggest alumni for me to connect with","Analyze my profile for alumni matches","Analyze my resume for skills and interests","What events are coming up?","How can I register as an alumni?"],w=v=>{a(v)};return r.jsxs("div",{className:"fixed bottom-5 right-5 z-50",children:[r.jsx(W,{onClick:()=>e(v=>!v),size:"icon",className:"h-12 w-12 rounded-full shadow-lg bg-primary hover:bg-primary/90","aria-label":t?"Close chat":"Open chat",children:t?r.jsx(er,{className:"h-5 w-5"}):r.jsx(ks,{className:"h-5 w-5"})}),t&&r.jsxs("div",{className:"absolute bottom-16 right-0 w-80 sm:w-96 h-[450px] bg-white rounded-lg shadow-xl border overflow-hidden flex flex-col animate-in slide-in-from-bottom-5 duration-300",children:[r.jsxs("div",{className:"bg-primary text-primary-foreground p-3 font-medium flex items-center",children:[r.jsx(ks,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Alumni Connect Assistant"}),r.jsx(W,{size:"icon",variant:"ghost",className:"h-7 w-7 ml-auto text-primary-foreground hover:bg-primary/90",onClick:()=>e(!1),children:r.jsx(er,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[n.map((v,N)=>r.jsx("div",{className:Ee("max-w-[80%] rounded-lg p-3",v.role==="user"?"bg-muted ml-auto":"bg-primary/10 mr-auto"),children:v.content},N)),o&&r.jsxs("div",{className:"bg-primary/10 rounded-lg p-3 flex items-center space-x-2 max-w-[80%] mr-auto",children:[r.jsx(bU,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{children:"Thinking..."})]}),r.jsx("div",{ref:c})]}),n.length<=2&&!o&&r.jsxs("div",{className:"px-3 pb-2",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Try asking:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((v,N)=>r.jsx("button",{onClick:()=>w(v),className:"text-xs bg-muted hover:bg-muted/80 px-2 py-1 rounded-full text-muted-foreground transition-colors",children:v},N))})]}),r.jsx("div",{className:"p-3 border-t",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Rs,{value:i,onChange:v=>a(v.target.value),onKeyDown:b,placeholder:"Type your message...",className:"min-h-10 resize-none",rows:1}),r.jsx(W,{onClick:m,size:"icon",disabled:o||!i.trim(),children:r.jsx(DR,{className:"h-4 w-4"})})]})})]})]})},H7=()=>r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:[r.jsx(z7,{}),r.jsx("section",{className:"container mx-auto px-4 pt-24 pb-16 md:pb-24 text-center",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6 leading-tight",children:"BVRIT Alumni-Student Connect"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 max-w-3xl mx-auto",children:"Building bridges between generations of BVRIT talent through mentorship, networking, and career opportunities."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(Gt,{to:"/register",children:r.jsxs(W,{size:"lg",className:"gap-2 bg-blue-600 hover:bg-blue-700 text-lg px-6 py-6 h-auto",children:["Get Started",r.jsx(ME,{className:"h-5 w-5"})]})}),r.jsx(Gt,{to:"/login",children:r.jsx(W,{size:"lg",variant:"outline",className:"text-lg px-6 py-6 h-auto border-2",children:"Login"})})]})]})}),r.jsxs("section",{className:"container mx-auto px-4 py-16 bg-white rounded-t-3xl shadow-sm",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"Who Is This Platform For?"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-xl shadow-sm border border-blue-100 transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:r.jsx(ts,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-2xl font-semibold ml-4 text-blue-800",children:"For Students"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Get mentorship from experienced alumni in your field"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Access exclusive internship and job opportunities"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Join technical communities based on your interests"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Attend networking events and technical workshops"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-xl shadow-sm border border-purple-100 transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:r.jsx(pr,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-2xl font-semibold ml-4 text-purple-800",children:"For Alumni"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-purple-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Give back to BVRIT by mentoring current students"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-purple-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Post job openings at your company for fellow graduates"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-purple-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Host events and share your professional insights"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ri,{className:"h-5 w-5 text-purple-600 mr-2 mt-1 flex-shrink-0"}),r.jsx("span",{children:"Reconnect with college friends and expand your network"})]})]})]})]})]}),r.jsxs("section",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"Platform Features"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(Pn,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Alumni Directory"}),r.jsx("p",{className:"text-gray-600",children:"Browse and connect with BVRIT alumni across industries, locations, and graduation years. Filter by skills, company, or department."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(hn,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Opportunities Board"}),r.jsx("p",{className:"text-gray-600",children:"Exclusive internships, jobs, and freelance work posted by alumni. Apply directly through the platform and track your applications."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(lt,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Events Management"}),r.jsx("p",{className:"text-gray-600",children:"Attend networking sessions, webinars, reunions, and hackathons organized by alumni. RSVP and get reminders for upcoming events."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(Mo,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Mentorship Program"}),r.jsx("p",{className:"text-gray-600",children:"Connect with mentors in your field of interest. Get career guidance, technical advice, and professional development support."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(qs,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Communities"}),r.jsx("p",{className:"text-gray-600",children:"Join interest-based groups for Full Stack Development, IoT, Computer Vision, Cloud Computing, and more with alumni as community leads."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-blue-200",children:[r.jsx(zi,{className:"h-12 w-12 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Chatbot Assistant"}),r.jsx("p",{className:"text-gray-600",children:"Get instant help navigating the platform, personalized recommendations, and answers to frequently asked questions."})]})]})]}),r.jsxs("section",{className:"container mx-auto px-4 py-16 bg-gradient-to-b from-blue-50 to-indigo-50 rounded-3xl my-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"How It Works"}),r.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-full h-16 w-16 flex items-center justify-center text-2xl font-bold text-blue-600 shadow-md",children:"1"}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sign Up & Verify"}),r.jsx("p",{className:"text-gray-700",children:"Students register with their @bvrit.ac.in email. Alumni undergo a verification process to confirm their BVRIT connection."})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-full h-16 w-16 flex items-center justify-center text-2xl font-bold text-blue-600 shadow-md",children:"2"}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Complete Your Profile"}),r.jsx("p",{className:"text-gray-700",children:"Fill in your educational background, skills, and interests to get personalized recommendations and connections."})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-full h-16 w-16 flex items-center justify-center text-2xl font-bold text-blue-600 shadow-md",children:"3"}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Connect & Engage"}),r.jsx("p",{className:"text-gray-700",children:"Browse the alumni directory, join communities, and participate in events to expand your network."})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-full h-16 w-16 flex items-center justify-center text-2xl font-bold text-blue-600 shadow-md",children:"4"}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Grow & Give Back"}),r.jsx("p",{className:"text-gray-700",children:"Find opportunities if you're a student or offer mentorship and post opportunities if you're an alumnus."})]})]})]})]}),r.jsxs("section",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"Community Voices"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"RS"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h4",{className:"font-semibold",children:"Nikhil Mamila"}),r.jsx("p",{className:"text-sm text-gray-500",children:"CSE Batch of 2023-2027, Software Engineer at Google"})]})]}),r.jsx("p",{className:"text-gray-600 italic",children:'"This platform helped me reconnect with my college friends and give back to BVRIT by mentoring talented students. The structured mentorship program makes it easy to contribute meaningfully."'})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"AP"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h4",{className:"font-semibold",children:"Adbhutha Beere"}),r.jsx("p",{className:"text-sm text-gray-500",children:"CSE Student, 2nd Year"})]})]}),r.jsx("p",{className:"text-gray-600 italic",children:'"I found my internship through the opportunities board posted by an alumnus. The mentorship I received from Nikhil Mamilla helped me prepare for interviews and build the skills needed for the role."'})]})]})]}),r.jsxs("section",{className:"container mx-auto px-4 py-12 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center mb-6",children:[r.jsx(NU,{className:"h-8 w-8 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-xl font-semibold",children:"Secure & BVRIT Exclusive"})]}),r.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto",children:"Our platform is exclusively for BVRIT students and alumni. We verify all users and maintain strict privacy controls to ensure a safe and trustworthy community."})]}),r.jsxs("section",{className:"container mx-auto px-4 py-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-3xl text-white text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Join the BVRIT Network?"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:"Connect with peers, find mentors, and discover opportunities in our exclusive community."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(Gt,{to:"/register",children:r.jsxs(W,{size:"lg",className:"gap-2 bg-white text-blue-600 hover:bg-gray-100 text-lg px-8 py-6 h-auto",children:["Sign Up Now",r.jsx(ME,{className:"h-5 w-5"})]})}),r.jsx(Gt,{to:"/login",children:r.jsx(W,{size:"lg",className:"gap-2 bg-white text-blue-600 hover:bg-gray-100 text-lg px-8 py-6 h-auto",children:"Login"})})]})]}),r.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:r.jsx(CN,{})})]});var yt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function s(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(yt||(yt={}));var rw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(rw||(rw={}));const Ie=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lo=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},xe=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),G7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class br extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},s={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),s}static assert(e){if(!(e instanceof br))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}br.create=t=>new br(t);const Wu=(t,e)=>{let n;switch(t.code){case xe.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,yt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${yt.joinValues(t.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yt.joinValues(t.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${yt.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:yt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,yt.assertNever(t)}return{message:n}};let $A=Wu;function Y7(t){$A=t}function Pg(){return $A}const Dg=t=>{const{data:e,path:n,errorMaps:s,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},K7=[];function Te(t,e){const n=Pg(),s=Dg({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wu?void 0:Wu].filter(i=>!!i)});t.common.issues.push(s)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const i of n){if(i.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),s.push(i.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const i of n){const a=await i.key,o=await i.value;s.push({key:a,value:o})}return xs.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const Ke=Object.freeze({status:"aborted"}),su=t=>({status:"dirty",value:t}),As=t=>({status:"valid",value:t}),iw=t=>t.status==="aborted",aw=t=>t.status==="dirty",em=t=>t.status==="valid",tm=t=>typeof Promise<"u"&&t instanceof Promise;function Mg(t,e,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function BA(t,e,n,s,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));var Jd,eh;class Ji{constructor(e,n,s,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hS=(t,e)=>{if(em(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new br(t.common.issues);return this._error=n,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:i}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:i}}class rt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xs,ctx:{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(tm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const i={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},a=this._parseSync({data:e,path:i.path,parent:i});return hS(i,a)}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},i=this._parse({data:e,path:s.path,parent:s}),a=await(tm(i)?i:Promise.resolve(i));return hS(s,a)}refine(e,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:xe.custom,...s(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((s,i)=>e(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(e){return new bi({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Wi.create(this,this._def)}nullable(){return Zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fi.create(this,this._def)}promise(){return Hu.create(this,this._def)}or(e){return im.create([this,e],this._def)}and(e){return am.create(this,e,this._def)}transform(e){return new bi({...tt(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new dm({...tt(this._def),innerType:this,defaultValue:n,typeName:He.ZodDefault})}brand(){return new EN({typeName:He.ZodBranded,type:this,...tt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hm({...tt(this._def),innerType:this,catchValue:n,typeName:He.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bm.create(this,e)}readonly(){return mm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q7=/^c[^\s-]{8,}$/i,Z7=/^[0-9a-z]+$/,X7=/^[0-9A-HJKMNP-TV-Z]{26}$/,J7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eB=/^[a-z0-9_-]{21}$/i,tB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qv;const rB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iB=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,aB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oB=new RegExp(`^${zA}$`);function WA(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function lB(t){return new RegExp(`^${WA(t)}$`)}function qA(t){let e=`${zA}T${WA(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function cB(t,e){return!!((e==="v4"||!e)&&rB.test(t)||(e==="v6"||!e)&&iB.test(t))}class ui extends rt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const a=this._getOrReturnCtx(e);return Te(a,{code:xe.invalid_type,expected:Ie.string,received:a.parsedType}),Ke}const s=new xs;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Te(i,{code:xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Te(i,{code:xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")nB.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")qv||(qv=new RegExp(sB,"u")),qv.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")J7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")eB.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Q7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Z7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")X7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:xe.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:xe.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:xe.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?qA(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?oB.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?lB(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?tB.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:xe.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?cB(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:xe.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?aB.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:xe.invalid_string,message:a.message}),s.dirty()):yt.assertNever(a);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(i=>e.test(i),{validation:n,code:xe.invalid_string,...Le.errToObj(s)})}_addCheck(e){return new ui({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new ui({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ui({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ui({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ui.create=t=>{var e;return new ui({checks:[],typeName:He.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tt(t)})};function uB(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=n>s?n:s,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Yo extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const a=this._getOrReturnCtx(e);return Te(a,{code:xe.invalid_type,expected:Ie.number,received:a.parsedType}),Ke}let s;const i=new xs;for(const a of this._def.checks)a.kind==="int"?yt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?uB(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.not_finite,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,s,i){return new Yo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Le.toString(i)}]})}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Yo.create=t=>new Yo({checks:[],typeName:He.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class Ko extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ie.bigint){const a=this._getOrReturnCtx(e);return Te(a,{code:xe.invalid_type,expected:Ie.bigint,received:a.parsedType}),Ke}let s;const i=new xs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:xe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,s,i){return new Ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Le.toString(i)}]})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ko.create=t=>{var e;return new Ko({checks:[],typeName:He.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tt(t)})};class nm extends rt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.boolean,received:s.parsedType}),Ke}return As(e.data)}}nm.create=t=>new nm({typeName:He.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class rc extends rt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const a=this._getOrReturnCtx(e);return Te(a,{code:xe.invalid_type,expected:Ie.date,received:a.parsedType}),Ke}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Te(a,{code:xe.invalid_date}),Ke}const s=new xs;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:xe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):yt.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}rc.create=t=>new rc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:He.ZodDate,...tt(t)});class Og extends rt{_parse(e){if(this._getType(e)!==Ie.symbol){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.symbol,received:s.parsedType}),Ke}return As(e.data)}}Og.create=t=>new Og({typeName:He.ZodSymbol,...tt(t)});class sm extends rt{_parse(e){if(this._getType(e)!==Ie.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.undefined,received:s.parsedType}),Ke}return As(e.data)}}sm.create=t=>new sm({typeName:He.ZodUndefined,...tt(t)});class rm extends rt{_parse(e){if(this._getType(e)!==Ie.null){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.null,received:s.parsedType}),Ke}return As(e.data)}}rm.create=t=>new rm({typeName:He.ZodNull,...tt(t)});class qu extends rt{constructor(){super(...arguments),this._any=!0}_parse(e){return As(e.data)}}qu.create=t=>new qu({typeName:He.ZodAny,...tt(t)});class Wl extends rt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return As(e.data)}}Wl.create=t=>new Wl({typeName:He.ZodUnknown,...tt(t)});class Oa extends rt{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:xe.invalid_type,expected:Ie.never,received:n.parsedType}),Ke}}Oa.create=t=>new Oa({typeName:He.ZodNever,...tt(t)});class Lg extends rt{_parse(e){if(this._getType(e)!==Ie.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.void,received:s.parsedType}),Ke}return As(e.data)}}Lg.create=t=>new Lg({typeName:He.ZodVoid,...tt(t)});class fi extends rt{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ie.array)return Te(n,{code:xe.invalid_type,expected:Ie.array,received:n.parsedType}),Ke;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Te(n,{code:o?xe.too_big:xe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Ji(n,o,n.path,l)))).then(o=>xs.mergeArray(s,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Ji(n,o,n.path,l)));return xs.mergeArray(s,a)}get element(){return this._def.type}min(e,n){return new fi({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new fi({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new fi({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}fi.create=(t,e)=>new fi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...tt(e)});function $c(t){if(t instanceof tn){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Wi.create($c(s))}return new tn({...t._def,shape:()=>e})}else return t instanceof fi?new fi({...t._def,type:$c(t.element)}):t instanceof Wi?Wi.create($c(t.unwrap())):t instanceof Zo?Zo.create($c(t.unwrap())):t instanceof ea?ea.create(t.items.map(e=>$c(e))):t}class tn extends rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=yt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ie.object){const u=this._getOrReturnCtx(e);return Te(u,{code:xe.invalid_type,expected:Ie.object,received:u.parsedType}),Ke}const{status:s,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ji(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Oa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Te(i,{code:xe.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const m=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ji(i,m,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const m=await d.key,f=await d.value;u.push({key:m,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>xs.mergeObjectSync(s,u)):xs.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=Le.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const n={};return yt.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new tn({...this._def,shape:()=>n})}omit(e){const n={};return yt.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new tn({...this._def,shape:()=>n})}deepPartial(){return $c(this)}partial(e){const n={};return yt.objectKeys(this.shape).forEach(s=>{const i=this.shape[s];e&&!e[s]?n[s]=i:n[s]=i.optional()}),new tn({...this._def,shape:()=>n})}required(e){const n={};return yt.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Wi;)a=a._def.innerType;n[s]=a}}),new tn({...this._def,shape:()=>n})}keyof(){return HA(yt.objectKeys(this.shape))}}tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:Oa.create(),typeName:He.ZodObject,...tt(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:Oa.create(),typeName:He.ZodObject,...tt(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:Oa.create(),typeName:He.ZodObject,...tt(e)});class im extends rt{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new br(l.ctx.common.issues));return Te(n,{code:xe.invalid_union,unionErrors:o}),Ke}if(n.common.async)return Promise.all(s.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new br(c));return Te(n,{code:xe.invalid_union,unionErrors:l}),Ke}}get options(){return this._def.options}}im.create=(t,e)=>new im({options:t,typeName:He.ZodUnion,...tt(e)});const pa=t=>t instanceof lm?pa(t.schema):t instanceof bi?pa(t.innerType()):t instanceof cm?[t.value]:t instanceof Qo?t.options:t instanceof um?yt.objectValues(t.enum):t instanceof dm?pa(t._def.innerType):t instanceof sm?[void 0]:t instanceof rm?[null]:t instanceof Wi?[void 0,...pa(t.unwrap())]:t instanceof Zo?[null,...pa(t.unwrap())]:t instanceof EN||t instanceof mm?pa(t.unwrap()):t instanceof hm?pa(t._def.innerType):[];class Xx extends rt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.object)return Te(n,{code:xe.invalid_type,expected:Ie.object,received:n.parsedType}),Ke;const s=this.discriminator,i=n.data[s],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const i=new Map;for(const a of n){const o=pa(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Xx({typeName:He.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...tt(s)})}}function ow(t,e){const n=lo(t),s=lo(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&s===Ie.object){const i=yt.objectKeys(e),a=yt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=ow(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ie.array&&s===Ie.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=ow(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ie.date&&s===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class am extends rt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=(a,o)=>{if(iw(a)||iw(o))return Ke;const l=ow(a.value,o.value);return l.valid?((aw(a)||aw(o))&&n.dirty(),{status:n.value,value:l.data}):(Te(s,{code:xe.invalid_intersection_types}),Ke)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}am.create=(t,e,n)=>new am({left:t,right:e,typeName:He.ZodIntersection,...tt(n)});class ea extends rt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.array)return Te(s,{code:xe.invalid_type,expected:Ie.array,received:s.parsedType}),Ke;if(s.data.length<this._def.items.length)return Te(s,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&s.data.length>this._def.items.length&&(Te(s,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ji(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>xs.mergeArray(n,o)):xs.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new ea({...this._def,rest:e})}}ea.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ea({items:t,typeName:He.ZodTuple,rest:null,...tt(e)})};class om extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.object)return Te(s,{code:xe.invalid_type,expected:Ie.object,received:s.parsedType}),Ke;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in s.data)i.push({key:a._parse(new Ji(s,l,s.path,l)),value:o._parse(new Ji(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?xs.mergeObjectAsync(n,i):xs.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof rt?new om({keyType:e,valueType:n,typeName:He.ZodRecord,...tt(s)}):new om({keyType:ui.create(),valueType:e,typeName:He.ZodRecord,...tt(n)})}}class Fg extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.map)return Te(s,{code:xe.invalid_type,expected:Ie.map,received:s.parsedType}),Ke;const i=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:i._parse(new Ji(s,l,s.path,[u,"key"])),value:a._parse(new Ji(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Fg.create=(t,e,n)=>new Fg({valueType:e,keyType:t,typeName:He.ZodMap,...tt(n)});class ic extends rt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.set)return Te(s,{code:xe.invalid_type,expected:Ie.set,received:s.parsedType}),Ke;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(Te(s,{code:xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(Te(s,{code:xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ke;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...s.data.values()].map((c,u)=>a._parse(new Ji(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ic({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new ic({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ic.create=(t,e)=>new ic({valueType:t,minSize:null,maxSize:null,typeName:He.ZodSet,...tt(e)});class fu extends rt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.function)return Te(n,{code:xe.invalid_type,expected:Ie.function,received:n.parsedType}),Ke;function s(l,c){return Dg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pg(),Wu].filter(u=>!!u),issueData:{code:xe.invalid_arguments,argumentsError:c}})}function i(l,c){return Dg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pg(),Wu].filter(u=>!!u),issueData:{code:xe.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Hu){const l=this;return As(async function(...c){const u=new br([]),d=await l._def.args.parseAsync(c,a).catch(g=>{throw u.addIssue(s(c,g)),u}),m=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(m,a).catch(g=>{throw u.addIssue(i(m,g)),u})})}else{const l=this;return As(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new br([s(c,u.error)]);const d=Reflect.apply(o,this,u.data),m=l._def.returns.safeParse(d,a);if(!m.success)throw new br([i(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fu({...this._def,args:ea.create(e).rest(Wl.create())})}returns(e){return new fu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new fu({args:e||ea.create([]).rest(Wl.create()),returns:n||Wl.create(),typeName:He.ZodFunction,...tt(s)})}}class lm extends rt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}lm.create=(t,e)=>new lm({getter:t,typeName:He.ZodLazy,...tt(e)});class cm extends rt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}cm.create=(t,e)=>new cm({value:t,typeName:He.ZodLiteral,...tt(e)});function HA(t,e){return new Qo({values:t,typeName:He.ZodEnum,...tt(e)})}class Qo extends rt{constructor(){super(...arguments),Jd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return Te(n,{expected:yt.joinValues(s),received:n.parsedType,code:xe.invalid_type}),Ke}if(Mg(this,Jd)||BA(this,Jd,new Set(this._def.values)),!Mg(this,Jd).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return Te(n,{received:n.data,code:xe.invalid_enum_value,options:s}),Ke}return As(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Qo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Qo.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Jd=new WeakMap;Qo.create=HA;class um extends rt{constructor(){super(...arguments),eh.set(this,void 0)}_parse(e){const n=yt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Ie.string&&s.parsedType!==Ie.number){const i=yt.objectValues(n);return Te(s,{expected:yt.joinValues(i),received:s.parsedType,code:xe.invalid_type}),Ke}if(Mg(this,eh)||BA(this,eh,new Set(yt.getValidEnumValues(this._def.values))),!Mg(this,eh).has(e.data)){const i=yt.objectValues(n);return Te(s,{received:s.data,code:xe.invalid_enum_value,options:i}),Ke}return As(e.data)}get enum(){return this._def.values}}eh=new WeakMap;um.create=(t,e)=>new um({values:t,typeName:He.ZodNativeEnum,...tt(e)});class Hu extends rt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return Te(n,{code:xe.invalid_type,expected:Ie.promise,received:n.parsedType}),Ke;const s=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return As(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hu.create=(t,e)=>new Hu({type:t,typeName:He.ZodPromise,...tt(e)});class bi extends rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Te(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ke;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Ke:c.status==="dirty"||n.value==="dirty"?su(c.value):c});{if(n.value==="aborted")return Ke;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Ke:l.status==="dirty"||n.value==="dirty"?su(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!em(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>em(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);yt.assertNever(i)}}bi.create=(t,e,n)=>new bi({schema:t,typeName:He.ZodEffects,effect:e,...tt(n)});bi.createWithPreprocess=(t,e,n)=>new bi({schema:e,effect:{type:"preprocess",transform:t},typeName:He.ZodEffects,...tt(n)});class Wi extends rt{_parse(e){return this._getType(e)===Ie.undefined?As(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wi.create=(t,e)=>new Wi({innerType:t,typeName:He.ZodOptional,...tt(e)});class Zo extends rt{_parse(e){return this._getType(e)===Ie.null?As(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zo.create=(t,e)=>new Zo({innerType:t,typeName:He.ZodNullable,...tt(e)});class dm extends rt{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===Ie.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}dm.create=(t,e)=>new dm({innerType:t,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class hm extends rt{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return tm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new br(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new br(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}hm.create=(t,e)=>new hm({innerType:t,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class Vg extends rt{_parse(e){if(this._getType(e)!==Ie.nan){const s=this._getOrReturnCtx(e);return Te(s,{code:xe.invalid_type,expected:Ie.nan,received:s.parsedType}),Ke}return{status:"valid",value:e.data}}}Vg.create=t=>new Vg({typeName:He.ZodNaN,...tt(t)});const dB=Symbol("zod_brand");class EN extends rt{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bm extends rt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ke:a.status==="dirty"?(n.dirty(),su(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(e,n){return new Bm({in:e,out:n,typeName:He.ZodPipeline})}}class mm extends rt{_parse(e){const n=this._def.innerType._parse(e),s=i=>(em(i)&&(i.value=Object.freeze(i.value)),i);return tm(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}mm.create=(t,e)=>new mm({innerType:t,typeName:He.ZodReadonly,...tt(e)});function GA(t,e={},n){return t?qu.create().superRefine((s,i)=>{var a,o;if(!t(s)){const l=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,c=(o=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...u,fatal:c})}}):qu.create()}const hB={object:tn.lazycreate};var He;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(He||(He={}));const mB=(t,e={message:`Input not instance of ${t.name}`})=>GA(n=>n instanceof t,e),YA=ui.create,KA=Yo.create,fB=Vg.create,pB=Ko.create,QA=nm.create,gB=rc.create,xB=Og.create,yB=sm.create,vB=rm.create,bB=qu.create,wB=Wl.create,jB=Oa.create,NB=Lg.create,_B=fi.create,CB=tn.create,EB=tn.strictCreate,SB=im.create,kB=Xx.create,TB=am.create,IB=ea.create,RB=om.create,AB=Fg.create,PB=ic.create,DB=fu.create,MB=lm.create,OB=cm.create,LB=Qo.create,FB=um.create,VB=Hu.create,mS=bi.create,UB=Wi.create,$B=Zo.create,BB=bi.createWithPreprocess,zB=Bm.create,WB=()=>YA().optional(),qB=()=>KA().optional(),HB=()=>QA().optional(),GB={string:t=>ui.create({...t,coerce:!0}),number:t=>Yo.create({...t,coerce:!0}),boolean:t=>nm.create({...t,coerce:!0}),bigint:t=>Ko.create({...t,coerce:!0}),date:t=>rc.create({...t,coerce:!0})},YB=Ke;var Ss=Object.freeze({__proto__:null,defaultErrorMap:Wu,setErrorMap:Y7,getErrorMap:Pg,makeIssue:Dg,EMPTY_PATH:K7,addIssueToContext:Te,ParseStatus:xs,INVALID:Ke,DIRTY:su,OK:As,isAborted:iw,isDirty:aw,isValid:em,isAsync:tm,get util(){return yt},get objectUtil(){return rw},ZodParsedType:Ie,getParsedType:lo,ZodType:rt,datetimeRegex:qA,ZodString:ui,ZodNumber:Yo,ZodBigInt:Ko,ZodBoolean:nm,ZodDate:rc,ZodSymbol:Og,ZodUndefined:sm,ZodNull:rm,ZodAny:qu,ZodUnknown:Wl,ZodNever:Oa,ZodVoid:Lg,ZodArray:fi,ZodObject:tn,ZodUnion:im,ZodDiscriminatedUnion:Xx,ZodIntersection:am,ZodTuple:ea,ZodRecord:om,ZodMap:Fg,ZodSet:ic,ZodFunction:fu,ZodLazy:lm,ZodLiteral:cm,ZodEnum:Qo,ZodNativeEnum:um,ZodPromise:Hu,ZodEffects:bi,ZodTransformer:bi,ZodOptional:Wi,ZodNullable:Zo,ZodDefault:dm,ZodCatch:hm,ZodNaN:Vg,BRAND:dB,ZodBranded:EN,ZodPipeline:Bm,ZodReadonly:mm,custom:GA,Schema:rt,ZodSchema:rt,late:hB,get ZodFirstPartyTypeKind(){return He},coerce:GB,any:bB,array:_B,bigint:pB,boolean:QA,date:gB,discriminatedUnion:kB,effect:mS,enum:LB,function:DB,instanceof:mB,intersection:TB,lazy:MB,literal:OB,map:AB,nan:fB,nativeEnum:FB,never:jB,null:vB,nullable:$B,number:KA,object:CB,oboolean:HB,onumber:qB,optional:UB,ostring:WB,pipeline:zB,preprocess:BB,promise:VB,record:RB,set:PB,strictObject:EB,string:YA,symbol:xB,transformer:mS,tuple:IB,undefined:yB,union:SB,unknown:wB,void:NB,NEVER:YB,ZodIssueCode:xe,quotelessJson:G7,ZodError:br}),zm=t=>t.type==="checkbox",Tl=t=>t instanceof Date,Es=t=>t==null;const ZA=t=>typeof t=="object";var jn=t=>!Es(t)&&!Array.isArray(t)&&ZA(t)&&!Tl(t),XA=t=>jn(t)&&t.target?zm(t.target)?t.target.checked:t.target.value:t,KB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JA=(t,e)=>t.has(KB(e)),QB=t=>{const e=t.constructor&&t.constructor.prototype;return jn(e)&&e.hasOwnProperty("isPrototypeOf")},SN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vs(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(SN&&(t instanceof Blob||t instanceof FileList))&&(n||jn(t)))if(e=n?[]:{},!n&&!QB(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Vs(t[s]));else return t;return e}var Jx=t=>Array.isArray(t)?t.filter(Boolean):[],dn=t=>t===void 0,Ne=(t,e,n)=>{if(!e||!jn(t))return n;const s=Jx(e.split(/[,[\].]+?/)).reduce((i,a)=>Es(i)?i:i[a],t);return dn(s)||s===t?dn(t[e])?n:t[e]:s},Pr=t=>typeof t=="boolean",kN=t=>/^\w*$/.test(t),eP=t=>Jx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(t,e,n)=>{let s=-1;const i=kN(e)?[e]:eP(e),a=i.length,o=a-1;for(;++s<a;){const l=i[s];let c=n;if(s!==o){const u=t[l];c=jn(u)||Array.isArray(u)?u:isNaN(+i[s+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Ug={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ua={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tP=ue.createContext(null),ey=()=>ue.useContext(tP),ZB=t=>{const{children:e,...n}=t;return ue.createElement(tP.Provider,{value:n},e)};var nP=(t,e,n,s=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==ci.all&&(e._proxyFormState[o]=!s||ci.all),n&&(n[o]=!0),t[o]}});return i},$s=t=>jn(t)&&!Object.keys(t).length,sP=(t,e,n,s)=>{n(t);const{name:i,...a}=t;return $s(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||ci.all))},wh=t=>Array.isArray(t)?t:[t],rP=(t,e,n)=>!t||!e||t===e||wh(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s)));function TN(t){const e=ue.useRef(t);e.current=t,ue.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function XB(t){const e=ey(),{control:n=e.control,disabled:s,name:i,exact:a}=t||{},[o,l]=ue.useState(n._formState),c=ue.useRef(!0),u=ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ue.useRef(i);return d.current=i,TN({disabled:s,next:m=>c.current&&rP(d.current,m.name,a)&&sP(m,u.current,n._updateFormState)&&l({...n._formState,...m}),subject:n._subjects.state}),ue.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),nP(o,n,u.current,!1)}var Li=t=>typeof t=="string",iP=(t,e,n,s,i)=>Li(t)?(s&&e.watch.add(t),Ne(n,t,i)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),Ne(n,a))):(s&&(e.watchAll=!0),n);function JB(t){const e=ey(),{control:n=e.control,name:s,defaultValue:i,disabled:a,exact:o}=t||{},l=ue.useRef(s);l.current=s,TN({disabled:a,subject:n._subjects.values,next:d=>{rP(l.current,d.name,o)&&u(Vs(iP(l.current,n._names,d.values||n._formValues,!1,i)))}});const[c,u]=ue.useState(n._getWatch(s,i));return ue.useEffect(()=>n._removeUnmounted()),c}function ez(t){const e=ey(),{name:n,disabled:s,control:i=e.control,shouldUnregister:a}=t,o=JA(i._names.array,n),l=JB({control:i,name:n,defaultValue:Ne(i._formValues,n,Ne(i._defaultValues,n,t.defaultValue)),exact:!0}),c=XB({control:i,name:n,exact:!0}),u=ue.useRef(i.register(n,{...t.rules,value:l,...Pr(t.disabled)?{disabled:t.disabled}:{}}));return ue.useEffect(()=>{const d=i._options.shouldUnregister||a,m=(f,g)=>{const x=Ne(i._fields,f);x&&x._f&&(x._f.mount=g)};if(m(n,!0),d){const f=Vs(Ne(i._options.defaultValues,n));St(i._defaultValues,n,f),dn(Ne(i._formValues,n))&&St(i._formValues,n,f)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):m(n,!1)}},[n,i,o,a]),ue.useEffect(()=>{Ne(i._fields,n)&&i._updateDisabledField({disabled:s,fields:i._fields,name:n,value:Ne(i._fields,n)._f.value})},[s,n,i]),{field:{name:n,value:l,...Pr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:ue.useCallback(d=>u.current.onChange({target:{value:XA(d),name:n},type:Ug.CHANGE}),[n]),onBlur:ue.useCallback(()=>u.current.onBlur({target:{value:Ne(i._formValues,n),name:n},type:Ug.BLUR}),[n,i]),ref:ue.useCallback(d=>{const m=Ne(i._fields,n);m&&d&&(m._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[i._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(c.errors,n)}})}}const tz=t=>t.render(ez(t));var aP=(t,e,n,s,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:i||!0}}:{},fS=t=>({isOnSubmit:!t||t===ci.onSubmit,isOnBlur:t===ci.onBlur,isOnChange:t===ci.onChange,isOnAll:t===ci.all,isOnTouch:t===ci.onTouched}),pS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const jh=(t,e,n,s)=>{for(const i of n||Object.keys(t)){const a=Ne(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(jh(l,e))break}else if(jn(l)&&jh(l,e))break}}};var nz=(t,e,n)=>{const s=wh(Ne(t,n));return St(s,"root",e[n]),St(t,n,s),t},IN=t=>t.type==="file",wa=t=>typeof t=="function",$g=t=>{if(!SN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ap=t=>Li(t),RN=t=>t.type==="radio",Bg=t=>t instanceof RegExp;const gS={value:!1,isValid:!1},xS={value:!0,isValid:!0};var oP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dn(t[0].attributes.value)?dn(t[0].value)||t[0].value===""?xS:{value:t[0].value,isValid:!0}:xS:gS}return gS};const yS={isValid:!1,value:null};var lP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yS):yS;function vS(t,e,n="validate"){if(Ap(t)||Array.isArray(t)&&t.every(Ap)||Pr(t)&&!t)return{type:n,message:Ap(t)?t:"",ref:e}}var Oc=t=>jn(t)&&!Bg(t)?t:{value:t,message:""},bS=async(t,e,n,s,i)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:m,pattern:f,validate:g,name:x,valueAsNumber:b,mount:y,disabled:w}=t._f,v=Ne(e,x);if(!y||w)return{};const N=o?o[0]:a,I=S=>{s&&N.reportValidity&&(N.setCustomValidity(Pr(S)?"":S||""),N.reportValidity())},V={},z=RN(a),A=zm(a),C=z||A,R=(b||IN(a))&&dn(a.value)&&dn(v)||$g(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,k=aP.bind(null,x,n,V),D=(S,P,B,O=ua.maxLength,$=ua.minLength)=>{const T=S?P:B;V[x]={type:S?O:$,message:T,ref:a,...k(S?O:$,T)}};if(i?!Array.isArray(v)||!v.length:l&&(!C&&(R||Es(v))||Pr(v)&&!v||A&&!oP(o).isValid||z&&!lP(o).isValid)){const{value:S,message:P}=Ap(l)?{value:!!l,message:l}:Oc(l);if(S&&(V[x]={type:ua.required,message:P,ref:N,...k(ua.required,P)},!n))return I(P),V}if(!R&&(!Es(d)||!Es(m))){let S,P;const B=Oc(m),O=Oc(d);if(!Es(v)&&!isNaN(v)){const $=a.valueAsNumber||v&&+v;Es(B.value)||(S=$>B.value),Es(O.value)||(P=$<O.value)}else{const $=a.valueAsDate||new Date(v),T=G=>new Date(new Date().toDateString()+" "+G),_=a.type=="time",U=a.type=="week";Li(B.value)&&v&&(S=_?T(v)>T(B.value):U?v>B.value:$>new Date(B.value)),Li(O.value)&&v&&(P=_?T(v)<T(O.value):U?v<O.value:$<new Date(O.value))}if((S||P)&&(D(!!S,B.message,O.message,ua.max,ua.min),!n))return I(V[x].message),V}if((c||u)&&!R&&(Li(v)||i&&Array.isArray(v))){const S=Oc(c),P=Oc(u),B=!Es(S.value)&&v.length>+S.value,O=!Es(P.value)&&v.length<+P.value;if((B||O)&&(D(B,S.message,P.message),!n))return I(V[x].message),V}if(f&&!R&&Li(v)){const{value:S,message:P}=Oc(f);if(Bg(S)&&!v.match(S)&&(V[x]={type:ua.pattern,message:P,ref:a,...k(ua.pattern,P)},!n))return I(P),V}if(g){if(wa(g)){const S=await g(v,e),P=vS(S,N);if(P&&(V[x]={...P,...k(ua.validate,P.message)},!n))return I(P.message),V}else if(jn(g)){let S={};for(const P in g){if(!$s(S)&&!n)break;const B=vS(await g[P](v,e),N,P);B&&(S={...B,...k(P,B.message)},I(B.message),n&&(V[x]=S))}if(!$s(S)&&(V[x]={ref:N,...S},!n))return V}}return I(!0),V};function sz(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=dn(t)?s++:t[e[s++]];return t}function rz(t){for(const e in t)if(t.hasOwnProperty(e)&&!dn(t[e]))return!1;return!0}function Sn(t,e){const n=Array.isArray(e)?e:kN(e)?[e]:eP(e),s=n.length===1?t:sz(t,n),i=n.length-1,a=n[i];return s&&delete s[a],i!==0&&(jn(s)&&$s(s)||Array.isArray(s)&&rz(s))&&Sn(t,n.slice(0,-1)),t}var Hv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},lw=t=>Es(t)||!ZA(t);function co(t,e){if(lw(t)||lw(e))return t===e;if(Tl(t)&&Tl(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Tl(a)&&Tl(o)||jn(a)&&jn(o)||Array.isArray(a)&&Array.isArray(o)?!co(a,o):a!==o)return!1}}return!0}var cP=t=>t.type==="select-multiple",iz=t=>RN(t)||zm(t),Gv=t=>$g(t)&&t.isConnected,uP=t=>{for(const e in t)if(wa(t[e]))return!0;return!1};function zg(t,e={}){const n=Array.isArray(t);if(jn(t)||n)for(const s in t)Array.isArray(t[s])||jn(t[s])&&!uP(t[s])?(e[s]=Array.isArray(t[s])?[]:{},zg(t[s],e[s])):Es(t[s])||(e[s]=!0);return e}function dP(t,e,n){const s=Array.isArray(t);if(jn(t)||s)for(const i in t)Array.isArray(t[i])||jn(t[i])&&!uP(t[i])?dn(e)||lw(n[i])?n[i]=Array.isArray(t[i])?zg(t[i],[]):{...zg(t[i])}:dP(t[i],Es(e)?{}:e[i],n[i]):n[i]=!co(t[i],e[i]);return n}var Bd=(t,e)=>dP(t,e,zg(e)),hP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>dn(t)?t:e?t===""?NaN:t&&+t:n&&Li(t)?new Date(t):s?s(t):t;function Yv(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return IN(e)?e.files:RN(e)?lP(t.refs).value:cP(e)?[...e.selectedOptions].map(({value:n})=>n):zm(e)?oP(t.refs).value:hP(dn(e.value)?t.ref.value:e.value,t)}var az=(t,e,n,s)=>{const i={};for(const a of t){const o=Ne(e,a);o&&St(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:s}},zd=t=>dn(t)?t:Bg(t)?t.source:jn(t)?Bg(t.value)?t.value.source:t.value:t;const wS="AsyncFunction";var oz=t=>(!t||!t.validate)&&!!(wa(t.validate)&&t.validate.constructor.name===wS||jn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wS)),lz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function jS(t,e,n){const s=Ne(t,n);if(s||kN(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Ne(e,a),l=Ne(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var cz=(t,e,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?s.isOnBlur:i.isOnBlur)?!t:(n?s.isOnChange:i.isOnChange)?t:!0,uz=(t,e)=>!Jx(Ne(t,e)).length&&Sn(t,e);const dz={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function hz(t={}){let e={...dz,...t},n={submitCount:0,isDirty:!1,isLoading:wa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=jn(e.defaultValues)||jn(e.values)?Vs(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Vs(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Hv(),array:Hv(),state:Hv()},f=fS(e.mode),g=fS(e.reValidateMode),x=e.criteriaMode===ci.all,b=q=>Z=>{clearTimeout(u),u=setTimeout(q,Z)},y=async q=>{if(!t.disabled&&(d.isValid||q)){const Z=e.resolver?$s((await C()).errors):await k(s,!0);Z!==n.isValid&&m.state.next({isValid:Z})}},w=(q,Z)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((q||Array.from(l.mount)).forEach(se=>{se&&(Z?St(n.validatingFields,se,Z):Sn(n.validatingFields,se))}),m.state.next({validatingFields:n.validatingFields,isValidating:!$s(n.validatingFields)}))},v=(q,Z=[],se,K,he=!0,de=!0)=>{if(K&&se&&!t.disabled){if(o.action=!0,de&&Array.isArray(Ne(s,q))){const _e=se(Ne(s,q),K.argA,K.argB);he&&St(s,q,_e)}if(de&&Array.isArray(Ne(n.errors,q))){const _e=se(Ne(n.errors,q),K.argA,K.argB);he&&St(n.errors,q,_e),uz(n.errors,q)}if(d.touchedFields&&de&&Array.isArray(Ne(n.touchedFields,q))){const _e=se(Ne(n.touchedFields,q),K.argA,K.argB);he&&St(n.touchedFields,q,_e)}d.dirtyFields&&(n.dirtyFields=Bd(i,a)),m.state.next({name:q,isDirty:S(q,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else St(a,q,Z)},N=(q,Z)=>{St(n.errors,q,Z),m.state.next({errors:n.errors})},I=q=>{n.errors=q,m.state.next({errors:n.errors,isValid:!1})},V=(q,Z,se,K)=>{const he=Ne(s,q);if(he){const de=Ne(a,q,dn(se)?Ne(i,q):se);dn(de)||K&&K.defaultChecked||Z?St(a,q,Z?de:Yv(he._f)):O(q,de),o.mount&&y()}},z=(q,Z,se,K,he)=>{let de=!1,_e=!1;const $e={name:q};if(!t.disabled){const ze=!!(Ne(s,q)&&Ne(s,q)._f&&Ne(s,q)._f.disabled);if(!se||K){d.isDirty&&(_e=n.isDirty,n.isDirty=$e.isDirty=S(),de=_e!==$e.isDirty);const We=ze||co(Ne(i,q),Z);_e=!!(!ze&&Ne(n.dirtyFields,q)),We||ze?Sn(n.dirtyFields,q):St(n.dirtyFields,q,!0),$e.dirtyFields=n.dirtyFields,de=de||d.dirtyFields&&_e!==!We}if(se){const We=Ne(n.touchedFields,q);We||(St(n.touchedFields,q,se),$e.touchedFields=n.touchedFields,de=de||d.touchedFields&&We!==se)}de&&he&&m.state.next($e)}return de?$e:{}},A=(q,Z,se,K)=>{const he=Ne(n.errors,q),de=d.isValid&&Pr(Z)&&n.isValid!==Z;if(t.delayError&&se?(c=b(()=>N(q,se)),c(t.delayError)):(clearTimeout(u),c=null,se?St(n.errors,q,se):Sn(n.errors,q)),(se?!co(he,se):he)||!$s(K)||de){const _e={...K,...de&&Pr(Z)?{isValid:Z}:{},errors:n.errors,name:q};n={...n,..._e},m.state.next(_e)}},C=async q=>{w(q,!0);const Z=await e.resolver(a,e.context,az(q||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return w(q),Z},R=async q=>{const{errors:Z}=await C(q);if(q)for(const se of q){const K=Ne(Z,se);K?St(n.errors,se,K):Sn(n.errors,se)}else n.errors=Z;return Z},k=async(q,Z,se={valid:!0})=>{for(const K in q){const he=q[K];if(he){const{_f:de,..._e}=he;if(de){const $e=l.array.has(de.name),ze=he._f&&oz(he._f);ze&&d.validatingFields&&w([K],!0);const We=await bS(he,a,x,e.shouldUseNativeValidation&&!Z,$e);if(ze&&d.validatingFields&&w([K]),We[de.name]&&(se.valid=!1,Z))break;!Z&&(Ne(We,de.name)?$e?nz(n.errors,We,de.name):St(n.errors,de.name,We[de.name]):Sn(n.errors,de.name))}!$s(_e)&&await k(_e,Z,se)}}return se.valid},D=()=>{for(const q of l.unMount){const Z=Ne(s,q);Z&&(Z._f.refs?Z._f.refs.every(se=>!Gv(se)):!Gv(Z._f.ref))&&ne(q)}l.unMount=new Set},S=(q,Z)=>!t.disabled&&(q&&Z&&St(a,q,Z),!co(M(),i)),P=(q,Z,se)=>iP(q,l,{...o.mount?a:dn(Z)?i:Li(q)?{[q]:Z}:Z},se,Z),B=q=>Jx(Ne(o.mount?a:i,q,t.shouldUnregister?Ne(i,q,[]):[])),O=(q,Z,se={})=>{const K=Ne(s,q);let he=Z;if(K){const de=K._f;de&&(!de.disabled&&St(a,q,hP(Z,de)),he=$g(de.ref)&&Es(Z)?"":Z,cP(de.ref)?[...de.ref.options].forEach(_e=>_e.selected=he.includes(_e.value)):de.refs?zm(de.ref)?de.refs.length>1?de.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(he)?!!he.find($e=>$e===_e.value):he===_e.value)):de.refs[0]&&(de.refs[0].checked=!!he):de.refs.forEach(_e=>_e.checked=_e.value===he):IN(de.ref)?de.ref.value="":(de.ref.value=he,de.ref.type||m.values.next({name:q,values:{...a}})))}(se.shouldDirty||se.shouldTouch)&&z(q,he,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&G(q)},$=(q,Z,se)=>{for(const K in Z){const he=Z[K],de=`${q}.${K}`,_e=Ne(s,de);(l.array.has(q)||jn(he)||_e&&!_e._f)&&!Tl(he)?$(de,he,se):O(de,he,se)}},T=(q,Z,se={})=>{const K=Ne(s,q),he=l.array.has(q),de=Vs(Z);St(a,q,de),he?(m.array.next({name:q,values:{...a}}),(d.isDirty||d.dirtyFields)&&se.shouldDirty&&m.state.next({name:q,dirtyFields:Bd(i,a),isDirty:S(q,de)})):K&&!K._f&&!Es(de)?$(q,de,se):O(q,de,se),pS(q,l)&&m.state.next({...n}),m.values.next({name:o.mount?q:void 0,values:{...a}})},_=async q=>{o.mount=!0;const Z=q.target;let se=Z.name,K=!0;const he=Ne(s,se),de=()=>Z.type?Yv(he._f):XA(q),_e=$e=>{K=Number.isNaN($e)||Tl($e)&&isNaN($e.getTime())||co($e,Ne(a,se,$e))};if(he){let $e,ze;const We=de(),Dn=q.type===Ug.BLUR||q.type===Ug.FOCUS_OUT,Ls=!lz(he._f)&&!e.resolver&&!Ne(n.errors,se)&&!he._f.deps||cz(Dn,Ne(n.touchedFields,se),n.isSubmitted,g,f),ia=pS(se,l,Dn);St(a,se,We),Dn?(he._f.onBlur&&he._f.onBlur(q),c&&c(0)):he._f.onChange&&he._f.onChange(q);const pl=z(se,We,Dn,!1),Ci=!$s(pl)||ia;if(!Dn&&m.values.next({name:se,type:q.type,values:{...a}}),Ls)return d.isValid&&(t.mode==="onBlur"?Dn&&y():y()),Ci&&m.state.next({name:se,...ia?{}:pl});if(!Dn&&ia&&m.state.next({...n}),e.resolver){const{errors:Ha}=await C([se]);if(_e(We),K){const Ic=jS(n.errors,s,se),Ei=jS(Ha,s,Ic.name||se);$e=Ei.error,se=Ei.name,ze=$s(Ha)}}else w([se],!0),$e=(await bS(he,a,x,e.shouldUseNativeValidation))[se],w([se]),_e(We),K&&($e?ze=!1:d.isValid&&(ze=await k(s,!0)));K&&(he._f.deps&&G(he._f.deps),A(se,ze,$e,pl))}},U=(q,Z)=>{if(Ne(n.errors,Z)&&q.focus)return q.focus(),1},G=async(q,Z={})=>{let se,K;const he=wh(q);if(e.resolver){const de=await R(dn(q)?q:he);se=$s(de),K=q?!he.some(_e=>Ne(de,_e)):se}else q?(K=(await Promise.all(he.map(async de=>{const _e=Ne(s,de);return await k(_e&&_e._f?{[de]:_e}:_e)}))).every(Boolean),!(!K&&!n.isValid)&&y()):K=se=await k(s);return m.state.next({...!Li(q)||d.isValid&&se!==n.isValid?{}:{name:q},...e.resolver||!q?{isValid:se}:{},errors:n.errors}),Z.shouldFocus&&!K&&jh(s,U,q?he:l.mount),K},M=q=>{const Z={...o.mount?a:i};return dn(q)?Z:Li(q)?Ne(Z,q):q.map(se=>Ne(Z,se))},Y=(q,Z)=>({invalid:!!Ne((Z||n).errors,q),isDirty:!!Ne((Z||n).dirtyFields,q),error:Ne((Z||n).errors,q),isValidating:!!Ne(n.validatingFields,q),isTouched:!!Ne((Z||n).touchedFields,q)}),L=q=>{q&&wh(q).forEach(Z=>Sn(n.errors,Z)),m.state.next({errors:q?n.errors:{}})},X=(q,Z,se)=>{const K=(Ne(s,q,{_f:{}})._f||{}).ref,he=Ne(n.errors,q)||{},{ref:de,message:_e,type:$e,...ze}=he;St(n.errors,q,{...ze,...Z,ref:K}),m.state.next({name:q,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&K&&K.focus&&K.focus()},le=(q,Z)=>wa(q)?m.values.subscribe({next:se=>q(P(void 0,Z),se)}):P(q,Z,!0),ne=(q,Z={})=>{for(const se of q?wh(q):l.mount)l.mount.delete(se),l.array.delete(se),Z.keepValue||(Sn(s,se),Sn(a,se)),!Z.keepError&&Sn(n.errors,se),!Z.keepDirty&&Sn(n.dirtyFields,se),!Z.keepTouched&&Sn(n.touchedFields,se),!Z.keepIsValidating&&Sn(n.validatingFields,se),!e.shouldUnregister&&!Z.keepDefaultValue&&Sn(i,se);m.values.next({values:{...a}}),m.state.next({...n,...Z.keepDirty?{isDirty:S()}:{}}),!Z.keepIsValid&&y()},H=({disabled:q,name:Z,field:se,fields:K,value:he})=>{if(Pr(q)&&o.mount||q){const de=q?void 0:dn(he)?Yv(se?se._f:Ne(K,Z)._f):he;St(a,Z,de),z(Z,de,!1,!1,!0)}},te=(q,Z={})=>{let se=Ne(s,q);const K=Pr(Z.disabled)||Pr(t.disabled);return St(s,q,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:q}},name:q,mount:!0,...Z}}),l.mount.add(q),se?H({field:se,disabled:Pr(Z.disabled)?Z.disabled:t.disabled,name:q,value:Z.value}):V(q,!0,Z.value),{...K?{disabled:Z.disabled||t.disabled}:{},...e.progressive?{required:!!Z.required,min:zd(Z.min),max:zd(Z.max),minLength:zd(Z.minLength),maxLength:zd(Z.maxLength),pattern:zd(Z.pattern)}:{},name:q,onChange:_,onBlur:_,ref:he=>{if(he){te(q,Z),se=Ne(s,q);const de=dn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,_e=iz(de),$e=se._f.refs||[];if(_e?$e.find(ze=>ze===de):de===se._f.ref)return;St(s,q,{_f:{...se._f,..._e?{refs:[...$e.filter(Gv),de,...Array.isArray(Ne(i,q))?[{}]:[]],ref:{type:de.type,name:q}}:{ref:de}}}),V(q,!1,void 0,de)}else se=Ne(s,q,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(JA(l.array,q)&&o.action)&&l.unMount.add(q)}}},J=()=>e.shouldFocusError&&jh(s,U,l.mount),ae=q=>{Pr(q)&&(m.state.next({disabled:q}),jh(s,(Z,se)=>{const K=Ne(s,se);K&&(Z.disabled=K._f.disabled||q,Array.isArray(K._f.refs)&&K._f.refs.forEach(he=>{he.disabled=K._f.disabled||q}))},0,!1))},ye=(q,Z)=>async se=>{let K;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let he=Vs(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:_e}=await C();n.errors=de,he=_e}else await k(s);if(Sn(n.errors,"root"),$s(n.errors)){m.state.next({errors:{}});try{await q(he,se)}catch(de){K=de}}else Z&&await Z({...n.errors},se),J(),setTimeout(J);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$s(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},ve=(q,Z={})=>{Ne(s,q)&&(dn(Z.defaultValue)?T(q,Vs(Ne(i,q))):(T(q,Z.defaultValue),St(i,q,Vs(Z.defaultValue))),Z.keepTouched||Sn(n.touchedFields,q),Z.keepDirty||(Sn(n.dirtyFields,q),n.isDirty=Z.defaultValue?S(q,Vs(Ne(i,q))):S()),Z.keepError||(Sn(n.errors,q),d.isValid&&y()),m.state.next({...n}))},Ue=(q,Z={})=>{const se=q?Vs(q):i,K=Vs(se),he=$s(q),de=he?i:K;if(Z.keepDefaultValues||(i=se),!Z.keepValues){if(Z.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(Bd(i,a))]);for(const $e of Array.from(_e))Ne(n.dirtyFields,$e)?St(de,$e,Ne(a,$e)):T($e,Ne(de,$e))}else{if(SN&&dn(q))for(const _e of l.mount){const $e=Ne(s,_e);if($e&&$e._f){const ze=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if($g(ze)){const We=ze.closest("form");if(We){We.reset();break}}}}s={}}a=t.shouldUnregister?Z.keepDefaultValues?Vs(i):{}:Vs(de),m.array.next({values:{...de}}),m.values.next({values:{...de}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:he?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!co(q,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:Z.keepDirtyValues?Z.keepDefaultValues&&a?Bd(i,a):n.dirtyFields:Z.keepDefaultValues&&q?Bd(i,q):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(q,Z)=>Ue(wa(q)?q(a):q,Z);return{control:{register:te,unregister:ne,getFieldState:Y,handleSubmit:ye,setError:X,_executeSchema:C,_getWatch:P,_getDirty:S,_updateValid:y,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:H,_getFieldArray:B,_reset:Ue,_resetDefaultValues:()=>wa(e.defaultValues)&&e.defaultValues().then(q=>{Oe(q,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:q=>{n={...n,...q}},_disableForm:ae,_subjects:m,_proxyFormState:d,_setErrors:I,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(q){o=q},get _defaultValues(){return i},get _names(){return l},set _names(q){l=q},get _formState(){return n},set _formState(q){n=q},get _options(){return e},set _options(q){e={...e,...q}}},trigger:G,register:te,handleSubmit:ye,watch:le,setValue:T,getValues:M,reset:Oe,resetField:ve,clearErrors:L,unregister:ne,setError:X,setFocus:(q,Z={})=>{const se=Ne(s,q),K=se&&se._f;if(K){const he=K.refs?K.refs[0]:K.ref;he.focus&&(he.focus(),Z.shouldSelect&&he.select())}},getFieldState:Y}}function AN(t={}){const e=ue.useRef(),n=ue.useRef(),[s,i]=ue.useState({isDirty:!1,isValidating:!1,isLoading:wa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:wa(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...hz(t),formState:s});const a=e.current.control;return a._options=t,TN({subject:a._subjects.state,next:o=>{sP(o,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),ue.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ue.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),ue.useEffect(()=>{t.values&&!co(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),ue.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),ue.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ue.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),ue.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[s]),e.current.formState=nP(s,a),e.current}const NS=(t,e,n)=>{if(t&&"reportValidity"in t){const s=Ne(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},mP=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?NS(s.ref,n,t):s.refs&&s.refs.forEach(i=>NS(i,n,t))}},mz=(t,e)=>{e.shouldUseNativeValidation&&mP(t,e);const n={};for(const s in t){const i=Ne(e.fields,s),a=Object.assign(t[s]||{},{ref:i&&i.ref});if(fz(e.names||Object.keys(t),s)){const o=Object.assign({},Ne(n,s));St(o,"root",a),St(n,s,o)}else St(n,s,a)}return n},fz=(t,e)=>t.some(n=>n.startsWith(e+"."));var pz=function(t,e){for(var n={};t.length;){var s=t[0],i=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(m){return t.push(m)})}),e){var c=n[o].types,u=c&&c[s.code];n[o]=aP(o,e,n,i,u?[].concat(u,s.message):s.message)}t.shift()}return n},PN=function(t,e,n){return n===void 0&&(n={}),function(s,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return a.shouldUseNativeValidation&&mP({},a),{errors:{},values:n.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:mz(pz(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const me=p.forwardRef(({className:t,type:e,...n},s)=>r.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));me.displayName="Input";const Ct=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ct.displayName="Card";const Vn=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Vn.displayName="CardHeader";const Un=p.forwardRef(({className:t,...e},n)=>r.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Un.displayName="CardTitle";const $n=p.forwardRef(({className:t,...e},n)=>r.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));$n.displayName="CardDescription";const Bt=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));Bt.displayName="CardContent";const Ts=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));Ts.displayName="CardFooter";var gz="Label",fP=p.forwardRef((t,e)=>r.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fP.displayName=gz;var pP=fP;const xz=od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=p.forwardRef(({className:t,...e},n)=>r.jsx(pP,{ref:n,className:Ee(xz(),t),...e}));be.displayName=pP.displayName;const DN=ZB,gP=p.createContext({}),Or=({...t})=>r.jsx(gP.Provider,{value:{name:t.name},children:r.jsx(tz,{...t})}),ty=()=>{const t=p.useContext(gP),e=p.useContext(xP),{getFieldState:n,formState:s}=ey(),i=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},xP=p.createContext({}),lr=p.forwardRef(({className:t,...e},n)=>{const s=p.useId();return r.jsx(xP.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:Ee("space-y-2",t),...e})})});lr.displayName="FormItem";const cr=p.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:i}=ty();return r.jsx(be,{ref:n,className:Ee(s&&"text-destructive",t),htmlFor:i,...e})});cr.displayName="FormLabel";const ur=p.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:i,formMessageId:a}=ty();return r.jsx(Qi,{ref:e,id:s,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});ur.displayName="FormControl";const yz=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=ty();return r.jsx("p",{ref:n,id:s,className:Ee("text-sm text-muted-foreground",t),...e})});yz.displayName="FormDescription";const dr=p.forwardRef(({className:t,children:e,...n},s)=>{const{error:i,formMessageId:a}=ty(),o=i?String(i==null?void 0:i.message):e;return o?r.jsx("p",{ref:s,id:a,className:Ee("text-sm font-medium text-destructive",t),...n,children:o}):null});dr.displayName="FormMessage";function vz(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:f,children:g,...x}=m,b=(f==null?void 0:f[t][c])||l,y=p.useMemo(()=>x,Object.values(x));return r.jsx(b.Provider,{value:y,children:g})}function d(m,f){const g=(f==null?void 0:f[t][c])||l,x=p.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[s,bz(i,...e)]}function bz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wz=p.createContext(void 0);function Wm(t){const e=p.useContext(wz);return t||e||"ltr"}var Kv="rovingFocusGroup.onEntryFocus",jz={bubbles:!1,cancelable:!0},ny="RovingFocusGroup",[cw,yP,Nz]=Px(ny),[_z,fd]=vz(ny,[Nz]),[Cz,Ez]=_z(ny),vP=p.forwardRef((t,e)=>r.jsx(cw.Provider,{scope:t.__scopeRovingFocusGroup,children:r.jsx(cw.Slot,{scope:t.__scopeRovingFocusGroup,children:r.jsx(Sz,{...t,ref:e})})}));vP.displayName=ny;var Sz=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=t,f=p.useRef(null),g=ht(e,f),x=Wm(a),[b=null,y]=xi({prop:o,defaultProp:l,onChange:c}),[w,v]=p.useState(!1),N=es(u),I=yP(n),V=p.useRef(!1),[z,A]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Kv,N),()=>C.removeEventListener(Kv,N)},[N]),r.jsx(Cz,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:b,onItemFocus:p.useCallback(C=>y(C),[y]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>A(C=>C-1),[]),children:r.jsx(Ve.div,{tabIndex:w||z===0?-1:0,"data-orientation":s,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{V.current=!0}),onFocus:we(t.onFocus,C=>{const R=!V.current;if(C.target===C.currentTarget&&R&&!w){const k=new CustomEvent(Kv,jz);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=I().filter($=>$.focusable),S=D.find($=>$.active),P=D.find($=>$.id===b),O=[S,P,...D].filter(Boolean).map($=>$.ref.current);jP(O,d)}}V.current=!1}),onBlur:we(t.onBlur,()=>v(!1))})})}),bP="RovingFocusGroupItem",wP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,...o}=t,l=Br(),c=a||l,u=Ez(bP,n),d=u.currentTabStopId===c,m=yP(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(s)return f(),()=>g()},[s,f,g]),r.jsx(cw.ItemSlot,{scope:n,id:c,focusable:s,active:i,children:r.jsx(Ve.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:we(t.onMouseDown,x=>{s?u.onItemFocus(c):x.preventDefault()}),onFocus:we(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:we(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=Iz(x,u.orientation,u.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(v=>v.focusable).map(v=>v.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const v=w.indexOf(x.currentTarget);w=u.loop?Rz(w,v+1):w.slice(v+1)}setTimeout(()=>jP(w))}})})})});wP.displayName=bP;var kz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Iz(t,e,n){const s=Tz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return kz[s]}function jP(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Rz(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var MN=vP,ON=wP,LN="Tabs",[Az,coe]=Xr(LN,[fd]),NP=fd(),[Pz,FN]=Az(LN),_P=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Wm(l),[m,f]=xi({prop:s,onChange:i,defaultProp:a});return r.jsx(Pz,{scope:n,baseId:Br(),value:m,onValueChange:f,orientation:o,dir:d,activationMode:c,children:r.jsx(Ve.div,{dir:d,"data-orientation":o,...u,ref:e})})});_P.displayName=LN;var CP="TabsList",EP=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,a=FN(CP,n),o=NP(n);return r.jsx(MN,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});EP.displayName=CP;var SP="TabsTrigger",kP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=t,o=FN(SP,n),l=NP(n),c=RP(o.baseId,s),u=AP(o.baseId,s),d=s===o.value;return r.jsx(ON,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(Ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:we(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:we(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:we(t.onFocus,()=>{const m=o.activationMode!=="manual";!d&&!i&&m&&o.onValueChange(s)})})})});kP.displayName=SP;var TP="TabsContent",IP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=t,l=FN(TP,n),c=RP(l.baseId,s),u=AP(l.baseId,s),d=s===l.value,m=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(nr,{present:i||d,children:({present:f})=>r.jsx(Ve.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:f&&a})})});IP.displayName=TP;function RP(t,e){return`${t}-trigger-${e}`}function AP(t,e){return`${t}-content-${e}`}var Dz=_P,PP=EP,DP=kP,MP=IP;const ys=Dz,ns=p.forwardRef(({className:t,...e},n)=>r.jsx(PP,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ns.displayName=PP.displayName;const Be=p.forwardRef(({className:t,...e},n)=>r.jsx(DP,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Be.displayName=DP.displayName;const st=p.forwardRef(({className:t,...e},n)=>r.jsx(MP,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));st.displayName=MP.displayName;var _S={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mz=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},LP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,m=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(f=64)),s.push(n[d],n[m],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||m==null)throw new Oz;const f=a<<2|l>>4;if(s.push(f),u!==64){const g=l<<4&240|u>>2;if(s.push(g),m!==64){const x=u<<6&192|m;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Oz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lz=function(t){const e=OP(t);return LP.encodeByteArray(e,!0)},Wg=function(t){return Lz(t).replace(/\./g,"")},FP=function(t){try{return LP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=()=>Fz().__FIREBASE_DEFAULTS__,Uz=()=>{if(typeof process>"u"||typeof _S>"u")return;const t=_S.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$z=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FP(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return Vz()||Uz()||$z()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VP=t=>{var e,n;return(n=(e=sy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UP=t=>{const e=VP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$P=()=>{var t;return(t=sy())===null||t===void 0?void 0:t.config},BP=t=>{var e;return(e=sy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wg(JSON.stringify(n)),Wg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vs())}function Wz(){var t;const e=(t=sy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gz(){const t=vs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yz(){return!Wz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qP(){try{return typeof indexedDB=="object"}catch{return!1}}function HP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function Kz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="FirebaseError";class Jr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qz,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Zz(a,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Jr(i,l,s)}}function Zz(t,e){return t.replace(Xz,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const Xz=/\{\$([^}]+)}/g;function Jz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fm(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const a=t[i],o=e[i];if(CS(a)&&CS(o)){if(!fm(a,o))return!1}else if(a!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function th(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function nh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eW(t,e){const n=new tW(t,e);return n.subscribe.bind(n)}class tW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Qv),i.error===void 0&&(i.error=Qv),i.complete===void 0&&(i.complete=Qv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=1e3,rW=2,iW=4*60*60*1e3,aW=.5;function ES(t,e=sW,n=rW){const s=e*Math.pow(n,t),i=Math.round(aW*s*(Math.random()-.5)*2);return Math.min(iW,s+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Bz;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cW(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lW(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lW(t){return t===wl?void 0:t}function cW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const dW={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},hW=gt.INFO,mW={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},fW=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=mW[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=hW,this._logHandler=fW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const pW=(t,e)=>e.some(n=>t instanceof n);let SS,kS;function gW(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xW(){return kS||(kS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GP=new WeakMap,uw=new WeakMap,YP=new WeakMap,Zv=new WeakMap,VN=new WeakMap;function yW(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Lo(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GP.set(n,t)}).catch(()=>{}),VN.set(e,t),e}function vW(t){if(uw.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});uw.set(t,e)}let dw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bW(t){dw=t(dw)}function wW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xv(this),e,...n);return YP.set(s,e.sort?e.sort():[e]),Lo(s)}:xW().includes(t)?function(...e){return t.apply(Xv(this),e),Lo(GP.get(this))}:function(...e){return Lo(t.apply(Xv(this),e))}}function jW(t){return typeof t=="function"?wW(t):(t instanceof IDBTransaction&&vW(t),pW(t,gW())?new Proxy(t,dw):t)}function Lo(t){if(t instanceof IDBRequest)return yW(t);if(Zv.has(t))return Zv.get(t);const e=jW(t);return e!==t&&(Zv.set(t,e),VN.set(e,t)),e}const Xv=t=>VN.get(t);function KP(t,e,{blocked:n,upgrade:s,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Lo(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Lo(o.result),c.oldVersion,c.newVersion,Lo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const NW=["get","getKey","getAll","getAllKeys","count"],_W=["put","add","delete","clear"],Jv=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jv.get(e))return Jv.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=_W.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||NW.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Jv.set(e,a),a}bW(t=>({...t,get:(e,n,s)=>TS(e,n)||t.get(e,n,s),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EW(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function EW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hw="@firebase/app",IS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new ry("@firebase/app"),SW="@firebase/app-compat",kW="@firebase/analytics-compat",TW="@firebase/analytics",IW="@firebase/app-check-compat",RW="@firebase/app-check",AW="@firebase/auth",PW="@firebase/auth-compat",DW="@firebase/database",MW="@firebase/data-connect",OW="@firebase/database-compat",LW="@firebase/functions",FW="@firebase/functions-compat",VW="@firebase/installations",UW="@firebase/installations-compat",$W="@firebase/messaging",BW="@firebase/messaging-compat",zW="@firebase/performance",WW="@firebase/performance-compat",qW="@firebase/remote-config",HW="@firebase/remote-config-compat",GW="@firebase/storage",YW="@firebase/storage-compat",KW="@firebase/firestore",QW="@firebase/vertexai-preview",ZW="@firebase/firestore-compat",XW="firebase",JW="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="[DEFAULT]",eq={[hw]:"fire-core",[SW]:"fire-core-compat",[TW]:"fire-analytics",[kW]:"fire-analytics-compat",[RW]:"fire-app-check",[IW]:"fire-app-check-compat",[AW]:"fire-auth",[PW]:"fire-auth-compat",[DW]:"fire-rtdb",[MW]:"fire-data-connect",[OW]:"fire-rtdb-compat",[LW]:"fire-fn",[FW]:"fire-fn-compat",[VW]:"fire-iid",[UW]:"fire-iid-compat",[$W]:"fire-fcm",[BW]:"fire-fcm-compat",[zW]:"fire-perf",[WW]:"fire-perf-compat",[qW]:"fire-rc",[HW]:"fire-rc-compat",[GW]:"fire-gcs",[YW]:"fire-gcs-compat",[KW]:"fire-fst",[ZW]:"fire-fst-compat",[QW]:"fire-vertex","fire-js":"fire-js",[XW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=new Map,tq=new Map,fw=new Map;function RS(t,e){try{t.container.addComponent(e)}catch(n){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wi(t){const e=t.name;if(fw.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;fw.set(e,t);for(const n of qg.values())RS(n,t);for(const n of tq.values())RS(n,t);return!0}function ol(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new Nc("app","Firebase",nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=JW;function iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mw,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(n||(n=$P()),!n)throw Fo.create("no-options");const a=qg.get(i);if(a){if(fm(n,a.options)&&fm(s,a.config))return a;throw Fo.create("duplicate-app",{appName:i})}const o=new uW(i);for(const c of fw.values())o.addComponent(c);const l=new sq(n,s,o);return qg.set(i,l),l}function ay(t=mw){const e=qg.get(t);if(!e&&t===mw&&$P())return iy();if(!e)throw Fo.create("no-app",{appName:t});return e}function Zs(t,e,n){var s;let i=(s=eq[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(l.join(" "));return}wi(new Kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="firebase-heartbeat-database",iq=1,pm="firebase-heartbeat-store";let e0=null;function QP(){return e0||(e0=KP(rq,iq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),e0}async function aq(t){try{const n=(await QP()).transaction(pm),s=await n.objectStore(pm).get(ZP(t));return await n.done,s}catch(e){if(e instanceof Jr)La.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(n.message)}}}async function AS(t,e){try{const s=(await QP()).transaction(pm,"readwrite");await s.objectStore(pm).put(e,ZP(t)),await s.done}catch(n){if(n instanceof Jr)La.warn(n.message);else{const s=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});La.warn(s.message)}}}function ZP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=1024,lq=30*24*60*60*1e3;class cq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dq(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=PS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=lq}),this._storage.overwrite(this._heartbeatsCache))}catch(s){La.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PS(),{heartbeatsToSend:s,unsentEntries:i}=uq(this._heartbeatsCache.heartbeats),a=Wg(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return La.warn(n),""}}}function PS(){return new Date().toISOString().substring(0,10)}function uq(t,e=oq){const n=[];let s=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),DS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qP()?HP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DS(t){return Wg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){wi(new Kr("platform-logger",e=>new CW(e),"PRIVATE")),wi(new Kr("heartbeat",e=>new cq(e),"PRIVATE")),Zs(hw,IS,t),Zs(hw,IS,"esm2017"),Zs("fire-js","")}hq("");var mq="firebase",fq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(mq,fq,"app");var Oi=function(){return Oi=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oi.apply(this,arguments)};function Hm(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function pq(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function XP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gq=XP,JP=new Nc("auth","Firebase",XP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new ry("@firebase/auth");function xq(t,...e){Hg.logLevel<=gt.WARN&&Hg.warn(`Auth (${_c}): ${t}`,...e)}function Pp(t,...e){Hg.logLevel<=gt.ERROR&&Hg.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw $N(t,...e)}function pi(t,...e){return $N(t,...e)}function UN(t,e,n){const s=Object.assign(Object.assign({},gq()),{[e]:n});return new Nc("auth","Firebase",s).create(e,{appName:t.name})}function qi(t){return UN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yq(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qr(t,"argument-error"),UN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $N(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return JP.create(t,...e)}function Ye(t,e,...n){if(!t)throw $N(e,...n)}function ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function Fa(t,e){t||ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vq(){return MS()==="http:"||MS()==="https:"}function MS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vq()||WP()||"connection"in navigator)?navigator.onLine:!0}function wq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fa(n>e,"Short delay should be less than long delay!"),this.isMobile=zz()||Hz()}get(){return bq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e){Fa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=new Gm(3e4,6e4);function ll(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sa(t,e,n,s,i={}){return t4(t,i,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=qm(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return qz()||(u.referrerPolicy="no-referrer"),e4.fetch()(n4(t,t.config.apiHost,n,l),u)})}async function t4(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},jq),e);try{const i=new Cq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ip(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ip(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ip(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UN(t,d,u);Qr(t,d)}}catch(i){if(i instanceof Jr)throw i;Qr(t,"network-request-failed",{message:String(i)})}}async function Ym(t,e,n,s,i={}){const a=await sa(t,e,n,s,i);return"mfaPendingCredential"in a&&Qr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function n4(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?BN(t.config,i):`${t.config.apiScheme}://${i}`}function _q(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),Nq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ip(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=pi(t,e,s);return i.customData._tokenResponse=n,i}function OS(t){return t!==void 0&&t.enterprise!==void 0}class Eq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _q(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Sq(t,e){return sa(t,"GET","/v2/recaptchaConfig",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kq(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function s4(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tq(t,e=!1){const n=Nt(t),s=await n.getIdToken(e),i=zN(s);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:s,authTime:Nh(t0(i.auth_time)),issuedAtTime:Nh(t0(i.iat)),expirationTime:Nh(t0(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function t0(t){return Number(t)*1e3}function zN(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const i=FP(n);return i?JSON.parse(i):(Pp("Failed to decode base64 JWT payload"),null)}catch(i){return Pp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LS(t){const e=zN(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Jr&&Iq(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Iq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nh(this.lastLoginAt),this.creationTime=Nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t){var e;const n=t.auth,s=await t.getIdToken(),i=await ac(t,s4(n,{idToken:s}));Ye(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?r4(a.providerUserInfo):[],l=Pq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gw(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function Aq(t){const e=Nt(t);await Gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pq(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function r4(t){return t.map(e=>{var{providerId:n}=e,s=Hm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t,e){const n=await t4(t,{},async()=>{const s=qm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=n4(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",e4.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mq(t,e){return sa(t,"POST","/v2/accounts:revokeToken",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=LS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:a}=await Dq(e,n);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:a}=n,o=new pu;return s&&(Ye(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,a=Hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tq(this,e)}reload(){return Aq(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gg(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await ac(this,kq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,a,o,l,c,u,d;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:I,isAnonymous:V,providerData:z,stsTokenManager:A}=n;Ye(N&&A,e,"internal-error");const C=pu.fromJSON(this.name,A);Ye(typeof N=="string",e,"internal-error"),eo(m,e.name),eo(f,e.name),Ye(typeof I=="boolean",e,"internal-error"),Ye(typeof V=="boolean",e,"internal-error"),eo(g,e.name),eo(x,e.name),eo(b,e.name),eo(y,e.name),eo(w,e.name),eo(v,e.name);const R=new Na({uid:N,auth:e,email:f,emailVerified:I,displayName:m,isAnonymous:V,photoURL:x,phoneNumber:g,tenantId:b,stsTokenManager:C,createdAt:w,lastLoginAt:v});return z&&Array.isArray(z)&&(R.providerData=z.map(k=>Object.assign({},k))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,s=!1){const i=new pu;i.updateFromServerResponse(n);const a=new Na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Gg(a),a}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?r4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new pu;l.updateFromIdToken(s);const c=new Na({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new Map;function _a(t){Fa(t instanceof Function,"Expected a class definition");let e=FS.get(t);return e?(Fa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i4.type="NONE";const VS=i4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e,n){return`firebase:${t}:${e}:${n}`}class gu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=Dp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dp("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Na._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new gu(_a(VS),e,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||_a(VS);const o=Dp(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const m=Na._fromJSON(e,d);u!==a&&(l=m),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new gu(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new gu(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d4(e))return"Blackberry";if(h4(e))return"Webos";if(o4(e))return"Safari";if((e.includes("chrome/")||l4(e))&&!e.includes("edge/"))return"Chrome";if(u4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a4(t=vs()){return/firefox\//i.test(t)}function o4(t=vs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l4(t=vs()){return/crios\//i.test(t)}function c4(t=vs()){return/iemobile/i.test(t)}function u4(t=vs()){return/android/i.test(t)}function d4(t=vs()){return/blackberry/i.test(t)}function h4(t=vs()){return/webos/i.test(t)}function WN(t=vs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oq(t=vs()){var e;return WN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lq(){return Gz()&&document.documentMode===10}function m4(t=vs()){return WN(t)||u4(t)||h4(t)||d4(t)||/windows phone/i.test(t)||c4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t,e=[]){let n;switch(t){case"Browser":n=US(vs());break;case"Worker":n=`${US(vs())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,e={}){return sa(t,"GET","/v2/passwordPolicy",ll(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=6;class $q{constructor(e){var n,s,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Uq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new Fq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_a(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await gu.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await s4(this,{idToken:e}),s=await Na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(qi(this));const n=e?Nt(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vq(this),n=new $q(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Mq(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_a(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await gu.create(this,[_a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cl(t){return Nt(t)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=eW(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zq(t){oy=t}function p4(t){return oy.loadJS(t)}function Wq(){return oy.recaptchaEnterpriseScript}function qq(){return oy.gapiScript}function Hq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Gq="recaptcha-enterprise",Yq="NO_RECAPTCHA";class Kq{constructor(e){this.type=Gq,this.auth=cl(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{Sq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Eq(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;OS(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(Yq)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&OS(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Wq();c.length!==0&&(c+=l),p4(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function BS(t,e,n,s=!1){const i=new Kq(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xw(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BS(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await BS(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t,e){const n=ol(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(fm(a,e??{}))return i;Qr(i,"already-initialized")}return n.initialize({options:e})}function Zq(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_a);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Xq(t,e,n){const s=cl(t);Ye(s._canInitEmulator,s,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=g4(e),{host:o,port:l}=Jq(e),c=l===null?"":`:${l}`;s.config.emulator={url:`${a}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),eH()}function g4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jq(t){const e=g4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:zS(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:zS(o)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ja("not implemented")}_getIdTokenResponse(e){return ja("not implemented")}_linkToIdToken(e,n){return ja("not implemented")}_getReauthenticationResolver(e){return ja("not implemented")}}async function tH(t,e){return sa(t,"POST","/v1/accounts:update",e)}async function nH(t,e){return sa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e){return Ym(t,"POST","/v1/accounts:signInWithPassword",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){return Ym(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}async function iH(t,e){return Ym(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends qN{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gm(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gm(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,n,"signInWithPassword",sH);case"emailLink":return rH(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,s,"signUpPassword",nH);case"emailLink":return iH(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e){return Ym(t,"POST","/v1/accounts:signInWithIdp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="http://localhost";class oc extends qN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,a=Hm(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new oc(s,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xu(e,n)}buildRequest(){const e={requestUri:aH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lH(t){const e=th(nh(t)).link,n=e?th(nh(e)).deep_link_id:null,s=th(nh(t)).deep_link_id;return(s?th(nh(s)).link:null)||s||n||e||t}class HN{constructor(e){var n,s,i,a,o,l;const c=th(nh(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,m=oH((i=c.mode)!==null&&i!==void 0?i:null);Ye(u&&d&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=lH(e);try{return new HN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return gm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=HN.parseLink(n);return Ye(s,"argument-error"),gm._fromEmailAndCode(e,s.code,s.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends GN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Km{constructor(){super("facebook.com")}static credential(e){return oc._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oc._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Km{constructor(){super("github.com")}static credential(e){return oc._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Km{constructor(){super("twitter.com")}static credential(e,n){return oc._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return mo.credential(n,s)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e){return Ym(t,"POST","/v1/accounts:signUp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const a=await Na._fromIdTokenResponse(e,s,i),o=WS(s);return new lc({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=WS(s);return new lc({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function WS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Jr{constructor(e,n,s,i){var a;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Yg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Yg(e,n,s,i)}}function x4(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yg._fromErrorAndOperation(t,a,e,s):a})}async function uH(t,e,n=!1){const s=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lc._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e,n=!1){const{auth:s}=t;if(Ur(s.app))return Promise.reject(qi(s));const i="reauthenticate";try{const a=await ac(t,x4(s,i,e,t),n);Ye(a.idToken,s,"internal-error");const o=zN(a.idToken);Ye(o,s,"internal-error");const{sub:l}=o;return Ye(t.uid===l,s,"user-mismatch"),lc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Qr(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e,n=!1){if(Ur(t.app))return Promise.reject(qi(t));const s="signIn",i=await x4(t,s,e),a=await lc._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(a.user),a}async function dH(t,e){return v4(cl(t),e)}async function n0(t,e){return y4(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t){const e=cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yw(t,e,n){if(Ur(t.app))return Promise.reject(qi(t));const s=cl(t),o=await xw(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&b4(t),c}),l=await lc._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function hH(t,e,n){return Ur(t.app)?Promise.reject(qi(t)):dH(Nt(t),Ea.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&b4(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e){return sa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Nt(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ac(s,mH(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function fH(t,e){const n=Nt(t);return Ur(n.auth.app)?Promise.reject(qi(n.auth)):w4(n,e,null)}function pH(t,e){return w4(Nt(t),null,e)}async function w4(t,e,n){const{auth:s}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const o=await ac(t,tH(s,a));await t._updateTokensIfNecessary(o,!0)}function gH(t,e,n,s){return Nt(t).onIdTokenChanged(e,n,s)}function xH(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function j4(t,e,n,s){return Nt(t).onAuthStateChanged(e,n,s)}function yH(t){return Nt(t).signOut()}async function vH(t){return Nt(t).delete()}const Kg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kg,"1"),this.storage.removeItem(Kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=1e3,wH=10;class _4 extends N4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);Lq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wH):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_4.type="LOCAL";const jH=_4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends N4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C4.type="SESSION";const E4=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new ly(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,a)),c=await NH(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=YN("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function CH(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function EH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kH(){return S4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="firebaseLocalStorageDb",TH=1,Qg="firebaseLocalStorage",T4="fbase_key";class Qm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cy(t,e){return t.transaction([Qg],e?"readwrite":"readonly").objectStore(Qg)}function IH(){const t=indexedDB.deleteDatabase(k4);return new Qm(t).toPromise()}function bw(){const t=indexedDB.open(k4,TH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Qg,{keyPath:T4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Qg)?e(s):(s.close(),await IH(),e(await bw()))})})}async function qS(t,e,n){const s=cy(t,!0).put({[T4]:e,value:n});return new Qm(s).toPromise()}async function RH(t,e){const n=cy(t,!1).get(e),s=await new Qm(n).toPromise();return s===void 0?null:s.value}function HS(t,e){const n=cy(t,!0).delete(e);return new Qm(n).toPromise()}const AH=800,PH=3;class I4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PH)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(kH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EH(),!this.activeServiceWorker)return;this.sender=new _H(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bw();return await qS(e,Kg,"1"),await HS(e,Kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RH(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=cy(i,!1).getAll();return new Qm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I4.type="LOCAL";const DH=I4;new Gm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){return e?_a(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends qN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MH(t){return v4(t.auth,new KN(t),t.bypassAuthState)}function OH(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),y4(n,new KN(t),t.bypassAuthState)}async function LH(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),uH(n,new KN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MH;case"linkViaPopup":case"linkViaRedirect":return LH;case"reauthViaPopup":case"reauthViaRedirect":return OH;default:Qr(this.auth,"internal-error")}}resolve(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Gm(2e3,1e4);async function P4(t,e,n){if(Ur(t.app))return Promise.reject(pi(t,"operation-not-supported-in-this-environment"));const s=cl(t);yq(t,e,GN);const i=R4(s,n);return new Il(s,"signInViaPopup",e,i).executeNotNull()}class Il extends A4{constructor(e,n,s,i,a){super(e,n,i,a),this.provider=s,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Fa(this.filter.length===1,"Popup operations only handle one event");const e=YN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FH.get())};e()}}Il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="pendingRedirect",Mp=new Map;class UH extends A4{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mp.get(this.auth._key());if(!e){try{const s=await $H(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mp.set(this.auth._key(),e)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $H(t,e){const n=WH(e),s=zH(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function BH(t,e){Mp.set(t._key(),e)}function zH(t){return _a(t._redirectPersistence)}function WH(t){return Dp(VH,t.config.apiKey,t.name)}async function qH(t,e,n=!1){if(Ur(t.app))return Promise.reject(qi(t));const s=cl(t),i=R4(s,e),o=await new UH(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=10*60*1e3;class GH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!D4(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HH&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}function GS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(t,e={}){return sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZH=/^https?/;async function XH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KH(t);for(const n of e)try{if(JH(n))return}catch{}Qr(t,"unauthorized-domain")}function JH(t){const e=pw(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!ZH.test(n))return!1;if(QH.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new Gm(3e4,6e4);function YS(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tG(t){return new Promise((e,n)=>{var s,i,a;function o(){YS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YS(),n(pi(t,"network-request-failed"))},timeout:eG.get()})}if(!((i=(s=Hi().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Hi().gapi)===null||a===void 0)&&a.load)o();else{const l=Hq("iframefcb");return Hi()[l]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},p4(`${qq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Op=null,e})}let Op=null;function nG(t){return Op=Op||tG(t),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Gm(5e3,15e3),rG="__/auth/iframe",iG="emulator/auth/iframe",aG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lG(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?BN(e,iG):`https://${t.config.authDomain}/${rG}`,s={apiKey:e.apiKey,appName:t.name,v:_c},i=oG.get(t.config.apiHost);i&&(s.eid=i);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${qm(s).slice(1)}`}async function cG(t){const e=await nG(t),n=Hi().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:lG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aG,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const o=pi(t,"network-request-failed"),l=Hi().setTimeout(()=>{a(o)},sG.get());function c(){Hi().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dG=500,hG=600,mG="_blank",fG="http://localhost";class KS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pG(t,e,n,s=dG,i=hG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},uG),{width:s.toString(),height:i.toString(),top:a,left:o}),u=vs().toLowerCase();n&&(l=l4(u)?mG:n),a4(u)&&(e=e||fG,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[g,x])=>`${f}${g}=${x},`,"");if(Oq(u)&&l!=="_self")return gG(e||"",l),new KS(null);const m=window.open(e||"",l,d);Ye(m,t,"popup-blocked");try{m.focus()}catch{}return new KS(m)}function gG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="__/auth/handler",yG="emulator/auth/handler",vG=encodeURIComponent("fac");async function QS(t,e,n,s,i,a){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:_c,eventId:i};if(e instanceof GN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof Km){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${vG}=${encodeURIComponent(c)}`:"";return`${bG(t)}?${qm(l).slice(1)}${u}`}function bG({config:t}){return t.emulator?BN(t,yG):`https://${t.authDomain}/${xG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="webStorageSupport";class wG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E4,this._completeRedirectFn=qH,this._overrideRedirectResult=BH}async _openPopup(e,n,s,i){var a;Fa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await QS(e,n,s,pw(),i);return pG(e,o,YN())}async _openRedirect(e,n,s,i){await this._originValidation(e);const a=await QS(e,n,s,pw(),i);return CH(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fa(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cG(e),s=new GH(e);return n.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(s0,{type:s0},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[s0];o!==void 0&&n(!!o),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m4()||o4()||WN()}}const jG=wG;var ZS="@firebase/auth",XS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CG(t){wi(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f4(t)},u=new Bq(s,i,a,c);return Zq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wi(new Kr("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(s=>new NG(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(ZS,XS,_G(t)),Zs(ZS,XS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=5*60,SG=BP("authIdTokenMaxAge")||EG;let JS=null;const kG=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>SG)return;const i=n==null?void 0:n.token;JS!==i&&(JS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uy(t=ay()){const e=ol(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Qq(t,{popupRedirectResolver:jG,persistence:[DH,jH,E4]}),s=BP("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=kG(a.toString());xH(n,o,()=>o(n.currentUser)),gH(n,l=>o(l))}}const i=VP("auth");return i&&Xq(n,`http://${i}`),n}function TG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zq({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const a=pi("internal-error");a.customData=i,n(a)},s.type="text/javascript",s.charset="UTF-8",TG().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CG("Browser");var ek=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ql,M4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function R(){}R.prototype=C.prototype,A.D=C.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(k,D,S){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return C.prototype[D].apply(k,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,C,R){R||(R=0);var k=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)k[D]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(D=0;16>D;++D)k[D]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=A.g[0],R=A.g[1],D=A.g[2];var S=A.g[3],P=C+(S^R&(D^S))+k[0]+3614090360&4294967295;C=R+(P<<7&4294967295|P>>>25),P=S+(D^C&(R^D))+k[1]+3905402710&4294967295,S=C+(P<<12&4294967295|P>>>20),P=D+(R^S&(C^R))+k[2]+606105819&4294967295,D=S+(P<<17&4294967295|P>>>15),P=R+(C^D&(S^C))+k[3]+3250441966&4294967295,R=D+(P<<22&4294967295|P>>>10),P=C+(S^R&(D^S))+k[4]+4118548399&4294967295,C=R+(P<<7&4294967295|P>>>25),P=S+(D^C&(R^D))+k[5]+1200080426&4294967295,S=C+(P<<12&4294967295|P>>>20),P=D+(R^S&(C^R))+k[6]+2821735955&4294967295,D=S+(P<<17&4294967295|P>>>15),P=R+(C^D&(S^C))+k[7]+4249261313&4294967295,R=D+(P<<22&4294967295|P>>>10),P=C+(S^R&(D^S))+k[8]+1770035416&4294967295,C=R+(P<<7&4294967295|P>>>25),P=S+(D^C&(R^D))+k[9]+2336552879&4294967295,S=C+(P<<12&4294967295|P>>>20),P=D+(R^S&(C^R))+k[10]+4294925233&4294967295,D=S+(P<<17&4294967295|P>>>15),P=R+(C^D&(S^C))+k[11]+2304563134&4294967295,R=D+(P<<22&4294967295|P>>>10),P=C+(S^R&(D^S))+k[12]+1804603682&4294967295,C=R+(P<<7&4294967295|P>>>25),P=S+(D^C&(R^D))+k[13]+4254626195&4294967295,S=C+(P<<12&4294967295|P>>>20),P=D+(R^S&(C^R))+k[14]+2792965006&4294967295,D=S+(P<<17&4294967295|P>>>15),P=R+(C^D&(S^C))+k[15]+1236535329&4294967295,R=D+(P<<22&4294967295|P>>>10),P=C+(D^S&(R^D))+k[1]+4129170786&4294967295,C=R+(P<<5&4294967295|P>>>27),P=S+(R^D&(C^R))+k[6]+3225465664&4294967295,S=C+(P<<9&4294967295|P>>>23),P=D+(C^R&(S^C))+k[11]+643717713&4294967295,D=S+(P<<14&4294967295|P>>>18),P=R+(S^C&(D^S))+k[0]+3921069994&4294967295,R=D+(P<<20&4294967295|P>>>12),P=C+(D^S&(R^D))+k[5]+3593408605&4294967295,C=R+(P<<5&4294967295|P>>>27),P=S+(R^D&(C^R))+k[10]+38016083&4294967295,S=C+(P<<9&4294967295|P>>>23),P=D+(C^R&(S^C))+k[15]+3634488961&4294967295,D=S+(P<<14&4294967295|P>>>18),P=R+(S^C&(D^S))+k[4]+3889429448&4294967295,R=D+(P<<20&4294967295|P>>>12),P=C+(D^S&(R^D))+k[9]+568446438&4294967295,C=R+(P<<5&4294967295|P>>>27),P=S+(R^D&(C^R))+k[14]+3275163606&4294967295,S=C+(P<<9&4294967295|P>>>23),P=D+(C^R&(S^C))+k[3]+4107603335&4294967295,D=S+(P<<14&4294967295|P>>>18),P=R+(S^C&(D^S))+k[8]+1163531501&4294967295,R=D+(P<<20&4294967295|P>>>12),P=C+(D^S&(R^D))+k[13]+2850285829&4294967295,C=R+(P<<5&4294967295|P>>>27),P=S+(R^D&(C^R))+k[2]+4243563512&4294967295,S=C+(P<<9&4294967295|P>>>23),P=D+(C^R&(S^C))+k[7]+1735328473&4294967295,D=S+(P<<14&4294967295|P>>>18),P=R+(S^C&(D^S))+k[12]+2368359562&4294967295,R=D+(P<<20&4294967295|P>>>12),P=C+(R^D^S)+k[5]+4294588738&4294967295,C=R+(P<<4&4294967295|P>>>28),P=S+(C^R^D)+k[8]+2272392833&4294967295,S=C+(P<<11&4294967295|P>>>21),P=D+(S^C^R)+k[11]+1839030562&4294967295,D=S+(P<<16&4294967295|P>>>16),P=R+(D^S^C)+k[14]+4259657740&4294967295,R=D+(P<<23&4294967295|P>>>9),P=C+(R^D^S)+k[1]+2763975236&4294967295,C=R+(P<<4&4294967295|P>>>28),P=S+(C^R^D)+k[4]+1272893353&4294967295,S=C+(P<<11&4294967295|P>>>21),P=D+(S^C^R)+k[7]+4139469664&4294967295,D=S+(P<<16&4294967295|P>>>16),P=R+(D^S^C)+k[10]+3200236656&4294967295,R=D+(P<<23&4294967295|P>>>9),P=C+(R^D^S)+k[13]+681279174&4294967295,C=R+(P<<4&4294967295|P>>>28),P=S+(C^R^D)+k[0]+3936430074&4294967295,S=C+(P<<11&4294967295|P>>>21),P=D+(S^C^R)+k[3]+3572445317&4294967295,D=S+(P<<16&4294967295|P>>>16),P=R+(D^S^C)+k[6]+76029189&4294967295,R=D+(P<<23&4294967295|P>>>9),P=C+(R^D^S)+k[9]+3654602809&4294967295,C=R+(P<<4&4294967295|P>>>28),P=S+(C^R^D)+k[12]+3873151461&4294967295,S=C+(P<<11&4294967295|P>>>21),P=D+(S^C^R)+k[15]+530742520&4294967295,D=S+(P<<16&4294967295|P>>>16),P=R+(D^S^C)+k[2]+3299628645&4294967295,R=D+(P<<23&4294967295|P>>>9),P=C+(D^(R|~S))+k[0]+4096336452&4294967295,C=R+(P<<6&4294967295|P>>>26),P=S+(R^(C|~D))+k[7]+1126891415&4294967295,S=C+(P<<10&4294967295|P>>>22),P=D+(C^(S|~R))+k[14]+2878612391&4294967295,D=S+(P<<15&4294967295|P>>>17),P=R+(S^(D|~C))+k[5]+4237533241&4294967295,R=D+(P<<21&4294967295|P>>>11),P=C+(D^(R|~S))+k[12]+1700485571&4294967295,C=R+(P<<6&4294967295|P>>>26),P=S+(R^(C|~D))+k[3]+2399980690&4294967295,S=C+(P<<10&4294967295|P>>>22),P=D+(C^(S|~R))+k[10]+4293915773&4294967295,D=S+(P<<15&4294967295|P>>>17),P=R+(S^(D|~C))+k[1]+2240044497&4294967295,R=D+(P<<21&4294967295|P>>>11),P=C+(D^(R|~S))+k[8]+1873313359&4294967295,C=R+(P<<6&4294967295|P>>>26),P=S+(R^(C|~D))+k[15]+4264355552&4294967295,S=C+(P<<10&4294967295|P>>>22),P=D+(C^(S|~R))+k[6]+2734768916&4294967295,D=S+(P<<15&4294967295|P>>>17),P=R+(S^(D|~C))+k[13]+1309151649&4294967295,R=D+(P<<21&4294967295|P>>>11),P=C+(D^(R|~S))+k[4]+4149444226&4294967295,C=R+(P<<6&4294967295|P>>>26),P=S+(R^(C|~D))+k[11]+3174756917&4294967295,S=C+(P<<10&4294967295|P>>>22),P=D+(C^(S|~R))+k[2]+718787259&4294967295,D=S+(P<<15&4294967295|P>>>17),P=R+(S^(D|~C))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+S&4294967295}s.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var R=C-this.blockSize,k=this.B,D=this.h,S=0;S<C;){if(D==0)for(;S<=R;)i(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<C;)if(k[D++]=A.charCodeAt(S++),D==this.blockSize){i(this,k),D=0;break}}else for(;S<C;)if(k[D++]=A[S++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=C},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var R=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=R&255,R/=256;for(this.u(A),A=Array(16),C=R=0;4>C;++C)for(var k=0;32>k;k+=8)A[R++]=this.g[C]>>>k&255;return A};function a(A,C){var R=l;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=C(A)}function o(A,C){this.h=C;for(var R=[],k=!0,D=A.length-1;0<=D;D--){var S=A[D]|0;k&&S==C||(R[D]=S,k=!1)}this.g=R}var l={};function c(A){return-128<=A&&128>A?a(A,function(C){return new o([C|0],0>C?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return y(u(-A));for(var C=[],R=1,k=0;A>=R;k++)C[k]=A/R|0,R*=4294967296;return new o(C,0)}function d(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return y(d(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(C,8)),k=m,D=0;D<A.length;D+=8){var S=Math.min(8,A.length-D),P=parseInt(A.substring(D,D+S),C);8>S?(S=u(Math.pow(C,S)),k=k.j(S).add(u(P))):(k=k.j(R),k=k.add(u(P)))}return k}var m=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-y(this).m();for(var A=0,C=1,R=0;R<this.g.length;R++){var k=this.i(R);A+=(0<=k?k:4294967296+k)*C,C*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(b(this))return"-"+y(this).toString(A);for(var C=u(Math.pow(A,6)),R=this,k="";;){var D=I(R,C).g;R=w(R,D.j(C));var S=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=D,x(R))return S+k;for(;6>S.length;)S="0"+S;k=S+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=w(this,A),b(A)?-1:x(A)?0:1};function y(A){for(var C=A.g.length,R=[],k=0;k<C;k++)R[k]=~A.g[k];return new o(R,~A.h).add(f)}t.abs=function(){return b(this)?y(this):this},t.add=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],k=0,D=0;D<=C;D++){var S=k+(this.i(D)&65535)+(A.i(D)&65535),P=(S>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);k=P>>>16,S&=65535,P&=65535,R[D]=P<<16|S}return new o(R,R[R.length-1]&-2147483648?-1:0)};function w(A,C){return A.add(y(C))}t.j=function(A){if(x(this)||x(A))return m;if(b(this))return b(A)?y(this).j(y(A)):y(y(this).j(A));if(b(A))return y(this.j(y(A)));if(0>this.l(g)&&0>A.l(g))return u(this.m()*A.m());for(var C=this.g.length+A.g.length,R=[],k=0;k<2*C;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<A.g.length;D++){var S=this.i(k)>>>16,P=this.i(k)&65535,B=A.i(D)>>>16,O=A.i(D)&65535;R[2*k+2*D]+=P*O,v(R,2*k+2*D),R[2*k+2*D+1]+=S*O,v(R,2*k+2*D+1),R[2*k+2*D+1]+=P*B,v(R,2*k+2*D+1),R[2*k+2*D+2]+=S*B,v(R,2*k+2*D+2)}for(k=0;k<C;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=C;k<2*C;k++)R[k]=0;return new o(R,0)};function v(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function N(A,C){this.g=A,this.h=C}function I(A,C){if(x(C))throw Error("division by zero");if(x(A))return new N(m,m);if(b(A))return C=I(y(A),C),new N(y(C.g),y(C.h));if(b(C))return C=I(A,y(C)),new N(y(C.g),C.h);if(30<A.g.length){if(b(A)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var R=f,k=C;0>=k.l(A);)R=V(R),k=V(k);var D=z(R,1),S=z(k,1);for(k=z(k,2),R=z(R,2);!x(k);){var P=S.add(k);0>=P.l(A)&&(D=D.add(R),S=P),k=z(k,1),R=z(R,1)}return C=w(A,D.j(C)),new N(D,C)}for(D=m;0<=A.l(C);){for(R=Math.max(1,Math.floor(A.m()/C.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),S=u(R),P=S.j(C);b(P)||0<P.l(A);)R-=k,S=u(R),P=S.j(C);x(S)&&(S=f),D=D.add(S),A=w(A,P)}return new N(D,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)&A.i(k);return new o(R,this.h&A.h)},t.or=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)|A.i(k);return new o(R,this.h|A.h)},t.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)^A.i(k);return new o(R,this.h^A.h)};function V(A){for(var C=A.g.length+1,R=[],k=0;k<C;k++)R[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(R,A.h)}function z(A,C){var R=C>>5;C%=32;for(var k=A.g.length-R,D=[],S=0;S<k;S++)D[S]=0<C?A.i(S+R)>>>C|A.i(S+R+1)<<32-C:A.i(S+R);return new o(D,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,M4=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ql=o}).apply(typeof ek<"u"?ek:typeof self<"u"?self:typeof window<"u"?window:{});var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O4,sh,L4,Lp,ww,F4,V4,U4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,j,E){return h==Array.prototype||h==Object.prototype||(h[j]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ap=="object"&&ap];for(var j=0;j<h.length;++j){var E=h[j];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function i(h,j){if(j)e:{var E=s;h=h.split(".");for(var F=0;F<h.length-1;F++){var ee=h[F];if(!(ee in E))break e;E=E[ee]}h=h[h.length-1],F=E[h],j=j(F),j!=F&&j!=null&&e(E,h,{configurable:!0,writable:!0,value:j})}}function a(h,j){h instanceof String&&(h+="");var E=0,F=!1,ee={next:function(){if(!F&&E<h.length){var ie=E++;return{value:j(ie,h[ie]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(h){return h||function(){return a(this,function(j,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(h){var j=typeof h;return j=j!="object"?j:h?Array.isArray(h)?"array":j:"null",j=="array"||j=="object"&&typeof h.length=="number"}function u(h){var j=typeof h;return j=="object"&&h!=null||j=="function"}function d(h,j,E){return h.call.apply(h.bind,arguments)}function m(h,j,E){if(!h)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,F),h.apply(j,ee)}}return function(){return h.apply(j,arguments)}}function f(h,j,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,f.apply(null,arguments)}function g(h,j){var E=Array.prototype.slice.call(arguments,1);return function(){var F=E.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function x(h,j){function E(){}E.prototype=j.prototype,h.aa=j.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(F,ee,ie){for(var je=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)je[Lt-2]=arguments[Lt];return j.prototype[ee].apply(F,je)}}function b(h){const j=h.length;if(0<j){const E=Array(j);for(let F=0;F<j;F++)E[F]=h[F];return E}return[]}function y(h,j){for(let E=1;E<arguments.length;E++){const F=arguments[E];if(c(F)){const ee=h.length||0,ie=F.length||0;h.length=ee+ie;for(let je=0;je<ie;je++)h[ee+je]=F[je]}else h.push(F)}}class w{constructor(j,E){this.i=j,this.j=E,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function v(h){return/^[\s\xa0]*$/.test(h)}function N(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var V=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function z(h,j,E){for(const F in h)j.call(E,h[F],F,h)}function A(h,j){for(const E in h)j.call(void 0,h[E],E,h)}function C(h){const j={};for(const E in h)j[E]=h[E];return j}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,j){let E,F;for(let ee=1;ee<arguments.length;ee++){F=arguments[ee];for(E in F)h[E]=F[E];for(let ie=0;ie<R.length;ie++)E=R[ie],Object.prototype.hasOwnProperty.call(F,E)&&(h[E]=F[E])}}function D(h){var j=1;h=h.split(":");const E=[];for(;0<j&&h.length;)E.push(h.shift()),j--;return h.length&&E.push(h.join(":")),E}function S(h){l.setTimeout(()=>{throw h},0)}function P(){var h=U;let j=null;return h.g&&(j=h.g,h.g=h.g.next,h.g||(h.h=null),j.next=null),j}class B{constructor(){this.h=this.g=null}add(j,E){const F=O.get();F.set(j,E),this.h?this.h.next=F:this.g=F,this.h=F}}var O=new w(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(j,E){this.h=j,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let T,_=!1,U=new B,G=()=>{const h=l.Promise.resolve(void 0);T=()=>{h.then(M)}};var M=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(E){S(E)}var j=O;j.j(h),100>j.h&&(j.h++,h.next=j.g,j.g=h)}_=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,j){this.type=h,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,j=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};l.addEventListener("test",E,j),l.removeEventListener("test",E,j)}catch{}return h}();function le(h,j){if(L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=j,j=h.relatedTarget){if(V){e:{try{I(j.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(j=null)}}else E=="mouseover"?j=h.fromElement:E=="mouseout"&&(j=h.toElement);this.relatedTarget=j,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&le.aa.h.call(this)}}x(le,L);var ne={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),te=0;function J(h,j,E,F,ee){this.listener=h,this.proxy=null,this.src=j,this.type=E,this.capture=!!F,this.ha=ee,this.key=++te,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,j,E,F,ee){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var je=Ue(h,j,F,ee);return-1<je?(j=h[je],E||(j.fa=!1)):(j=new J(j,this.src,ie,!!F,ee),j.fa=E,h.push(j)),j};function ve(h,j){var E=j.type;if(E in h.g){var F=h.g[E],ee=Array.prototype.indexOf.call(F,j,void 0),ie;(ie=0<=ee)&&Array.prototype.splice.call(F,ee,1),ie&&(ae(j),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ue(h,j,E,F){for(var ee=0;ee<h.length;++ee){var ie=h[ee];if(!ie.da&&ie.listener==j&&ie.capture==!!E&&ie.ha==F)return ee}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Vt={};function re(h,j,E,F,ee){if(Array.isArray(j)){for(var ie=0;ie<j.length;ie++)re(h,j[ie],E,F,ee);return null}return E=$e(E),h&&h[H]?h.K(j,E,u(F)?!!F.capture:!!F,ee):qe(h,j,E,!1,F,ee)}function qe(h,j,E,F,ee,ie){if(!j)throw Error("Invalid event type");var je=u(ee)?!!ee.capture:!!ee,Lt=de(h);if(Lt||(h[Oe]=Lt=new ye(h)),E=Lt.add(j,E,F,je,ie),E.proxy)return E;if(F=q(),E.proxy=F,F.src=h,F.listener=E,h.addEventListener)X||(ee=je),ee===void 0&&(ee=!1),h.addEventListener(j.toString(),F,ee);else if(h.attachEvent)h.attachEvent(K(j.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return E}function q(){function h(E){return j.call(h.src,h.listener,E)}const j=he;return h}function Z(h,j,E,F,ee){if(Array.isArray(j))for(var ie=0;ie<j.length;ie++)Z(h,j[ie],E,F,ee);else F=u(F)?!!F.capture:!!F,E=$e(E),h&&h[H]?(h=h.i,j=String(j).toString(),j in h.g&&(ie=h.g[j],E=Ue(ie,E,F,ee),-1<E&&(ae(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete h.g[j],h.h--)))):h&&(h=de(h))&&(j=h.g[j.toString()],h=-1,j&&(h=Ue(j,E,F,ee)),(E=-1<h?j[h]:null)&&se(E))}function se(h){if(typeof h!="number"&&h&&!h.da){var j=h.src;if(j&&j[H])ve(j.i,h);else{var E=h.type,F=h.proxy;j.removeEventListener?j.removeEventListener(E,F,h.capture):j.detachEvent?j.detachEvent(K(E),F):j.addListener&&j.removeListener&&j.removeListener(F),(E=de(j))?(ve(E,h),E.h==0&&(E.src=null,j[Oe]=null)):ae(h)}}}function K(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function he(h,j){if(h.da)h=!0;else{j=new le(j,this);var E=h.listener,F=h.ha||h.src;h.fa&&se(h),h=E.call(F,j)}return h}function de(h){return h=h[Oe],h instanceof ye?h:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(h){return typeof h=="function"?h:(h[_e]||(h[_e]=function(j){return h.handleEvent(j)}),h[_e])}function ze(){Y.call(this),this.i=new ye(this),this.M=this,this.F=null}x(ze,Y),ze.prototype[H]=!0,ze.prototype.removeEventListener=function(h,j,E,F){Z(this,h,j,E,F)};function We(h,j){var E,F=h.F;if(F)for(E=[];F;F=F.F)E.push(F);if(h=h.M,F=j.type||j,typeof j=="string")j=new L(j,h);else if(j instanceof L)j.target=j.target||h;else{var ee=j;j=new L(F,h),k(j,ee)}if(ee=!0,E)for(var ie=E.length-1;0<=ie;ie--){var je=j.g=E[ie];ee=Dn(je,F,!0,j)&&ee}if(je=j.g=h,ee=Dn(je,F,!0,j)&&ee,ee=Dn(je,F,!1,j)&&ee,E)for(ie=0;ie<E.length;ie++)je=j.g=E[ie],ee=Dn(je,F,!1,j)&&ee}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var h=this.i,j;for(j in h.g){for(var E=h.g[j],F=0;F<E.length;F++)ae(E[F]);delete h.g[j],h.h--}}this.F=null},ze.prototype.K=function(h,j,E,F){return this.i.add(String(h),j,!1,E,F)},ze.prototype.L=function(h,j,E,F){return this.i.add(String(h),j,!0,E,F)};function Dn(h,j,E,F){if(j=h.i.g[String(j)],!j)return!0;j=j.concat();for(var ee=!0,ie=0;ie<j.length;++ie){var je=j[ie];if(je&&!je.da&&je.capture==E){var Lt=je.listener,qn=je.ha||je.src;je.fa&&ve(h.i,je),ee=Lt.call(qn,F)!==!1&&ee}}return ee&&!F.defaultPrevented}function Ls(h,j,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:l.setTimeout(h,j||0)}function ia(h){h.g=Ls(()=>{h.g=null,h.i&&(h.i=!1,ia(h))},h.l);const j=h.h;h.h=null,h.m.apply(null,j)}class pl extends Y{constructor(j,E){super(),this.m=j,this.l=E,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(h){Y.call(this),this.h=h,this.g={}}x(Ci,Y);var Ha=[];function Ic(h){z(h.g,function(j,E){this.g.hasOwnProperty(E)&&se(j)},h),h.g={}}Ci.prototype.N=function(){Ci.aa.N.call(this),Ic(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=l.JSON.stringify,Si=l.JSON.parse,Qy=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Xe(){}Xe.prototype.h=null;function Dt(h){return h.h||(h.h=h.i())}function Tt(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fs(){L.call(this,"d")}x(Fs,L);function Ga(){L.call(this,"c")}x(Ga,L);var aa={},I1=null;function wf(){return I1=I1||new ze}aa.La="serverreachability";function R1(h){L.call(this,aa.La,h)}x(R1,L);function bd(h){const j=wf();We(j,new R1(j))}aa.STAT_EVENT="statevent";function A1(h,j){L.call(this,aa.STAT_EVENT,h),this.stat=j}x(A1,L);function ws(h){const j=wf();We(j,new A1(j,h))}aa.Ma="timingevent";function P1(h,j){L.call(this,aa.Ma,h),this.size=j}x(P1,L);function wd(h,j){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},j)}function jd(){this.g=!0}jd.prototype.xa=function(){this.g=!1};function j3(h,j,E,F,ee,ie){h.info(function(){if(h.g)if(ie)for(var je="",Lt=ie.split("&"),qn=0;qn<Lt.length;qn++){var wt=Lt[qn].split("=");if(1<wt.length){var is=wt[0];wt=wt[1];var as=is.split("_");je=2<=as.length&&as[1]=="type"?je+(is+"="+wt+"&"):je+(is+"=redacted&")}}else je=null;else je=ie;return"XMLHTTP REQ ("+F+") [attempt "+ee+"]: "+j+`
`+E+`
`+je})}function N3(h,j,E,F,ee,ie,je){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ee+"]: "+j+`
`+E+`
`+ie+" "+je})}function Rc(h,j,E,F){h.info(function(){return"XMLHTTP TEXT ("+j+"): "+C3(h,E)+(F?" "+F:"")})}function _3(h,j){h.info(function(){return"TIMEOUT: "+j})}jd.prototype.info=function(){};function C3(h,j){if(!h.g)return j;if(!j)return null;try{var E=JSON.parse(j);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var F=E[h];if(!(2>F.length)){var ee=F[1];if(Array.isArray(ee)&&!(1>ee.length)){var ie=ee[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var je=1;je<ee.length;je++)ee[je]=""}}}}return Ei(E)}catch{return j}}var jf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zy;function Nf(){}x(Nf,Xe),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},Zy=new Nf;function Ya(h,j,E,F){this.j=h,this.i=j,this.l=E,this.R=F||1,this.U=new Ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}var O1={},Xy={};function Jy(h,j,E){h.L=1,h.v=Sf(oa(j)),h.m=E,h.P=!0,L1(h,null)}function L1(h,j){h.F=Date.now(),_f(h),h.A=oa(h.v);var E=h.A,F=h.R;Array.isArray(F)||(F=[String(F)]),Z1(E.i,"t",F),h.C=0,E=h.j.J,h.h=new M1,h.g=pC(h.j,E?j:null,!h.m),0<h.O&&(h.M=new pl(f(h.Y,h,h.g),h.O)),j=h.U,E=h.g,F=h.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Ha[0]=ee.toString()),ee=Ha);for(var ie=0;ie<ee.length;ie++){var je=re(E,ee[ie],F||j.handleEvent,!1,j.h||j);if(!je)break;j.g[je.key]=je}j=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,j)):(h.u="GET",h.g.ea(h.A,h.u,null,j)),bd(),j3(h.i,h.u,h.A,h.l,h.R,h.m)}Ya.prototype.ca=function(h){h=h.target;const j=this.M;j&&la(h)==3?j.j():this.Y(h)},Ya.prototype.Y=function(h){try{if(h==this.g)e:{const as=la(this.g);var j=this.g.Ba();const Dc=this.g.Z();if(!(3>as)&&(as!=3||this.g&&(this.h.h||this.g.oa()||rC(this.g)))){this.J||as!=4||j==7||(j==8||0>=Dc?bd(3):bd(2)),ev(this);var E=this.g.Z();this.X=E;t:if(F1(this)){var F=rC(this.g);h="";var ee=F.length,ie=la(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gl(this),Nd(this);var je="";break t}this.h.i=new l.TextDecoder}for(j=0;j<ee;j++)this.h.h=!0,h+=this.h.i.decode(F[j],{stream:!(ie&&j==ee-1)});F.length=0,this.h.g+=h,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=E==200,N3(this.i,this.u,this.A,this.l,this.R,as,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,qn=this.g;if((Lt=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Lt)){var wt=Lt;break t}}wt=null}if(E=wt)Rc(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tv(this,E);else{this.o=!1,this.s=3,ws(12),gl(this),Nd(this);break e}}if(this.P){E=!0;let ei;for(;!this.J&&this.C<je.length;)if(ei=E3(this,je),ei==Xy){as==4&&(this.s=4,ws(14),E=!1),Rc(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==O1){this.s=4,ws(15),Rc(this.i,this.l,je,"[Invalid Chunk]"),E=!1;break}else Rc(this.i,this.l,ei,null),tv(this,ei);if(F1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),as!=4||je.length!=0||this.h.h||(this.s=1,ws(16),E=!1),this.o=this.o&&E,!E)Rc(this.i,this.l,je,"[Invalid Chunked Response]"),gl(this),Nd(this);else if(0<je.length&&!this.W){this.W=!0;var is=this.j;is.g==this&&is.ba&&!is.M&&(is.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),ov(is),is.M=!0,ws(11))}}else Rc(this.i,this.l,je,null),tv(this,je);as==4&&gl(this),this.o&&!this.J&&(as==4?dC(this.j,this):(this.o=!1,_f(this)))}else z3(this.g),E==400&&0<je.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),gl(this),Nd(this)}}}catch{}finally{}};function F1(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function E3(h,j){var E=h.C,F=j.indexOf(`
`,E);return F==-1?Xy:(E=Number(j.substring(E,F)),isNaN(E)?O1:(F+=1,F+E>j.length?Xy:(j=j.slice(F,F+E),h.C=F+E,j)))}Ya.prototype.cancel=function(){this.J=!0,gl(this)};function _f(h){h.S=Date.now()+h.I,V1(h,h.I)}function V1(h,j){if(h.B!=null)throw Error("WatchDog timer not null");h.B=wd(f(h.ba,h),j)}function ev(h){h.B&&(l.clearTimeout(h.B),h.B=null)}Ya.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(_3(this.i,this.A),this.L!=2&&(bd(),ws(17)),gl(this),this.s=2,Nd(this)):V1(this,this.S-h)};function Nd(h){h.j.G==0||h.J||dC(h.j,h)}function gl(h){ev(h);var j=h.M;j&&typeof j.ma=="function"&&j.ma(),h.M=null,Ic(h.U),h.g&&(j=h.g,h.g=null,j.abort(),j.ma())}function tv(h,j){try{var E=h.j;if(E.G!=0&&(E.g==h||nv(E.h,h))){if(!h.K&&nv(E.h,h)&&E.G==3){try{var F=E.Da.g.parse(j)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ee=F;if(ee[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Pf(E),Rf(E);else break e;av(E),ws(18)}}else E.za=ee[1],0<E.za-E.T&&37500>ee[2]&&E.F&&E.v==0&&!E.C&&(E.C=wd(f(E.Za,E),6e3));if(1>=B1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yl(E,11)}else if((h.K||E.g==h)&&Pf(E),!v(j))for(ee=E.Da.g.parse(j),j=0;j<ee.length;j++){let wt=ee[j];if(E.T=wt[0],wt=wt[1],E.G==2)if(wt[0]=="c"){E.K=wt[1],E.ia=wt[2];const is=wt[3];is!=null&&(E.la=is,E.j.info("VER="+E.la));const as=wt[4];as!=null&&(E.Aa=as,E.j.info("SVER="+E.Aa));const Dc=wt[5];Dc!=null&&typeof Dc=="number"&&0<Dc&&(F=1.5*Dc,E.L=F,E.j.info("backChannelRequestTimeoutMs_="+F)),F=E;const ei=h.g;if(ei){const Mf=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mf){var ie=F.h;ie.g||Mf.indexOf("spdy")==-1&&Mf.indexOf("quic")==-1&&Mf.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(sv(ie,ie.h),ie.h=null))}if(F.D){const lv=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;lv&&(F.ya=lv,Wt(F.I,F.D,lv))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),F=E;var je=h;if(F.qa=fC(F,F.J?F.ia:null,F.W),je.K){z1(F.h,je);var Lt=je,qn=F.L;qn&&(Lt.I=qn),Lt.B&&(ev(Lt),_f(Lt)),F.g=je}else cC(F);0<E.i.length&&Af(E)}else wt[0]!="stop"&&wt[0]!="close"||yl(E,7);else E.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?yl(E,7):iv(E):wt[0]!="noop"&&E.l&&E.l.ta(wt),E.v=0)}}bd(4)}catch{}}var S3=class{constructor(h,j){this.g=h,this.map=j}};function U1(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function B1(h){return h.h?1:h.g?h.g.size:0}function nv(h,j){return h.h?h.h==j:h.g?h.g.has(j):!1}function sv(h,j){h.g?h.g.add(j):h.h=j}function z1(h,j){h.h&&h.h==j?h.h=null:h.g&&h.g.has(j)&&h.g.delete(j)}U1.prototype.cancel=function(){if(this.i=W1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function W1(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let j=h.i;for(const E of h.g.values())j=j.concat(E.D);return j}return b(h.i)}function k3(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var j=[],E=h.length,F=0;F<E;F++)j.push(h[F]);return j}j=[],E=0;for(F in h)j[E++]=h[F];return j}function T3(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var j=[];h=h.length;for(var E=0;E<h;E++)j.push(E);return j}j=[],E=0;for(const F in h)j[E++]=F;return j}}}function q1(h,j){if(h.forEach&&typeof h.forEach=="function")h.forEach(j,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,j,void 0);else for(var E=T3(h),F=k3(h),ee=F.length,ie=0;ie<ee;ie++)j.call(void 0,F[ie],E&&E[ie],h)}var H1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I3(h,j){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var F=h[E].indexOf("="),ee=null;if(0<=F){var ie=h[E].substring(0,F);ee=h[E].substring(F+1)}else ie=h[E];j(ie,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function xl(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xl){this.h=h.h,Cf(this,h.j),this.o=h.o,this.g=h.g,Ef(this,h.s),this.l=h.l;var j=h.i,E=new Ed;E.i=j.i,j.g&&(E.g=new Map(j.g),E.h=j.h),G1(this,E),this.m=h.m}else h&&(j=String(h).match(H1))?(this.h=!1,Cf(this,j[1]||"",!0),this.o=_d(j[2]||""),this.g=_d(j[3]||"",!0),Ef(this,j[4]),this.l=_d(j[5]||"",!0),G1(this,j[6]||"",!0),this.m=_d(j[7]||"")):(this.h=!1,this.i=new Ed(null,this.h))}xl.prototype.toString=function(){var h=[],j=this.j;j&&h.push(Cd(j,Y1,!0),":");var E=this.g;return(E||j=="file")&&(h.push("//"),(j=this.o)&&h.push(Cd(j,Y1,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Cd(E,E.charAt(0)=="/"?P3:A3,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Cd(E,M3)),h.join("")};function oa(h){return new xl(h)}function Cf(h,j,E){h.j=E?_d(j,!0):j,h.j&&(h.j=h.j.replace(/:$/,""))}function Ef(h,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);h.s=j}else h.s=null}function G1(h,j,E){j instanceof Ed?(h.i=j,O3(h.i,h.h)):(E||(j=Cd(j,D3)),h.i=new Ed(j,h.h))}function Wt(h,j,E){h.i.set(j,E)}function Sf(h){return Wt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function _d(h,j){return h?j?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Cd(h,j,E){return typeof h=="string"?(h=encodeURI(h).replace(j,R3),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function R3(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Y1=/[#\/\?@]/g,A3=/[#\?:]/g,P3=/[#\?]/g,D3=/[#\?@]/g,M3=/#/g;function Ed(h,j){this.h=this.g=null,this.i=h||null,this.j=!!j}function Ka(h){h.g||(h.g=new Map,h.h=0,h.i&&I3(h.i,function(j,E){h.add(decodeURIComponent(j.replace(/\+/g," ")),E)}))}t=Ed.prototype,t.add=function(h,j){Ka(this),this.i=null,h=Ac(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(j),this.h+=1,this};function K1(h,j){Ka(h),j=Ac(h,j),h.g.has(j)&&(h.i=null,h.h-=h.g.get(j).length,h.g.delete(j))}function Q1(h,j){return Ka(h),j=Ac(h,j),h.g.has(j)}t.forEach=function(h,j){Ka(this),this.g.forEach(function(E,F){E.forEach(function(ee){h.call(j,ee,F,this)},this)},this)},t.na=function(){Ka(this);const h=Array.from(this.g.values()),j=Array.from(this.g.keys()),E=[];for(let F=0;F<j.length;F++){const ee=h[F];for(let ie=0;ie<ee.length;ie++)E.push(j[F])}return E},t.V=function(h){Ka(this);let j=[];if(typeof h=="string")Q1(this,h)&&(j=j.concat(this.g.get(Ac(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)j=j.concat(h[E])}return j},t.set=function(h,j){return Ka(this),this.i=null,h=Ac(this,h),Q1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[j]),this.h+=1,this},t.get=function(h,j){return h?(h=this.V(h),0<h.length?String(h[0]):j):j};function Z1(h,j,E){K1(h,j),0<E.length&&(h.i=null,h.g.set(Ac(h,j),b(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],j=Array.from(this.g.keys());for(var E=0;E<j.length;E++){var F=j[E];const ie=encodeURIComponent(String(F)),je=this.V(F);for(F=0;F<je.length;F++){var ee=ie;je[F]!==""&&(ee+="="+encodeURIComponent(String(je[F]))),h.push(ee)}}return this.i=h.join("&")};function Ac(h,j){return j=String(j),h.j&&(j=j.toLowerCase()),j}function O3(h,j){j&&!h.j&&(Ka(h),h.i=null,h.g.forEach(function(E,F){var ee=F.toLowerCase();F!=ee&&(K1(this,F),Z1(this,ee,E))},h)),h.j=j}function L3(h,j){const E=new jd;if(l.Image){const F=new Image;F.onload=g(Qa,E,"TestLoadImage: loaded",!0,j,F),F.onerror=g(Qa,E,"TestLoadImage: error",!1,j,F),F.onabort=g(Qa,E,"TestLoadImage: abort",!1,j,F),F.ontimeout=g(Qa,E,"TestLoadImage: timeout",!1,j,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else j(!1)}function F3(h,j){const E=new jd,F=new AbortController,ee=setTimeout(()=>{F.abort(),Qa(E,"TestPingServer: timeout",!1,j)},1e4);fetch(h,{signal:F.signal}).then(ie=>{clearTimeout(ee),ie.ok?Qa(E,"TestPingServer: ok",!0,j):Qa(E,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ee),Qa(E,"TestPingServer: error",!1,j)})}function Qa(h,j,E,F,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),F(E)}catch{}}function V3(){this.g=new Qy}function U3(h,j,E){const F=E||"";try{q1(h,function(ee,ie){let je=ee;u(ee)&&(je=Ei(ee)),j.push(F+ie+"="+encodeURIComponent(je))})}catch(ee){throw j.push(F+"type="+encodeURIComponent("_badmap")),ee}}function kf(h){this.l=h.Ub||null,this.j=h.eb||!1}x(kf,Xe),kf.prototype.g=function(){return new Tf(this.l,this.j)},kf.prototype.i=function(h){return function(){return h}}({});function Tf(h,j){ze.call(this),this.D=h,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Tf,ze),t=Tf.prototype,t.open=function(h,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=j,this.readyState=1,kd(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(j.body=h),(this.D||l).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sd(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X1(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function X1(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var j=h.value?h.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!h.done}))&&(this.response=this.responseText+=j)}h.done?Sd(this):kd(this),this.readyState==3&&X1(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Sd(this))},t.Qa=function(h){this.g&&(this.response=h,Sd(this))},t.ga=function(){this.g&&Sd(this)};function Sd(h){h.readyState=4,h.l=null,h.j=null,h.v=null,kd(h)}t.setRequestHeader=function(h,j){this.u.append(h,j)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],j=this.h.entries();for(var E=j.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=j.next();return h.join(`\r
`)};function kd(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function J1(h){let j="";return z(h,function(E,F){j+=F,j+=":",j+=E,j+=`\r
`}),j}function rv(h,j,E){e:{for(F in E){var F=!1;break e}F=!0}F||(E=J1(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Wt(h,j,E))}function ln(h){ze.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ln,ze);var $3=/^https?$/i,B3=["POST","PUT"];t=ln.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,j,E,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);j=j?j.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zy.g(),this.v=this.o?Dt(this.o):Dt(Zy),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(j,String(h),!0),this.B=!1}catch(ie){eC(this,ie);return}if(h=E||"",E=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ee in F)E.set(ee,F[ee]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ie of F.keys())E.set(ie,F.get(ie));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),ee=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(B3,j,void 0))||F||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,je]of E)this.g.setRequestHeader(ie,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sC(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){eC(this,ie)}};function eC(h,j){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=j,h.m=5,tC(h),If(h)}function tC(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),If(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),If(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nC(this):this.bb())},t.bb=function(){nC(this)};function nC(h){if(h.h&&typeof o<"u"&&(!h.v[1]||la(h)!=4||h.Z()!=2)){if(h.u&&la(h)==4)Ls(h.Ea,0,h);else if(We(h,"readystatechange"),la(h)==4){h.h=!1;try{const je=h.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var E;if(!(E=j)){var F;if(F=je===0){var ee=String(h.D).match(H1)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),F=!$3.test(ee?ee.toLowerCase():"")}E=F}if(E)We(h,"complete"),We(h,"success");else{h.m=6;try{var ie=2<la(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",tC(h)}}finally{If(h)}}}}function If(h,j){if(h.g){sC(h);const E=h.g,F=h.v[0]?()=>{}:null;h.g=null,h.v=null,j||We(h,"ready");try{E.onreadystatechange=F}catch{}}}function sC(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function la(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<la(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var j=this.g.responseText;return h&&j.indexOf(h)==0&&(j=j.substring(h.length)),Si(j)}};function rC(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function z3(h){const j={};h=(h.g&&2<=la(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(v(h[F]))continue;var E=D(h[F]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=j[ee]||[];j[ee]=ie,ie.push(E)}A(j,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Td(h,j,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||j}function iC(h){this.Aa=0,this.i=[],this.j=new jd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Td("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Td("baseRetryDelayMs",5e3,h),this.cb=Td("retryDelaySeedMs",1e4,h),this.Wa=Td("forwardChannelMaxRetries",2,h),this.wa=Td("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new U1(h&&h.concurrentRequestLimit),this.Da=new V3,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iC.prototype,t.la=8,t.G=1,t.connect=function(h,j,E,F){ws(0),this.W=h,this.H=j||{},E&&F!==void 0&&(this.H.OSID=E,this.H.OAID=F),this.F=this.X,this.I=fC(this,null,this.W),Af(this)};function iv(h){if(aC(h),h.G==3){var j=h.U++,E=oa(h.I);if(Wt(E,"SID",h.K),Wt(E,"RID",j),Wt(E,"TYPE","terminate"),Id(h,E),j=new Ya(h,h.j,j),j.L=2,j.v=Sf(oa(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(j.v.toString(),"")}catch{}!E&&l.Image&&(new Image().src=j.v,E=!0),E||(j.g=pC(j.j,null),j.g.ea(j.v)),j.F=Date.now(),_f(j)}mC(h)}function Rf(h){h.g&&(ov(h),h.g.cancel(),h.g=null)}function aC(h){Rf(h),h.u&&(l.clearTimeout(h.u),h.u=null),Pf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function Af(h){if(!$1(h.h)&&!h.s){h.s=!0;var j=h.Ga;T||G(),_||(T(),_=!0),U.add(j,h),h.B=0}}function W3(h,j){return B1(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=j.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=wd(f(h.Ga,h,j),hC(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ee=new Ya(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=C(ie),k(ie,this.S)):ie=this.S),this.m!==null||this.O||(ee.H=ie,ie=null),this.P)e:{for(var j=0,E=0;E<this.i.length;E++){t:{var F=this.i[E];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(j+=F,4096<j){j=E;break e}if(j===4096||E===this.i.length-1){j=E+1;break e}}j=1e3}else j=1e3;j=lC(this,ee,j),E=oa(this.I),Wt(E,"RID",h),Wt(E,"CVER",22),this.D&&Wt(E,"X-HTTP-Session-Id",this.D),Id(this,E),ie&&(this.O?j="headers="+encodeURIComponent(String(J1(ie)))+"&"+j:this.m&&rv(E,this.m,ie)),sv(this.h,ee),this.Ua&&Wt(E,"TYPE","init"),this.P?(Wt(E,"$req",j),Wt(E,"SID","null"),ee.T=!0,Jy(ee,E,null)):Jy(ee,E,j),this.G=2}}else this.G==3&&(h?oC(this,h):this.i.length==0||$1(this.h)||oC(this))};function oC(h,j){var E;j?E=j.l:E=h.U++;const F=oa(h.I);Wt(F,"SID",h.K),Wt(F,"RID",E),Wt(F,"AID",h.T),Id(h,F),h.m&&h.o&&rv(F,h.m,h.o),E=new Ya(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),j&&(h.i=j.D.concat(h.i)),j=lC(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),sv(h.h,E),Jy(E,F,j)}function Id(h,j){h.H&&z(h.H,function(E,F){Wt(j,F,E)}),h.l&&q1({},function(E,F){Wt(j,F,E)})}function lC(h,j,E){E=Math.min(h.i.length,E);var F=h.l?f(h.l.Na,h.l,h):null;e:{var ee=h.i;let ie=-1;for(;;){const je=["count="+E];ie==-1?0<E?(ie=ee[0].g,je.push("ofs="+ie)):ie=0:je.push("ofs="+ie);let Lt=!0;for(let qn=0;qn<E;qn++){let wt=ee[qn].g;const is=ee[qn].map;if(wt-=ie,0>wt)ie=Math.max(0,ee[qn].g-100),Lt=!1;else try{U3(is,je,"req"+wt+"_")}catch{F&&F(is)}}if(Lt){F=je.join("&");break e}}}return h=h.i.splice(0,E),j.D=h,F}function cC(h){if(!h.g&&!h.u){h.Y=1;var j=h.Fa;T||G(),_||(T(),_=!0),U.add(j,h),h.v=0}}function av(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=wd(f(h.Fa,h),hC(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,uC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=wd(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ws(10),Rf(this),uC(this))};function ov(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function uC(h){h.g=new Ya(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var j=oa(h.qa);Wt(j,"RID","rpc"),Wt(j,"SID",h.K),Wt(j,"AID",h.T),Wt(j,"CI",h.F?"0":"1"),!h.F&&h.ja&&Wt(j,"TO",h.ja),Wt(j,"TYPE","xmlhttp"),Id(h,j),h.m&&h.o&&rv(j,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Sf(oa(j)),E.m=null,E.P=!0,L1(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Rf(this),av(this),ws(19))};function Pf(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function dC(h,j){var E=null;if(h.g==j){Pf(h),ov(h),h.g=null;var F=2}else if(nv(h.h,j))E=j.D,z1(h.h,j),F=1;else return;if(h.G!=0){if(j.o)if(F==1){E=j.m?j.m.length:0,j=Date.now()-j.F;var ee=h.B;F=wf(),We(F,new P1(F,E)),Af(h)}else cC(h);else if(ee=j.s,ee==3||ee==0&&0<j.X||!(F==1&&W3(h,j)||F==2&&av(h)))switch(E&&0<E.length&&(j=h.h,j.i=j.i.concat(E)),ee){case 1:yl(h,5);break;case 4:yl(h,10);break;case 3:yl(h,6);break;default:yl(h,2)}}}function hC(h,j){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*j}function yl(h,j){if(h.j.info("Error code "+j),j==2){var E=f(h.fb,h),F=h.Xa;const ee=!F;F=new xl(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cf(F,"https"),Sf(F),ee?L3(F.toString(),E):F3(F.toString(),E)}else ws(2);h.G=0,h.l&&h.l.sa(j),mC(h),aC(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))};function mC(h){if(h.G=0,h.ka=[],h.l){const j=W1(h.h);(j.length!=0||h.i.length!=0)&&(y(h.ka,j),y(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function fC(h,j,E){var F=E instanceof xl?oa(E):new xl(E);if(F.g!="")j&&(F.g=j+"."+F.g),Ef(F,F.s);else{var ee=l.location;F=ee.protocol,j=j?j+"."+ee.hostname:ee.hostname,ee=+ee.port;var ie=new xl(null);F&&Cf(ie,F),j&&(ie.g=j),ee&&Ef(ie,ee),E&&(ie.l=E),F=ie}return E=h.D,j=h.ya,E&&j&&Wt(F,E,j),Wt(F,"VER",h.la),Id(h,F),F}function pC(h,j,E){if(j&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=h.Ca&&!h.pa?new ln(new kf({eb:E})):new ln(h.pa),j.Ha(h.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gC(){}t=gC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Df(){}Df.prototype.g=function(h,j){return new sr(h,j)};function sr(h,j){ze.call(this),this.g=new iC(j),this.l=h,this.h=j&&j.messageUrlParams||null,h=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(h?h["X-WebChannel-Content-Type"]=j.messageContentType:h={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(h?h["X-WebChannel-Client-Profile"]=j.va:h={"X-WebChannel-Client-Profile":j.va}),this.g.S=h,(h=j&&j.Sb)&&!v(h)&&(this.g.m=h),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!v(j)&&(this.g.D=j,h=this.h,h!==null&&j in h&&(h=this.h,j in h&&delete h[j])),this.j=new Pc(this)}x(sr,ze),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){iv(this.g)},sr.prototype.o=function(h){var j=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ei(h),h=E);j.i.push(new S3(j.Ya++,h)),j.G==3&&Af(j)},sr.prototype.N=function(){this.g.l=null,delete this.j,iv(this.g),delete this.g,sr.aa.N.call(this)};function xC(h){Fs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var j=h.__sm__;if(j){e:{for(const E in j){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,j=j!==null&&h in j?j[h]:void 0),this.data=j}else this.data=h}x(xC,Fs);function yC(){Ga.call(this),this.status=1}x(yC,Ga);function Pc(h){this.g=h}x(Pc,gC),Pc.prototype.ua=function(){We(this.g,"a")},Pc.prototype.ta=function(h){We(this.g,new xC(h))},Pc.prototype.sa=function(h){We(this.g,new yC)},Pc.prototype.ra=function(){We(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,U4=function(){return new Df},V4=function(){return wf()},F4=aa,ww={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jf.NO_ERROR=0,jf.TIMEOUT=8,jf.HTTP_ERROR=6,Lp=jf,D1.COMPLETE="complete",L4=D1,Tt.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",ze.prototype.listen=ze.prototype.K,sh=Tt,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,O4=ln}).apply(typeof ap<"u"?ap:typeof self<"u"?self:typeof window<"u"?window:{});const tk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new ry("@firebase/firestore");function Wd(){return cc.logLevel}function De(t,...e){if(cc.logLevel<=gt.DEBUG){const n=e.map(QN);cc.debug(`Firestore (${pd}): ${t}`,...n)}}function Va(t,...e){if(cc.logLevel<=gt.ERROR){const n=e.map(QN);cc.error(`Firestore (${pd}): ${t}`,...n)}}function Gu(t,...e){if(cc.logLevel<=gt.WARN){const n=e.map(QN);cc.warn(`Firestore (${pd}): ${t}`,...n)}}function QN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t="Unexpected state"){const e=`FIRESTORE (${pd}) INTERNAL ASSERTION FAILED: `+t;throw Va(e),new Error(e)}function Pt(t,e){t||Ze()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ds.UNAUTHENTICATED))}shutdown(){}}class RG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AG{constructor(e){this.t=e,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pt(this.o===void 0);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new Sa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Sa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string"),new $4(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string"),new ds(e)}}class PG{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=ds.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DG{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new PG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pt(this.o===void 0);const s=a=>{a.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pt(typeof n.token=="string"),this.R=n.token,new MG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=LG(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<n&&(s+=e.charAt(i[a]%e.length))}return s}}function jt(t,e){return t<e?-1:t>e?1:0}function Yu(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Et(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Et(0,0))}static max(){return new Je(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ze(),s===void 0?s=e.length-n:s>e.length-n&&Ze(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xm?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ut extends xm{construct(e,n,s){return new Ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const FG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends xm{construct(e,n,s){return new Qn(e,n,s)}static isValidIdentifier(e){return FG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const a=()=>{if(s.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(a(),i++)}if(a(),o)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Ut.fromString(e))}static fromName(e){return new Fe(Ut.fromString(e).popFirst(5))}static empty(){return new Fe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Ut(e.slice()))}}function VG(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(s===1e9?new Et(n+1,0):new Et(n,s));return new Xo(i,Fe.empty(),e)}function UG(t){return new Xo(t.readTime,t.key,-1)}class Xo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xo(Je.min(),Fe.empty(),-1)}static max(){return new Xo(Je.max(),Fe.empty(),-1)}}function $G(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==BG)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,s)=>{n(e)})}static reject(e){return new fe((n,s)=>{s(e)})}static waitFor(e){return new fe((n,s)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&n()},c=>s(c))}),o=!0,a===i&&n()})}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next(i=>i?fe.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,a)=>{s.push(n.call(this,i,a))}),this.waitFor(s)}static mapArray(e,n){return new fe((s,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===a&&s(o)},d=>i(d))}})}static doWhile(e,n){return new fe((s,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):s()};a()})}}function WG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ZN.oe=-1;function dy(t){return t==null}function Zg(t){return t===0&&1/t==-1/0}function qG(t){return typeof t=="number"&&Number.isInteger(t)&&!Zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new op(this.root,e,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new op(this.root,e,this.comparator,!0)}}class op{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,n,s,i,a){this.key=e,this.value=n,this.color=s??Yn.RED,this.left=i??Yn.EMPTY,this.right=a??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,a){return new Yn(e??this.key,n??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,s),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,n,s,i,a){return this}insert(e,n,s){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sk(this.data.getIterator())}getIteratorFrom(e){return new sk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class sk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Xn(Qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new W4("Invalid base64 string: "+a):a}}(e);return new ss(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const HG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(Pt(!!t),typeof t=="string"){let e=0;const n=HG.exec(t);if(Pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uc(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function XN(t){const e=t.mapValue.fields.__previous_value__;return hy(e)?XN(e):e}function ym(t){const e=Jo(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n,s,i,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class vm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:KG(t)?9007199254740991:YG(t)?10:11:Ze()}function ta(t,e){if(t===e)return!0;const n=dc(t);if(n!==dc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ym(t).isEqual(ym(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Jo(i.timestampValue),l=Jo(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return uc(i.bytesValue).isEqual(uc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return yn(i.geoPointValue.latitude)===yn(a.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return yn(i.integerValue)===yn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=yn(i.doubleValue),l=yn(a.doubleValue);return o===l?Zg(o)===Zg(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(nk(o)!==nk(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ta(o[c],l[c])))return!1;return!0}(t,e);default:return Ze()}}function bm(t,e){return(t.values||[]).find(n=>ta(n,e))!==void 0}function Ku(t,e){if(t===e)return 0;const n=dc(t),s=dc(e);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=yn(a.integerValue||a.doubleValue),c=yn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return rk(t.timestampValue,e.timestampValue);case 4:return rk(ym(t),ym(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(a,o){const l=uc(a),c=uc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=jt(l[u],c[u]);if(d!==0)return d}return jt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=jt(yn(a.latitude),yn(o.latitude));return l!==0?l:jt(yn(a.longitude),yn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ik(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,d;const m=a.fields||{},f=o.fields||{},g=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=(c=f.value)===null||c===void 0?void 0:c.arrayValue,b=jt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:ik(g,x)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===lp.mapValue&&o===lp.mapValue)return 0;if(a===lp.mapValue)return 1;if(o===lp.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const f=jt(c[m],d[m]);if(f!==0)return f;const g=Ku(l[c[m]],u[d[m]]);if(g!==0)return g}return jt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ze()}}function rk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=Jo(t),s=Jo(e),i=jt(n.seconds,s.seconds);return i!==0?i:jt(n.nanos,s.nanos)}function ik(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const a=Ku(n[i],s[i]);if(a)return a}return jt(n.length,s.length)}function Qu(t){return jw(t)}function jw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Jo(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const a of n.values||[])i?i=!1:s+=",",s+=jw(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of s)a?a=!1:i+=",",i+=`${o}:${jw(n.fields[o])}`;return i+"}"}(t.mapValue):Ze()}function Xg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nw(t){return!!t&&"integerValue"in t}function JN(t){return!!t&&"arrayValue"in t}function ak(t){return!!t&&"nullValue"in t}function ok(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fp(t){return!!t&&"mapValue"in t}function YG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cc(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_h(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Qn.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=_h(o):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,i)}delete(e){const n=this.field(e.popLast());Fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Cc(n,(i,a)=>e[i]=a);for(const i of s)delete e[i]}clone(){return new zs(_h(this.value))}}function q4(t){const e=[];return Cc(t.fields,(n,s)=>{const i=new Qn([n]);if(Fp(s)){const a=q4(s.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,s,i,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ms(e,0,Je.min(),Je.min(),Je.min(),zs.empty(),0)}static newFoundDocument(e,n,s,i){return new ms(e,1,n,Je.min(),s,i,0)}static newNoDocument(e,n){return new ms(e,2,n,Je.min(),Je.min(),zs.empty(),0)}static newUnknownDocument(e,n){return new ms(e,3,n,Je.min(),Je.min(),zs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.position=e,this.inclusive=n}}function lk(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?s=Fe.comparator(Fe.fromName(o.referenceValue),n.key):s=Ku(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function ck(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n="asc"){this.field=e,this.dir=n}}function QG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{}class Cn extends H4{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XG(e,n,s):n==="array-contains"?new tY(e,s):n==="in"?new nY(e,s):n==="not-in"?new sY(e,s):n==="array-contains-any"?new rY(e,s):new Cn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JG(e,s):new eY(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ku(n,this.value)):n!==null&&dc(this.value)===dc(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends H4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ji(e,n)}matches(e){return G4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function G4(t){return t.op==="and"}function Y4(t){return ZG(t)&&G4(t)}function ZG(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function _w(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+Qu(t.value);if(Y4(t))return t.filters.map(e=>_w(e)).join(",");{const e=t.filters.map(n=>_w(n)).join(",");return`${t.op}(${e})`}}function K4(t,e){return t instanceof Cn?function(s,i){return i instanceof Cn&&s.op===i.op&&s.field.isEqual(i.field)&&ta(s.value,i.value)}(t,e):t instanceof ji?function(s,i){return i instanceof ji&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,o,l)=>a&&K4(o,i.filters[l]),!0):!1}(t,e):void Ze()}function Q4(t){return t instanceof Cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Qu(n.value)}`}(t):t instanceof ji?function(n){return n.op.toString()+" {"+n.getFilters().map(Q4).join(" ,")+"}"}(t):"Filter"}class XG extends Cn{constructor(e,n,s){super(e,n,s),this.key=Fe.fromName(s.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class JG extends Cn{constructor(e,n){super(e,"in",n),this.keys=Z4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eY extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=Z4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Fe.fromName(s.referenceValue))}class tY extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return JN(n)&&bm(n.arrayValue,this.value)}}class nY extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bm(this.value.arrayValue,n)}}class sY extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bm(this.value.arrayValue,n)}}class rY extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!JN(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bm(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n=null,s=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function uk(t,e=null,n=[],s=[],i=null,a=null,o=null){return new iY(t,e,n,s,i,a,o)}function e_(t){const e=et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_w(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qu(s)).join(",")),e.ue=n}return e.ue}function t_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ck(t.startAt,e.startAt)&&ck(t.endAt,e.endAt)}function Cw(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n=null,s=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aY(t,e,n,s,i,a,o,l){return new Ec(t,e,n,s,i,a,o,l)}function my(t){return new Ec(t)}function dk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n_(t){return t.collectionGroup!==null}function yu(t){const e=et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xn(Qn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new wm(a,s))}),n.has(Qn.keyField().canonicalString())||e.ce.push(new wm(Qn.keyField(),s))}return e.ce}function Gi(t){const e=et(t);return e.le||(e.le=oY(e,yu(t))),e.le}function oY(t,e){if(t.limitType==="F")return uk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wm(i.field,a)});const n=t.endAt?new Zu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zu(t.startAt.position,t.startAt.inclusive):null;return uk(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ew(t,e){const n=t.filters.concat([e]);return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jg(t,e,n){return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fy(t,e){return t_(Gi(t),Gi(e))&&t.limitType===e.limitType}function X4(t){return`${e_(Gi(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>Q4(i)).join(", ")}]`),dy(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Qu(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Qu(i)).join(",")),`Target(${s})`}(Gi(t))}; limitType=${t.limitType})`}function py(t,e){return e.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Fe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,i){for(const a of yu(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const u=lk(o,l,c);return o.inclusive?u<=0:u<0}(s.startAt,yu(s),i)||s.endAt&&!function(o,l,c){const u=lk(o,l,c);return o.inclusive?u>=0:u>0}(s.endAt,yu(s),i))}(t,e)}function lY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J4(t){return(e,n)=>{let s=!1;for(const i of yu(t)){const a=cY(i,e,n);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function cY(t,e,n){const s=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?Ku(c,u):Ze()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cc(this.inner,(n,s)=>{for(const[i,a]of s)e(i,a)})}isEmpty(){return z4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=new on(Fe.comparator);function Ua(){return uY}const eD=new on(Fe.comparator);function rh(...t){let e=eD;for(const n of t)e=e.insert(n.key,n);return e}function tD(t){let e=eD;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Rl(){return Ch()}function nD(){return Ch()}function Ch(){return new gd(t=>t.toString(),(t,e)=>t.isEqual(e))}const dY=new on(Fe.comparator),hY=new Xn(Fe.comparator);function ut(...t){let e=hY;for(const n of t)e=e.add(n);return e}const mY=new Xn(jt);function fY(){return mY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}function sD(t){return{integerValue:""+t}}function pY(t,e){return qG(e)?sD(e):s_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function gY(t,e,n){return t instanceof jm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hy(a)&&(a=XN(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Nm?iD(t,e):t instanceof _m?aD(t,e):function(i,a){const o=rD(i,a),l=hk(o)+hk(i.Pe);return Nw(o)&&Nw(i.Pe)?sD(l):s_(i.serializer,l)}(t,e)}function xY(t,e,n){return t instanceof Nm?iD(t,e):t instanceof _m?aD(t,e):n}function rD(t,e){return t instanceof ex?function(s){return Nw(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class jm extends gy{}class Nm extends gy{constructor(e){super(),this.elements=e}}function iD(t,e){const n=oD(e);for(const s of t.elements)n.some(i=>ta(i,s))||n.push(s);return{arrayValue:{values:n}}}class _m extends gy{constructor(e){super(),this.elements=e}}function aD(t,e){let n=oD(e);for(const s of t.elements)n=n.filter(i=>!ta(i,s));return{arrayValue:{values:n}}}class ex extends gy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hk(t){return yn(t.integerValue||t.doubleValue)}function oD(t){return JN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n){this.field=e,this.transform=n}}function vY(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Nm&&i instanceof Nm||s instanceof _m&&i instanceof _m?Yu(s.elements,i.elements,ta):s instanceof ex&&i instanceof ex?ta(s.Pe,i.Pe):s instanceof jm&&i instanceof jm}(t.transform,e.transform)}class bY{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xy{}function lD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r_(t.key,zr.none()):new Jm(t.key,t.data,zr.none());{const n=t.data,s=zs.empty();let i=new Xn(Qn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),i=i.add(a)}return new ul(t.key,s,new gr(i.toArray()),zr.none())}}function wY(t,e,n){t instanceof Jm?function(i,a,o){const l=i.value.clone(),c=fk(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ul?function(i,a,o){if(!Vp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=fk(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(cD(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eh(t,e,n,s){return t instanceof Jm?function(a,o,l,c){if(!Vp(a.precondition,o))return l;const u=a.value.clone(),d=pk(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof ul?function(a,o,l,c){if(!Vp(a.precondition,o))return l;const u=pk(a.fieldTransforms,c,o),d=o.data;return d.setAll(cD(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(a,o,l){return Vp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function jY(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),a=rD(s.transform,i||null);a!=null&&(n===null&&(n=zs.empty()),n.set(s.field,a))}return n||null}function mk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Yu(s,i,(a,o)=>vY(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jm extends xy{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ul extends xy{constructor(e,n,s,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function fk(t,e,n){const s=new Map;Pt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);s.set(a.field,xY(o,l,n[i]))}return s}function pk(t,e,n){const s=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);s.set(i.field,gY(a,o,e))}return s}class r_ extends xy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NY extends xy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&wY(a,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Eh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Eh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nD();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=lD(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Je.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,(n,s)=>mk(n,s))&&Yu(this.baseMutations,e.baseMutations,(n,s)=>mk(n,s))}}class i_{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Pt(e.mutations.length===s.length);let i=function(){return dY}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,s[o].version);return new i_(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,xt;function SY(t){switch(t){default:return Ze();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function uD(t){if(t===void 0)return Va("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Nn.OK:return oe.OK;case Nn.CANCELLED:return oe.CANCELLED;case Nn.UNKNOWN:return oe.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return oe.INTERNAL;case Nn.UNAVAILABLE:return oe.UNAVAILABLE;case Nn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Nn.NOT_FOUND:return oe.NOT_FOUND;case Nn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Nn.ABORTED:return oe.ABORTED;case Nn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Nn.DATA_LOSS:return oe.DATA_LOSS;default:return Ze()}}(xt=Nn||(Nn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=new ql([4294967295,4294967295],0);function gk(t){const e=kY().encode(t),n=new M4;return n.update(e),new Uint8Array(n.digest())}function xk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ql([n,s],0),new ql([i,a],0)]}class a_{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ql.fromNumber(this.Ie)}Ee(e,n,s){let i=e.add(n.multiply(ql.fromNumber(s)));return i.compare(TY)===1&&(i=new ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gk(e),[s,i]=xk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(s,i,a);if(!this.de(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new a_(a,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=gk(e),[s,i]=xk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(s,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,s,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yy(Je.min(),i,new on(jt),Ua(),ut())}}class ef{constructor(e,n,s,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ef(s,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,s,i){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=i}}class dD{constructor(e,n){this.targetId=e,this.me=n}}class hD{constructor(e,n,s=ss.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class yk{constructor(){this.fe=0,this.ge=bk(),this.pe=ss.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ut(),n=ut(),s=ut();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ze()}}),new ef(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=bk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IY{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ua(),this.qe=vk(),this.Qe=new on(jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,s=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Cw(a))if(s===0){const o=new Fe(a.path);this.Ue(n,o,ms.newNoDocument(o,Je.min()))}else Pt(s===1);else{const o=this.Ye(n);if(o!==s){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=uc(s).toUint8Array()}catch(c){if(c instanceof W4)return Gu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new a_(o,i,a)}catch(c){return Gu(c instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let i=0;return s.forEach(a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const l=this.Je(o);if(l){if(a.current&&Cw(l.target)){const c=new Fe(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,ms.newNoDocument(c,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let s=ut();this.qe.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new yy(e,n,this.Qe,this.ke,s);return this.ke=Ua(),this.qe=vk(),this.Qe=new on(jt),i}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xn(jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vk(){return new on(Fe.comparator)}function bk(){return new on(Fe.comparator)}const RY={asc:"ASCENDING",desc:"DESCENDING"},AY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PY={and:"AND",or:"OR"};class DY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sw(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function tx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MY(t,e){return tx(t,e.toTimestamp())}function Yi(t){return Pt(!!t),Je.fromTimestamp(function(n){const s=Jo(n);return new Et(s.seconds,s.nanos)}(t))}function o_(t,e){return kw(t,e).canonicalString()}function kw(t,e){const n=function(i){return new Ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fD(t){const e=Ut.fromString(t);return Pt(vD(e)),e}function Tw(t,e){return o_(t.databaseId,e.path)}function r0(t,e){const n=fD(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(gD(n))}function pD(t,e){return o_(t.databaseId,e)}function OY(t){const e=fD(t);return e.length===4?Ut.emptyPath():gD(e)}function Iw(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return Pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wk(t,e,n){return{name:Tw(t,e),fields:n.value.mapValue.fields}}function LY(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Pt(d===void 0||typeof d=="string"),ss.fromBase64String(d||"")):(Pt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ss.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?oe.UNKNOWN:uD(u.code);return new Se(d,u.message||"")}(o);n=new hD(s,i,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=r0(t,s.document.name),a=Yi(s.document.updateTime),o=s.document.createTime?Yi(s.document.createTime):Je.min(),l=new zs({mapValue:{fields:s.document.fields}}),c=ms.newFoundDocument(i,a,o,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new Up(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=r0(t,s.document),a=s.readTime?Yi(s.readTime):Je.min(),o=ms.newNoDocument(i,a),l=s.removedTargetIds||[];n=new Up([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=r0(t,s.document),a=s.removedTargetIds||[];n=new Up([],a,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,o=new EY(i,a),l=s.targetId;n=new dD(l,o)}}return n}function FY(t,e){let n;if(e instanceof Jm)n={update:wk(t,e.key,e.value)};else if(e instanceof r_)n={delete:Tw(t,e.key)};else if(e instanceof ul)n={update:wk(t,e.key,e.data),updateMask:GY(e.fieldMask)};else{if(!(e instanceof NY))return Ze();n={verify:Tw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof jm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof _m)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ex)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ze()}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:MY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ze()}(t,e.precondition)),n}function VY(t,e){return t&&t.length>0?(Pt(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Yi(i.updateTime):Yi(a);return o.isEqual(Je.min())&&(o=Yi(a)),new bY(o,i.transformResults||[])}(n,e))):[]}function UY(t,e){return{documents:[pD(t,e.path)]}}function $Y(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pD(t,i);const a=function(u){if(u.length!==0)return yD(ji.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:zc(f.field),direction:WY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Sw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function BY(t){let e=OY(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Pt(s===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(m){const f=xD(m);return f instanceof ji&&Y4(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(x){return new wm(Wc(x.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,dy(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,g=m.values||[];return new Zu(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const f=!m.before,g=m.values||[];return new Zu(g,f)}(n.endAt)),aY(e,i,o,a,l,"F",c,u)}function zY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wc(n.unaryFilter.field);return Cn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Wc(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wc(n.unaryFilter.field);return Cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wc(n.unaryFilter.field);return Cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(t):t.fieldFilter!==void 0?function(n){return Cn.create(Wc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ji.create(n.compositeFilter.filters.map(s=>xD(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze()}}(n.compositeFilter.op))}(t):Ze()}function WY(t){return RY[t]}function qY(t){return AY[t]}function HY(t){return PY[t]}function zc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return Qn.fromServerFormat(t.fieldPath)}function yD(t){return t instanceof Cn?function(n){if(n.op==="=="){if(ok(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NAN"}};if(ak(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ok(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NOT_NAN"}};if(ak(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(n.field),op:qY(n.op),value:n.value}}}(t):t instanceof ji?function(n){const s=n.getFilters().map(i=>yD(i));return s.length===1?s[0]:{compositeFilter:{op:HY(n.op),filters:s}}}(t):Ze()}function GY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s,i,a=Je.min(),o=Je.min(),l=ss.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.ct=e}}function KY(t){const e=BY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(){this.un=new ZY}addToCollectionParentIndex(e,n){return this.un.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Xo.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class ZY{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Xn(Ut.comparator),a=!i.has(s);return this.index[n]=i.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Xn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xu(0)}static kn(){return new Xu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.changes=new gd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ms.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Eh(s.mutation,i,gr.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ut()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ut()){const i=Rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(a=>{let o=rh();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Rl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ut()))}populateOverlays(e,n,s){const i=[];return s.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let a=Ua();const o=Ch(),l=function(){return Ch()}();return n.forEach((c,u)=>{const d=s.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ul)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Eh(d.mutation,u,d.mutation.getFieldMask(),Et.now())):o.set(u.key,gr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var m;return l.set(u,new JY(d,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const s=Ch();let i=new on((o,l)=>o-l),a=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||gr.empty();d=l.applyToLocalView(u,d),s.set(c,d);const m=(i.get(l.batchId)||ut()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,m=nD();d.forEach(f=>{if(!a.has(f)){const g=lD(n.get(f),s.get(f));g!==null&&m.set(f,g),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return fe.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-a.size):fe.resolve(Rl());let l=-1,c=a;return o.next(u=>fe.forEach(u,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,ut())).next(d=>({batchId:l,changes:tD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(s=>{let i=rh();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const a=n.collectionGroup;let o=rh();return this.indexManager.getCollectionParents(e,a).next(l=>fe.forEach(l,c=>{const u=function(m,f){return new Ec(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next(d=>{d.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ms.newInvalidDocument(d)))});let l=rh();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Eh(d.mutation,u,gr.empty(),Et.now()),py(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return fe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yi(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:KY(i.bundledQuery),readTime:Yi(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.overlays=new on(Fe.comparator),this.Ir=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Rl();return fe.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,a)=>{this.ht(e,n,a)}),fe.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Ir.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const i=Rl(),a=n.length+1,o=new Fe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>s&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let a=new on((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=a.get(u.largestBatchId);d===null&&(d=Rl(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Rl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return fe.resolve(l)}ht(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(s.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new CY(n,s));let a=this.Ir.get(n);a===void 0&&(a=ut(),this.Ir.set(n,a)),this.Ir.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Tr=new Xn(Mn.Er),this.dr=new Xn(Mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Mn(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new Mn(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new Fe(new Ut([])),s=new Mn(n,e),i=new Mn(n,e+1),a=[];return this.dr.forEachInRange([s,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Fe(new Ut([])),s=new Mn(n,e),i=new Mn(n,e+1);let a=ut();return this.dr.forEachInRange([s,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Mn(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Fe.comparator(e.key,n.key)||jt(e.wr,n.wr)}static Ar(e,n){return jt(e.wr,n.wr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xn(Mn.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _Y(a,n,s,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Mn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.vr(s),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mn(n,0),i=new Mn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([s,i],o=>{const l=this.Dr(o.wr);a.push(l)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xn(jt);return n.forEach(i=>{const a=new Mn(i,0),o=new Mn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],l=>{s=s.add(l.wr)})}),fe.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let a=s;Fe.isDocumentKey(a)||(a=a.child(""));const o=new Mn(new Fe(a),0);let l=new Xn(jt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),fe.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(s=>{const i=this.Dr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return fe.forEach(n.mutations,i=>{const a=new Mn(i.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new Mn(n,0),i=this.br.firstAfterOrEqual(s);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.Mr=e,this.docs=function(){return new on(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():ms.newInvalidDocument(n))}getEntries(e,n){let s=Ua();return n.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():ms.newInvalidDocument(i))}),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let a=Ua();const o=n.path,l=new Fe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$G(UG(d),s)<=0||(i.has(d.key)||py(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,s,i){Ze()}Or(e,n){return fe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new aK(this)}getSize(e){return fe.resolve(this.size)}}class aK extends XY{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(s)}),fe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.persistence=e,this.Nr=new gd(n=>e_(n),t_),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new l_,this.targetCount=0,this.kr=Xu.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Kn(n),fe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let i=0;const a=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ZN(0),this.Kr=!1,this.Kr=!0,this.$r=new sK,this.referenceDelegate=e(this),this.Ur=new oK(this),this.indexManager=new QY,this.remoteDocumentCache=function(i){return new iK(i)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new YY(n),this.Gr=new tK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new rK(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const i=new cK(this.Qr.next());return this.referenceDelegate.zr(),s(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return fe.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class cK extends zG{constructor(e){super(),this.currentSequenceNumber=e}}class c_{constructor(e){this.persistence=e,this.Jr=new l_,this.Yr=null}static Zr(e){return new c_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ze()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,s=>{const i=Fe.fromPath(s);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Je.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return fe.or([()=>fe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=i}static Wi(e,n){let s=ut(),i=ut();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new u_(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yz()?8:WG(vs())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new uK;return this.Xi(e,n,o).next(l=>{if(a.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>a.result)}es(e,n,s,i){return s.documentReadCount<this.ji?(Wd()<=gt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(Wd()<=gt.DEBUG&&De("QueryEngine","Query:",Bc(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.Hi*i?(Wd()<=gt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):fe.resolve())}Yi(e,n){if(dk(n))return fe.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jg(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=ut(...a);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Jg(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,s,i){return dk(n)||i.isEqual(Je.min())?fe.resolve(null):this.Ji.getDocuments(e,s).next(a=>{const o=this.ts(n,a);return this.ns(n,o,s,i)?fe.resolve(null):(Wd()<=gt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(n)),this.rs(e,o,n,VG(i,-1)).next(l=>l))})}ts(e,n){let s=new Xn(J4(e));return n.forEach((i,a)=>{py(e,a)&&(s=s.add(a))}),s}ns(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,s){return Wd()<=gt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xo.min(),s)}rs(e,n,s,i){return this.Ji.getDocumentsMatchingQuery(e,s,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n,s,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new on(jt),this._s=new gd(a=>e_(a),t_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mK(t,e,n,s){return new hK(t,e,n,s)}async function bD(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=ut();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function fK(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const m=u.batch,f=m.keys();let g=fe.resolve();return f.forEach(x=>{g=g.next(()=>d.getEntry(c,x)).next(b=>{const y=u.docVersions.get(x);Pt(y!==null),b.version.compareTo(y)<0&&(m.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=ut();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function wD(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function pK(t,e){const n=et(t),s=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,m)=>{const f=i.get(m);if(!f)return;l.push(n.Ur.removeMatchingKeys(a,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(a,d.addedDocuments,m)));let g=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(ss.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),i=i.insert(m,g),function(b,y,w){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,g,d)&&l.push(n.Ur.updateTargetData(a,g))});let c=Ua(),u=ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(gK(a,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!s.isEqual(Je.min())){const d=n.Ur.getLastRemoteSnapshotVersion(a).next(m=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(d)}return fe.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.os=i,a))}function gK(t,e,n){let s=ut(),i=ut();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Ua();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):De("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function xK(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function yK(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ur.getTargetData(s,e).next(a=>a?(i=a,fe.resolve(i)):n.Ur.allocateTargetId(s).next(o=>(i=new Eo(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.os.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function Rw(t,e,n){const s=et(t),i=s.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xm(o))throw o;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.os=s.os.remove(e),s._s.delete(i.target)}function jk(t,e,n){const s=et(t);let i=Je.min(),a=ut();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const m=et(c),f=m._s.get(d);return f!==void 0?fe.resolve(m.os.get(f)):m.Ur.getTargetData(u,d)}(s,o,Gi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.ss.getDocumentsMatchingQuery(o,e,n?i:Je.min(),n?a:ut())).next(l=>(vK(s,lY(e),l),{documents:l,Ts:a})))}function vK(t,e,n){let s=t.us.get(e)||Je.min();n.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.us.set(e,s)}class Nk{constructor(){this.activeTargetIds=fY()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bK{constructor(){this.so=new Nk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nk,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function i0(){return cp===null?cp=function(){return 268435456+Math.round(2147483648*Math.random())}():cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="WebChannelConnection";class _K extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,s,i,a,o){const l=i0(),c=this.xo(n,s.toUriEncodedString());De("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,c,u,i).then(d=>(De("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Gu("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,s,i,a,o,l){return this.Mo(n,s,i,a,o)}Oo(n,s,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,s){const i=jK[n];return`${this.Do}/v1/${s}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,i){const a=i0();return new Promise((o,l)=>{const c=new O4;c.setWithCredentials(!0),c.listenOnce(L4.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lp.NO_ERROR:const d=c.getResponseJson();De(cs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Lp.TIMEOUT:De(cs,`RPC '${e}' ${a} timed out`),l(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const m=c.getStatus();if(De(cs,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const x=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(w)>=0?w:oe.UNKNOWN}(g.status);l(new Se(x,g.message))}else l(new Se(oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{De(cs,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);De(cs,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,s,15)})}Bo(e,n,s){const i=i0(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U4(),l=V4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=a.join("");De(cs,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=o.createWebChannel(d,c);let f=!1,g=!1;const x=new NK({Io:y=>{g?De(cs,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(De(cs,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),De(cs,`RPC '${e}' stream ${i} sending:`,y),m.send(y))},To:()=>m.close()}),b=(y,w,v)=>{y.listen(w,N=>{try{v(N)}catch(I){setTimeout(()=>{throw I},0)}})};return b(m,sh.EventType.OPEN,()=>{g||(De(cs,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),b(m,sh.EventType.CLOSE,()=>{g||(g=!0,De(cs,`RPC '${e}' stream ${i} transport closed`),x.So())}),b(m,sh.EventType.ERROR,y=>{g||(g=!0,Gu(cs,`RPC '${e}' stream ${i} transport errored:`,y),x.So(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),b(m,sh.EventType.MESSAGE,y=>{var w;if(!g){const v=y.data[0];Pt(!!v);const N=v,I=N.error||((w=N[0])===null||w===void 0?void 0:w.error);if(I){De(cs,`RPC '${e}' stream ${i} received error:`,I);const V=I.status;let z=function(R){const k=Nn[R];if(k!==void 0)return uD(k)}(V),A=I.message;z===void 0&&(z=oe.INTERNAL,A="Unknown error status: "+V+" with message "+I.message),g=!0,x.So(new Se(z,A)),m.close()}else De(cs,`RPC '${e}' stream ${i} received:`,v),x.bo(v)}}),b(l,F4.STAT_EVENT,y=>{y.stat===ww.PROXY?De(cs,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===ww.NOPROXY&&De(cs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function a0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){return new DY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,s=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-s);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,s,i,a,o,l,c){this.ui=e,this.Ho=s,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Va(n.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Yo===n&&this.P_(s,i)},s=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(i)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{s(()=>this.I_(i))}),this.stream.onMessage(i=>{s(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CK extends ND{constructor(e,n,s,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=LY(this.serializer,e),s=function(a){if(!("targetChange"in a))return Je.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?Yi(o.readTime):Je.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=Iw(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=Cw(c)?{documents:UY(a,c)}:{query:$Y(a,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=mD(a,o.resumeToken);const u=Sw(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Je.min())>0){l.readTime=tx(a,o.snapshotVersion.toTimestamp());const u=Sw(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=zY(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=Iw(this.serializer),n.removeTarget=e,this.a_(n)}}class EK extends ND{constructor(e,n,s,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=VY(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=Iw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>FY(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,kw(n,s),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(oe.UNKNOWN,a.toString())})}Lo(e,n,s,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,kw(n,s),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(oe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Va(n),this.D_=!1):De("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n,s,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{s.enqueueAndForget(async()=>{Sc(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=et(c);u.L_.add(4),await tf(u),u.q_.set("Unknown"),u.L_.delete(4),await by(u)}(this))})}),this.q_=new kK(s,i)}}async function by(t){if(Sc(t))for(const e of t.B_)await e(!0)}async function tf(t){for(const e of t.B_)await e(!1)}function _D(t,e){const n=et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),f_(n)?m_(n):xd(n).r_()&&h_(n,e))}function d_(t,e){const n=et(t),s=xd(n);n.N_.delete(e),s.r_()&&CD(n,e),n.N_.size===0&&(s.r_()?s.o_():Sc(n)&&n.q_.set("Unknown"))}function h_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xd(t).A_(e)}function CD(t,e){t.Q_.xe(e),xd(t).R_(e)}function m_(t){t.Q_=new IY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xd(t).start(),t.q_.v_()}function f_(t){return Sc(t)&&!xd(t).n_()&&t.N_.size>0}function Sc(t){return et(t).L_.size===0}function ED(t){t.Q_=void 0}async function IK(t){t.q_.set("Online")}async function RK(t){t.N_.forEach((e,n)=>{h_(t,e)})}async function AK(t,e){ED(t),f_(t)?(t.q_.M_(e),m_(t)):t.q_.set("Unknown")}async function PK(t,e,n){if(t.q_.set("Online"),e instanceof hD&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(s){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nx(t,s)}else if(e instanceof Up?t.Q_.Ke(e):e instanceof dD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Je.min()))try{const s=await wD(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.N_.get(u);d&&a.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.N_.get(c);if(!d)return;a.N_.set(c,d.withResumeToken(ss.EMPTY_BYTE_STRING,d.snapshotVersion)),CD(a,c);const m=new Eo(d.target,c,u,d.sequenceNumber);h_(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){De("RemoteStore","Failed to raise snapshot:",s),await nx(t,s)}}async function nx(t,e,n){if(!Xm(e))throw e;t.L_.add(1),await tf(t),t.q_.set("Offline"),n||(n=()=>wD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await by(t)})}function SD(t,e){return e().catch(n=>nx(t,n,e))}async function wy(t){const e=et(t),n=el(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;DK(e);)try{const i=await xK(e.localStore,s);if(i===null){e.O_.length===0&&n.o_();break}s=i.batchId,MK(e,i)}catch(i){await nx(e,i)}kD(e)&&TD(e)}function DK(t){return Sc(t)&&t.O_.length<10}function MK(t,e){t.O_.push(e);const n=el(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kD(t){return Sc(t)&&!el(t).n_()&&t.O_.length>0}function TD(t){el(t).start()}async function OK(t){el(t).p_()}async function LK(t){const e=el(t);for(const n of t.O_)e.m_(n.mutations)}async function FK(t,e,n){const s=t.O_.shift(),i=i_.from(s,e,n);await SD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wy(t)}async function VK(t,e){e&&el(t).V_&&await async function(s,i){if(function(o){return SY(o)&&o!==oe.ABORTED}(i.code)){const a=s.O_.shift();el(s).s_(),await SD(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await wy(s)}}(t,e),kD(t)&&TD(t)}async function Ck(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const s=Sc(n);n.L_.add(3),await tf(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await by(n)}async function UK(t,e){const n=et(t);e?(n.L_.delete(2),await by(n)):e||(n.L_.add(2),await tf(n),n.q_.set("Unknown"))}function xd(t){return t.K_||(t.K_=function(n,s,i){const a=et(n);return a.w_(),new CK(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:IK.bind(null,t),Ro:RK.bind(null,t),mo:AK.bind(null,t),d_:PK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),f_(t)?m_(t):t.q_.set("Unknown")):(await t.K_.stop(),ED(t))})),t.K_}function el(t){return t.U_||(t.U_=function(n,s,i){const a=et(n);return a.w_(),new EK(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:OK.bind(null,t),mo:VK.bind(null,t),f_:LK.bind(null,t),g_:FK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wy(t)):(await t.U_.stop(),t.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,s,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new Sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,a){const o=Date.now()+s,l=new p_(e,n,o,i,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(Va("AsyncQueue",`${e}: ${t}`),Xm(t))return new Se(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Fe.comparator(n.key,s.key):(n,s)=>Fe.comparator(n.key,s.key),this.keyedMap=rh(),this.sortedSet=new on(this.comparator)}static emptySet(e){return new vu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.W_=new on(Fe.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ju{constructor(e,n,s,i,a,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,i,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ju(e,n,vu.emptySet(n),o,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BK{constructor(){this.queries=Sk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const i=et(n),a=i.queries;i.queries=Sk(),a.forEach((o,l)=>{for(const c of l.j_)c.onError(s)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function Sk(){return new gd(t=>X4(t),fy)}async function x_(t,e){const n=et(t);let s=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(s=2):(a=new $K,s=e.J_()?0:1);try{switch(s){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=g_(o,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&v_(n)}async function y_(t,e){const n=et(t),s=e.query;let i=3;const a=n.queries.get(s);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zK(t,e){const n=et(t);let s=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.j_)l.X_(i)&&(s=!0);o.z_=i}}s&&v_(n)}function WK(t,e,n){const s=et(t),i=s.queries.get(e);if(i)for(const a of i.j_)a.onError(n);s.queries.delete(e)}function v_(t){t.Y_.forEach(e=>{e.next()})}var Aw,kk;(kk=Aw||(Aw={})).ea="default",kk.Cache="cache";class b_{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ju(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Aw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.key=e}}class RD{constructor(e){this.key=e}}class qK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ut(),this.mutatedKeys=ut(),this.Aa=J4(e),this.Ra=new vu(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new Ek,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const f=i.get(d),g=py(this.query,m)?m:null,x=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;f&&g?f.data.isEqual(g.data)?x!==b&&(s.track({type:3,doc:g}),y=!0):this.ga(f,g)||(s.track({type:2,doc:g}),y=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(l=!0)):!f&&g?(s.track({type:0,doc:g}),y=!0):f&&!g&&(s.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(g?(o=o.add(g),a=b?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),s.track({type:1,doc:d})}return{Ra:o,fa:s,ns:l,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,m)=>function(g,x){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return b(g)-b(x)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(s),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Ju(this.query,e.Ra,a,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ek,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ut(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new RD(s))}),this.da.forEach(s=>{e.has(s)||n.push(new ID(s))}),n}ba(e){this.Ta=e.Ts,this.da=ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ju.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HK{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GK{constructor(e){this.key=e,this.va=!1}}class YK{constructor(e,n,s,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gd(l=>X4(l),fy),this.Ma=new Map,this.xa=new Set,this.Oa=new on(Fe.comparator),this.Na=new Map,this.La=new l_,this.Ba={},this.ka=new Map,this.qa=Xu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function KK(t,e,n=!0){const s=LD(t);let i;const a=s.Fa.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await AD(s,e,n,!0),i}async function QK(t,e){const n=LD(t);await AD(n,e,!0,!1)}async function AD(t,e,n,s){const i=await yK(t.localStore,Gi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await ZK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_D(t.remoteStore,i),l}async function ZK(t,e,n,s,i){t.Ka=(m,f,g)=>async function(b,y,w,v){let N=y.view.ma(w);N.ns&&(N=await jk(b.localStore,y.query,!1).then(({documents:A})=>y.view.ma(A,N)));const I=v&&v.targetChanges.get(y.targetId),V=v&&v.targetMismatches.get(y.targetId)!=null,z=y.view.applyChanges(N,b.isPrimaryClient,I,V);return Ik(b,y.targetId,z.wa),z.snapshot}(t,m,f,g);const a=await jk(t.localStore,e,!0),o=new qK(e,a.Ts),l=o.ma(a.documents),c=ef.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Ik(t,n,u.wa);const d=new HK(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function XK(t,e,n){const s=et(t),i=s.Fa.get(e),a=s.Ma.get(i.targetId);if(a.length>1)return s.Ma.set(i.targetId,a.filter(o=>!fy(o,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Rw(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&d_(s.remoteStore,i.targetId),Pw(s,i.targetId)}).catch(Zm)):(Pw(s,i.targetId),await Rw(s.localStore,i.targetId,!0))}async function JK(t,e){const n=et(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),d_(n.remoteStore,s.targetId))}async function eQ(t,e,n){const s=oQ(t);try{const i=await function(o,l){const c=et(o),u=Et.now(),d=l.reduce((g,x)=>g.add(x.key),ut());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Ua(),b=ut();return c.cs.getEntries(g,d).next(y=>{x=y,x.forEach((w,v)=>{v.isValidDocument()||(b=b.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,x)).next(y=>{m=y;const w=[];for(const v of l){const N=jY(v,m.get(v.key).overlayedDocument);N!=null&&w.push(new ul(v.key,N,q4(N.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(g,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:tD(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new on(jt)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(s,i.batchId,n),await nf(s,i.changes),await wy(s.remoteStore)}catch(i){const a=g_(i,"Failed to persist write");n.reject(a)}}async function PD(t,e){const n=et(t);try{const s=await pK(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Pt(o.va):i.removedDocuments.size>0&&(Pt(o.va),o.va=!1))}),await nf(n,s,e)}catch(s){await Zm(s)}}function Tk(t,e,n){const s=et(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Fa.forEach((a,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=et(o);c.onlineState=l;let u=!1;c.queries.forEach((d,m)=>{for(const f of m.j_)f.Z_(l)&&(u=!0)}),u&&v_(c)}(s.eventManager,e),i.length&&s.Ca.d_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tQ(t,e,n){const s=et(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Na.get(e),a=i&&i.key;if(a){let o=new on(Fe.comparator);o=o.insert(a,ms.newNoDocument(a,Je.min()));const l=ut().add(a),c=new yy(Je.min(),new Map,new on(jt),o,l);await PD(s,c),s.Oa=s.Oa.remove(a),s.Na.delete(e),w_(s)}else await Rw(s.localStore,e,!1).then(()=>Pw(s,e,n)).catch(Zm)}async function nQ(t,e){const n=et(t),s=e.batch.batchId;try{const i=await fK(n.localStore,e);MD(n,s,null),DD(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nf(n,i)}catch(i){await Zm(i)}}async function sQ(t,e,n){const s=et(t);try{const i=await function(o,l){const c=et(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(Pt(m!==null),d=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);MD(s,e,n),DD(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await nf(s,i)}catch(i){await Zm(i)}}function DD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MD(t,e,n){const s=et(t);let i=s.Ba[s.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),s.Ba[s.currentUser.toKey()]=i}}function Pw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(s=>{t.La.containsKey(s)||OD(t,s)})}function OD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(d_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),w_(t))}function Ik(t,e,n){for(const s of n)s instanceof ID?(t.La.addReference(s.key,e),rQ(t,s)):s instanceof RD?(De("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||OD(t,s.key)):Ze()}function rQ(t,e){const n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(De("SyncEngine","New document in limbo: "+n),t.xa.add(s),w_(t))}function w_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Fe(Ut.fromString(e)),s=t.qa.next();t.Na.set(s,new GK(n)),t.Oa=t.Oa.insert(n,s),_D(t.remoteStore,new Eo(Gi(my(n.path)),s,"TargetPurposeLimboResolution",ZN.oe))}}async function nf(t,e,n){const s=et(t),i=[],a=[],o=[];s.Fa.isEmpty()||(s.Fa.forEach((l,c)=>{o.push(s.Ka(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const m=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=u_.Wi(c.targetId,u);a.push(m)}}))}),await Promise.all(o),s.Ca.d_(i),await async function(c,u){const d=et(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>fe.forEach(u,f=>fe.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>fe.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!Xm(m))throw m;De("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const f=m.targetId;if(!m.fromCache){const g=d.os.get(f),x=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(f,b)}}}(s.localStore,a))}async function iQ(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const s=await bD(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(l=>{l.forEach(c=>{c.reject(new Se(oe.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nf(n,s.hs)}}function aQ(t,e){const n=et(t),s=n.Na.get(e);if(s&&s.va)return ut().add(s.key);{let i=ut();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function LD(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tQ.bind(null,e),e.Ca.d_=zK.bind(null,e.eventManager),e.Ca.$a=WK.bind(null,e.eventManager),e}function oQ(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sQ.bind(null,e),e}class sx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mK(this.persistence,new dK,e.initialUser,this.serializer)}Ga(e){return new lK(c_.Zr,this.serializer)}Wa(e){return new bK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sx.provider={build:()=>new sx};class Dw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tk(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iQ.bind(null,this.syncEngine),await UK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BK}()}createDatastore(e){const n=vy(e.databaseInfo.databaseId),s=function(a){return new _K(a)}(e.databaseInfo);return function(a,o,l,c){return new SK(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,a,o,l){return new TK(s,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Tk(this.syncEngine,n,0),function(){return _k.D()?new _k:new wK}())}createSyncEngine(e,n){return function(i,a,o,l,c,u,d){const m=new YK(i,a,o,l,c,u);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=et(i);De("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await tf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dw.provider={build:()=>new Dw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n,s,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=ds.UNAUTHENTICATED,this.clientId=B4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{De("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(De("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=g_(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function o0(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await bD(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cQ(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Ck(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Ck(e.remoteStore,i)),t._onlineComponents=e}async function cQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await o0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Gu("Error using user provided cache. Falling back to memory cache: "+n),await o0(t,new sx)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await o0(t,new sx);return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await Rk(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await Rk(t,new Dw))),t._onlineComponents}function uQ(t){return FD(t).then(e=>e.syncEngine)}async function rx(t){const e=await FD(t),n=e.eventManager;return n.onListen=KK.bind(null,e.syncEngine),n.onUnlisten=XK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JK.bind(null,e.syncEngine),n}function dQ(t,e,n={}){const s=new Sa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new j_({next:f=>{d.Za(),o.enqueueAndForget(()=>y_(a,m));const g=f.docs.has(l);!g&&f.fromCache?u.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?u.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new b_(my(l.path),d,{includeMetadataChanges:!0,_a:!0});return x_(a,m)}(await rx(t),t.asyncQueue,e,n,s)),s.promise}function hQ(t,e,n={}){const s=new Sa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new j_({next:f=>{d.Za(),o.enqueueAndForget(()=>y_(a,m)),f.fromCache&&c.source==="server"?u.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new b_(l,d,{includeMetadataChanges:!0,_a:!0});return x_(a,m)}(await rx(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mQ(t,e,n,s){if(e===!0&&s===!0)throw new Se(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pk(t){if(!Fe.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dk(t){if(Fe.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze()}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jy(t);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fQ(t,e){if(e<=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ny{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mk(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new IG;switch(s.type){case"firstParty":return new DG(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ak.get(n);s&&(De("ComponentProvider","Removing Datastore"),Ak.delete(n),s.terminate())}(this),Promise.resolve()}}function pQ(t,e,n,s={}){var i;const a=(t=Xs(t,Ny))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),s.mockUserToken){let l,c;if(typeof s.mockUserToken=="string")l=s.mockUserToken,c=ds.MOCK_USER;else{l=zP(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=s.mockUserToken.sub||s.mockUserToken.user_id;if(!u)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ds(u)}t._authCredentials=new RG(new $4(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class fs{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class Vo extends ra{constructor(e,n,s){super(e,n,my(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new Fe(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function Ce(t,e,...n){if(t=Nt(t),UD("collection","path",e),t instanceof Ny){const s=Ut.fromString(e,...n);return Dk(s),new Vo(t,null,s)}{if(!(t instanceof fs||t instanceof Vo))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return Dk(s),new Vo(t.firestore,null,s)}}function it(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=B4.newId()),UD("doc","path",e),t instanceof Ny){const s=Ut.fromString(e,...n);return Pk(s),new fs(t,null,new Fe(s))}{if(!(t instanceof fs||t instanceof Vo))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return Pk(s),new fs(t.firestore,t instanceof Vo?t.converter:null,new Fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jD(this,"async_queue_retry"),this.Vu=()=>{const s=a0();s&&De("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=a0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=a0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Sa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xm(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(s);throw Va("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=p_.createAndSchedule(this,e,n,s,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Lk(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of s)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class $a extends Ny{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Ok,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ok(e),this._firestoreClient=void 0,await e}}}function gQ(t,e){const n=typeof t=="object"?t:ay(),s=typeof t=="string"?t:"(default)",i=ol(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=UP("firestore");a&&pQ(i,...a)}return i}function _y(t){if(t._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xQ(t),t._firestoreClient}function xQ(t){var e,n,s;const i=t._freezeSettings(),a=function(l,c,u,d){return new GG(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VD(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lQ(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ed(ss.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ed(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=/^__.*__$/;class vQ{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jm(e,this.data,n,this.fieldTransforms)}}class $D{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ul(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class C_{constructor(e,n,s,i,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new C_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.Ou(e),i}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ix(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BD(this.Cu)&&yQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bQ{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vy(e)}Qu(e,n,s,i=!1){return new C_({Cu:e,methodName:n,qu:s,path:Qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(t){const e=t._freezeSettings(),n=vy(t._databaseId);return new bQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zD(t,e,n,s,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);S_("Data must be an object, but it was:",o,s);const l=qD(s,o);let c,u;if(a.merge)c=new gr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const m of a.mergeFields){const f=Mw(e,m,n);if(!o.contains(f))throw new Se(oe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GD(d,f)||d.push(f)}c=new gr(d),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new vQ(new zs(l),c,u)}class rf extends Ey{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}class E_ extends Ey{_toFieldTransform(e){return new yY(e.path,new jm)}isEqual(e){return e instanceof E_}}function wQ(t,e,n,s){const i=t.Qu(1,e,n);S_("Data must be an object, but it was:",i,s);const a=[],o=zs.empty();Cc(s,(c,u)=>{const d=k_(e,c,n);u=Nt(u);const m=i.Nu(d);if(u instanceof rf)a.push(d);else{const f=af(u,m);f!=null&&(a.push(d),o.set(d,f))}});const l=new gr(a);return new $D(o,l,i.fieldTransforms)}function jQ(t,e,n,s,i,a){const o=t.Qu(1,e,n),l=[Mw(e,s,n)],c=[i];if(a.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)l.push(Mw(e,a[f])),c.push(a[f+1]);const u=[],d=zs.empty();for(let f=l.length-1;f>=0;--f)if(!GD(u,l[f])){const g=l[f];let x=c[f];x=Nt(x);const b=o.Nu(g);if(x instanceof rf)u.push(g);else{const y=af(x,b);y!=null&&(u.push(g),d.set(g,y))}}const m=new gr(u);return new $D(d,m,o.fieldTransforms)}function WD(t,e,n,s=!1){return af(n,t.Qu(s?4:3,e))}function af(t,e){if(HD(t=Nt(t)))return S_("Unsupported field value:",e,t),qD(t,e);if(t instanceof Ey)return function(s,i){if(!BD(i.Cu))throw i.Bu(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,i){const a=[];let o=0;for(const l of s){let c=af(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,i){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pY(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Et.fromDate(s);return{timestampValue:tx(i.serializer,a)}}if(s instanceof Et){const a=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tx(i.serializer,a)}}if(s instanceof N_)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ed)return{bytesValue:mD(i.serializer,s._byteString)};if(s instanceof fs){const a=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:o_(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof __)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return s_(l.serializer,c)})}}}}}}(s,i);throw i.Bu(`Unsupported field value: ${jy(s)}`)}(t,e)}function qD(t,e){const n={};return z4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(t,(s,i)=>{const a=af(i,e.Mu(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function HD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof N_||t instanceof ed||t instanceof fs||t instanceof Ey||t instanceof __)}function S_(t,e,n){if(!HD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=jy(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function Mw(t,e,n){if((e=Nt(e))instanceof Cy)return e._internalPath;if(typeof e=="string")return k_(t,e);throw ix("Field path arguments must be of type string or ",t,!1,void 0,n)}const NQ=new RegExp("[~\\*/\\[\\]]");function k_(t,e,n){if(e.search(NQ)>=0)throw ix(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cy(...e.split("."))._internalPath}catch{throw ix(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ix(t,e,n,s,i){const a=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new Se(oe.INVALID_ARGUMENT,l+t+c)}function GD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n,s,i,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _Q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _Q extends T_{data(){return super.data()}}function Sy(t,e){return typeof e=="string"?k_(t,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class ky extends I_{}function Me(t,e,...n){let s=[];e instanceof I_&&s.push(e),s=s.concat(n),function(a){const o=a.filter(c=>c instanceof R_).length,l=a.filter(c=>c instanceof Ty).length;if(o>1||o>0&&l>0)throw new Se(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Ty extends ky{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ty(e,n,s)}_apply(e){const n=this._parse(e);return QD(e._query,n),new ra(e.firestore,e.converter,Ew(e._query,n))}_parse(e){const n=sf(e.firestore);return function(a,o,l,c,u,d,m){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Vk(m,d);const g=[];for(const x of m)g.push(Fk(c,a,x));f={arrayValue:{values:g}}}else f=Fk(c,a,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Vk(m,d),f=WD(l,o,m,d==="in"||d==="not-in");return Cn.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Re(t,e,n){const s=e,i=Sy("where",t);return Ty._create(i,s,n)}class R_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R_(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)QD(o,c),o=Ew(o,c)}(e._query,n),new ra(e.firestore,e.converter,Ew(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends ky{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A_(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wm(a,o)}(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Ec(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _t(t,e="asc"){const n=e,s=Sy("orderBy",t);return A_._create(s,n)}class P_ extends ky{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new P_(e,n,s)}_apply(e){return new ra(e.firestore,e.converter,Jg(e._query,this._limit,this._limitType))}}function Ki(t){return fQ("limit",t),P_._create("limit",t,"F")}class D_ extends ky{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new D_(e,n,s)}_apply(e){const n=CQ(e,this.type,this._docOrFields,this._inclusive);return new ra(e.firestore,e.converter,function(i,a){return new Ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function KD(...t){return D_._create("startAfter",t,!1)}function CQ(t,e,n,s){if(n[0]=Nt(n[0]),n[0]instanceof T_)return function(a,o,l,c,u){if(!c)throw new Se(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const m of yu(a))if(m.field.isKeyField())d.push(Xg(o,c.key));else{const f=c.data.field(m.field);if(hy(f))throw new Se(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=m.field.canonicalString();throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(f)}return new Zu(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,s);{const i=sf(t.firestore);return function(o,l,c,u,d,m){const f=o.explicitOrderBy;if(d.length>f.length)throw new Se(oe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let x=0;x<d.length;x++){const b=d[x];if(f[x].field.isKeyField()){if(typeof b!="string")throw new Se(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!n_(o)&&b.indexOf("/")!==-1)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const y=o.path.child(Ut.fromString(b));if(!Fe.isDocumentKey(y))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const w=new Fe(y);g.push(Xg(l,w))}else{const y=WD(c,u,b);g.push(y)}}return new Zu(g,m)}(t._query,t.firestore._databaseId,i,e,n,s)}}function Fk(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(e)&&n.indexOf("/")!==-1)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ut.fromString(n));if(!Fe.isDocumentKey(s))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xg(t,new Fe(s))}if(n instanceof fs)return Xg(t,n._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(n)}.`)}function Vk(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QD(t,e){const n=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EQ{convertValue(e,n="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cc(e,(i,a)=>{s[i]=this.convertValue(a,n)}),s}convertVectorValue(e){var n,s,i;const a=(i=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>yn(o.doubleValue));return new __(a)}convertGeoPoint(e){return new N_(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=XN(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ym(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ut.fromString(e);Pt(vD(s));const i=new vm(s.get(1),s.get(3)),a=new Fe(s.popFirst(5));return i.isEqual(n)||Va(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XD extends T_{constructor(e,n,s,i,a,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $p extends XD{data(e={}){return super.data(e)}}class JD{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ah(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new $p(this._firestore,this._userDataWriter,s.key,s,new ah(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new $p(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ah(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new $p(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ah(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:SQ(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){t=Xs(t,fs);const e=Xs(t.firestore,$a);return dQ(_y(e),t._key).then(n=>eM(e,t,n))}class M_ extends EQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,n)}}function ot(t){t=Xs(t,ra);const e=Xs(t.firestore,$a),n=_y(e),s=new M_(e);return YD(t._query),hQ(n,t._query).then(i=>new JD(e,s,t,i))}function Ow(t,e,n){t=Xs(t,fs);const s=Xs(t.firestore,$a),i=ZD(t.converter,e);return Iy(s,[zD(sf(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zr.none())])}function Yt(t,e,n,...s){t=Xs(t,fs);const i=Xs(t.firestore,$a),a=sf(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Cy?jQ(a,"updateDoc",t._key,e,n,s):wQ(a,"updateDoc",t._key,e),Iy(i,[o.toMutation(t._key,zr.exists(!0))])}function Hl(t){return Iy(Xs(t.firestore,$a),[new r_(t._key,zr.none())])}function wr(t,e){const n=Xs(t.firestore,$a),s=it(t),i=ZD(t.converter,e);return Iy(n,[zD(sf(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,zr.exists(!1))]).then(()=>s)}function Ot(t,...e){var n,s,i;t=Nt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Lk(e[o])||(a=e[o],o++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Lk(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(s=m.error)===null||s===void 0?void 0:s.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,d;if(t instanceof fs)u=Xs(t.firestore,$a),d=my(t._key.path),c={next:m=>{e[o]&&e[o](eM(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Xs(t,ra);u=Xs(m.firestore,$a),d=m._query;const f=new M_(u);c={next:g=>{e[o]&&e[o](new JD(u,f,m,g))},error:e[o+1],complete:e[o+2]},YD(t._query)}return function(f,g,x,b){const y=new j_(b),w=new b_(g,y,x);return f.asyncQueue.enqueueAndForget(async()=>x_(await rx(f),w)),()=>{y.Za(),f.asyncQueue.enqueueAndForget(async()=>y_(await rx(f),w))}}(_y(u),d,l,c)}function Iy(t,e){return function(s,i){const a=new Sa;return s.asyncQueue.enqueueAndForget(async()=>eQ(await uQ(s),i,a)),a.promise}(_y(t),e)}function eM(t,e,n){const s=n.docs.get(e._key),i=new M_(t);return new XD(t,i,e._key,s,new ah(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(){return new rf("deleteField")}function Mt(){return new E_("serverTimestamp")}(function(e,n=!0){(function(i){pd=i})(_c),wi(new Kr("firestore",(s,{instanceIdentifier:i,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new $a(new AG(s.getProvider("auth-internal")),new OG(s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vm(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Zs(tk,"4.7.3",e),Zs(tk,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firebasestorage.googleapis.com",nM="storageBucket",TQ=2*60*1e3,IQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Jr{constructor(e,n,s=0){super(l0(e),`Firebase Storage: ${n} (${l0(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return l0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function l0(t){return"storage/"+t}function O_(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(gn.UNKNOWN,t)}function RQ(t){return new xn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function AQ(t){return new xn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xn(gn.UNAUTHENTICATED,t)}function DQ(){return new xn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MQ(t){return new xn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OQ(){return new xn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LQ(){return new xn(gn.CANCELED,"User canceled the upload/download.")}function FQ(t){return new xn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function VQ(t){return new xn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UQ(){return new xn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nM+"' property when initializing the app?")}function $Q(){return new xn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BQ(){return new xn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zQ(t){return new xn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lw(t){return new xn(gn.INVALID_ARGUMENT,t)}function sM(){return new xn(gn.APP_DELETED,"The Firebase app was deleted.")}function WQ(t){return new xn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sh(t,e){return new xn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qd(t){throw new xn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=xr.makeFromUrl(e,n)}catch{return new xr(e,"")}if(s.path==="")return s;throw VQ(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function a(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${d}/b/${i}/o${f}`,"i"),x={bucket:1,path:3},b=n===tM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${b}/${i}/${y}`,"i"),N=[{regex:l,indices:c,postModify:a},{regex:g,indices:x,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<N.length;I++){const V=N[I],z=V.regex.exec(e);if(z){const A=z[V.indices.bucket];let C=z[V.indices.path];C||(C=""),s=new xr(A,C),V.postModify(s);break}}if(s==null)throw FQ(e);return s}}class qQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t,e,n){let s=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function m(y){i=setTimeout(()=>{i=null,t(g,c())},y)}function f(){a&&clearTimeout(a)}function g(y,...w){if(u){f();return}if(y){f(),d.call(null,y,...w);return}if(c()||o){f(),d.call(null,y,...w);return}s<64&&(s*=2);let N;l===1?(l=2,N=0):N=(s+Math.random())*1e3,m(N)}let x=!1;function b(y){x||(x=!0,f(),!u&&(i!==null?(y||(l=2),clearTimeout(i),m(0)):y||(l=1)))}return m(0),a=setTimeout(()=>{o=!0,b(!0)},n),b}function GQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){return t!==void 0}function KQ(t){return typeof t=="object"&&!Array.isArray(t)}function L_(t){return typeof t=="string"||t instanceof String}function Uk(t){return F_()&&t instanceof Blob}function F_(){return typeof Blob<"u"}function $k(t,e,n,s){if(s<e)throw Lw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Lw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function rM(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gl||(Gl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n,s,i,a,o,l,c,u,d,m,f=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=m,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new up(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Gl.NO_ERROR,c=a.getStatus();if(!l||QQ(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Gl.ABORT;s(!1,new up(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new up(u,a))})},n=(s,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());YQ(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=O_();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?sM():LQ();o(c)}else{const c=OQ();o(c)}};this.canceled_?n(!1,new up(!1,null,!0)):this.backoffId_=HQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class up{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function XQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nZ(t,e,n,s,i,a,o=!0){const l=rM(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return eZ(u,e),XQ(u,n),JQ(u,a),tZ(u,s),new ZQ(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rZ(...t){const e=sZ();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(F_())return new Blob(t);throw new xn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t){if(typeof atob>"u")throw zQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class c0{constructor(e,n){this.data=e,this.contentType=n||null}}function oZ(t,e){switch(t){case Fi.RAW:return new c0(iM(e));case Fi.BASE64:case Fi.BASE64URL:return new c0(aM(t,e));case Fi.DATA_URL:return new c0(cZ(e),uZ(e))}throw O_()}function iM(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=s,o=t.charCodeAt(++n);s=65536|(a&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function lZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Sh(Fi.DATA_URL,"Malformed data URL.")}return iM(e)}function aM(t,e){switch(t){case Fi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Sh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Sh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aZ(e)}catch(i){throw i.message.includes("polyfill")?i:Sh(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class oM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sh(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=dZ(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function cZ(t){const e=new oM(t);return e.base64?aM(Fi.BASE64,e.rest):lZ(e.rest)}function uZ(t){return new oM(t).contentType}function dZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){let s=0,i="";Uk(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Uk(this.data_)){const s=this.data_,i=iZ(s,e,n);return i===null?null:new fo(i)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new fo(s,!0)}}static getBlob(...e){if(F_()){const n=e.map(s=>s instanceof fo?s.data_:s);return new fo(rZ.apply(null,n))}else{const n=e.map(o=>L_(o)?oZ(Fi.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const i=new Uint8Array(s);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new fo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){let e;try{e=JSON.parse(t)}catch{return null}return KQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mZ(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function cM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e){return e}class js{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||fZ}}let dp=null;function pZ(t){return!L_(t)||t.length<2?t:cM(t)}function uM(){if(dp)return dp;const t=[];t.push(new js("bucket")),t.push(new js("generation")),t.push(new js("metageneration")),t.push(new js("name","fullPath",!0));function e(a,o){return pZ(o)}const n=new js("name");n.xform=e,t.push(n);function s(a,o){return o!==void 0?Number(o):o}const i=new js("size");return i.xform=s,t.push(i),t.push(new js("timeCreated")),t.push(new js("updated")),t.push(new js("md5Hash",null,!0)),t.push(new js("cacheControl",null,!0)),t.push(new js("contentDisposition",null,!0)),t.push(new js("contentEncoding",null,!0)),t.push(new js("contentLanguage",null,!0)),t.push(new js("contentType",null,!0)),t.push(new js("metadata","customMetadata",!0)),dp=t,dp}function gZ(t,e){function n(){const s=t.bucket,i=t.fullPath,a=new xr(s,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function xZ(t,e,n){const s={};s.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];s[o.local]=o.xform(s,e[o.server])}return gZ(s,t),s}function dM(t,e,n){const s=lM(e);return s===null?null:xZ(t,s,n)}function yZ(t,e,n,s){const i=lM(e);if(i===null||!L_(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,m=t.fullPath,f="/b/"+o(d)+"/o/"+o(m),g=Ry(f,n,s),x=rM({alt:"media",token:u});return g+x})[0]}function vZ(t,e){const n={},s=e.length;for(let i=0;i<s;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class V_{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(!t)throw O_()}function bZ(t,e){function n(s,i){const a=dM(t,i,e);return hM(a!==null),a}return n}function wZ(t,e){function n(s,i){const a=dM(t,i,e);return hM(a!==null),yZ(a,i,t.host,t._protocol)}return n}function mM(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=DQ():i=PQ():n.getStatus()===402?i=AQ(t.bucket):n.getStatus()===403?i=MQ(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function fM(t){const e=mM(t);function n(s,i){let a=e(s,i);return s.getStatus()===404&&(a=RQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function jZ(t,e,n){const s=e.fullServerUrl(),i=Ry(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new V_(i,a,wZ(t,n),o);return l.errorHandler=fM(e),l}function NZ(t,e){const n=e.fullServerUrl(),s=Ry(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function o(c,u){}const l=new V_(s,i,o,a);return l.successCodes=[200,204],l.errorHandler=fM(e),l}function _Z(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CZ(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=_Z(null,e)),s}function EZ(t,e,n,s,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let I=0;I<2;I++)N=N+Math.random().toString().slice(2);return N}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=CZ(e,s,i),d=vZ(u,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",g=fo.getBlob(m,s,f);if(g===null)throw $Q();const x={name:u.fullPath},b=Ry(a,t.host,t._protocol),y="POST",w=t.maxUploadRetryTime,v=new V_(b,y,bZ(t,n),w);return v.urlParams=x,v.headers=o,v.body=g.uploadData(),v.errorHandler=mM(e),v}class SZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw qd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kZ extends SZ{initXhr(){this.xhr_.responseType="text"}}function U_(){return new kZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this._service=e,n instanceof xr?this._location=n:this._location=xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hc(e,n)}get root(){const e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cM(this._location.path)}get storage(){return this._service}get parent(){const e=hZ(this._location.path);if(e===null)return null;const n=new xr(this._location.bucket,e);return new hc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WQ(e)}}function TZ(t,e,n){t._throwIfRoot("uploadBytes");const s=EZ(t.storage,t._location,uM(),new fo(e,!0),n);return t.storage.makeRequestWithTokens(s,U_).then(i=>({metadata:i,ref:t}))}function IZ(t){t._throwIfRoot("getDownloadURL");const e=jZ(t.storage,t._location,uM());return t.storage.makeRequestWithTokens(e,U_).then(n=>{if(n===null)throw BQ();return n})}function RZ(t){t._throwIfRoot("deleteObject");const e=NZ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,U_)}function AZ(t,e){const n=mZ(t._location.path,e),s=new xr(t._location.bucket,n);return new hc(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t){return/^[A-Za-z]+:\/\//.test(t)}function DZ(t,e){return new hc(t,e)}function pM(t,e){if(t instanceof $_){const n=t;if(n._bucket==null)throw UQ();const s=new hc(n,n._bucket);return e!=null?pM(s,e):s}else return e!==void 0?AZ(t,e):t}function MZ(t,e){if(e&&PZ(e)){if(t instanceof $_)return DZ(t,e);throw Lw("To use ref(service, url), the first argument must be a Storage instance.")}else return pM(t,e)}function Bk(t,e){const n=e==null?void 0:e[nM];return n==null?null:xr.makeFromBucketSpec(n,t)}function OZ(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:zP(i,t.app.options.projectId))}class $_{constructor(e,n,s,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=tM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TQ,this._maxUploadRetryTime=IQ,this._requests=new Set,i!=null?this._bucket=xr.makeFromBucketSpec(i,this._host):this._bucket=Bk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=Bk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$k("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$k("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hc(this,e)}_makeRequest(e,n,s,i,a=!0){if(this._deleted)return new qQ(sM());{const o=nZ(e,this._appId,s,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const zk="@firebase/storage",Wk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="storage";function Fw(t,e,n){return t=Nt(t),TZ(t,e,n)}function Vw(t){return t=Nt(t),IZ(t)}function LZ(t){return t=Nt(t),RZ(t)}function Bp(t,e){return t=Nt(t),MZ(t,e)}function FZ(t=ay(),e){t=Nt(t);const s=ol(t,gM).getImmediate({identifier:e}),i=UP("storage");return i&&VZ(s,...i),s}function VZ(t,e,n,s={}){OZ(t,e,n,s)}function UZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $_(n,s,i,e,_c)}function $Z(){wi(new Kr(gM,UZ,"PUBLIC").setMultipleInstances(!0)),Zs(zk,Wk,""),Zs(zk,Wk,"esm2017")}$Z();const BZ={apiKey:"AIzaSyADeNZ-j6P43uNOpe2H7_2zEFUl3nBjaDQ",authDomain:"minor-project-64ad1.firebaseapp.com",projectId:"minor-project-64ad1",storageBucket:"minor-project-64ad1.firebasestorage.app",messagingSenderId:"499345594003",appId:"1:499345594003:web:07a3b44bea02e5c2be9f66",measurementId:"G-D2G5EYR4F1"},B_=iy(BZ),dt=uy(B_),xM=new ya,ce=gQ(B_),zp=FZ(B_),zZ=Ss.object({email:Ss.string().email({message:"Please enter a valid email address"}),password:Ss.string().min(6,{message:"Password must be at least 6 characters"})}),WZ=()=>{const t=bs(),[e,n]=p.useState(!1),[s,i]=p.useState("student"),a=AN({resolver:PN(zZ),defaultValues:{email:"",password:""}}),o=async c=>{n(!0);try{if(s==="student"&&!c.email.endsWith("@bvrit.ac.in")){Ln.error("Student login requires an email with @bvrit.ac.in domain"),n(!1);return}const u=await hH(dt,c.email,c.password);Ln.success("Login successful!"),t(s==="student"?"/student/dashboard":"/alumni/dashboard")}catch(u){console.error("Login error:",u),u.code==="auth/user-not-found"||u.code==="auth/wrong-password"?Ln.error("Invalid email or password"):u.code==="auth/too-many-requests"?Ln.error("Too many failed login attempts. Please try again later"):Ln.error("Login failed. Please try again")}finally{n(!1)}},l=async()=>{try{n(!0);const u=(await P4(dt,xM)).user.email;if(s==="student"&&u&&!u.endsWith("@bvrit.ac.in")){Ln.error("Students must use their @bvrit.ac.in email address"),await dt.signOut(),n(!1);return}Ln.success("Login successful!"),t(s==="student"?"/student/dashboard":"/alumni/dashboard")}catch(c){console.error("Google sign-in error:",c),Ln.error("Google sign-in failed. Please try again")}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsx("div",{className:"container mx-auto px-4 pt-24 pb-16",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs(ys,{defaultValue:"student",onValueChange:c=>i(c),children:[r.jsxs(ns,{className:"grid w-full grid-cols-2 mb-8",children:[r.jsxs(Be,{value:"student",className:"flex items-center justify-center gap-2 py-3",children:[r.jsx(Rt,{className:"h-4 w-4"}),"Student Login"]}),r.jsxs(Be,{value:"alumni",className:"flex items-center justify-center gap-2 py-3",children:[r.jsx(ts,{className:"h-4 w-4"}),"Alumni Login"]})]}),r.jsxs(Ct,{className:"border-t-4 border-t-blue-600 shadow-md",children:[r.jsxs(Vn,{children:[r.jsx(Un,{className:"text-2xl",children:"Welcome back"}),r.jsx($n,{children:s==="student"?"Students must use their @bvrit.ac.in email address":"Alumni can use any registered email address"})]}),r.jsxs(Bt,{children:[r.jsx(DN,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[r.jsx(Or,{control:a.control,name:"email",render:({field:c})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Email"}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:s==="student"?"name@bvrit.ac.in":"your.email@example.com",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:a.control,name:"password",render:({field:c})=>r.jsxs(lr,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(cr,{children:"Password"}),r.jsx(Gt,{to:"/forgot-password",className:"text-xs text-blue-600 hover:underline",children:"Forgot password?"})]}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Hh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{type:"password",placeholder:"",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(W,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 h-11 mt-6",disabled:e,children:e?"Signing in...":"Sign In"})]})}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),r.jsxs(W,{type:"button",variant:"outline",className:"w-full h-11 flex items-center gap-2",onClick:l,disabled:e,children:[r.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),r.jsxs(Ts,{className:"flex flex-col gap-4 border-t pt-6",children:[r.jsxs("div",{className:"text-sm text-center",children:["Don't have an account?"," ",r.jsx(Gt,{to:"/register",className:"text-blue-600 font-medium hover:underline",children:"Create an account"})]}),s==="alumni"&&r.jsx("div",{className:"text-xs text-center text-gray-500",children:"New alumni accounts require verification before full access is granted"})]})]})]})})})})},qZ=Ss.object({name:Ss.string().min(1,{message:"Name is required"}),email:Ss.string().email({message:"Please enter a valid email address"}),password:Ss.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Ss.string().min(6)}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),HZ=()=>{const t=bs(),[e,n]=p.useState(!1),[s,i]=p.useState("student"),a=AN({resolver:PN(qZ),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),o=async c=>{n(!0);try{if(s==="student"&&!c.email.endsWith("@bvrit.ac.in")){Ln.error("Student registration requires an @bvrit.ac.in email address"),n(!1);return}const u=await yw(dt,c.email,c.password);await vw(u.user,{displayName:c.name}),Ln.success("Registration successful!"),t(s==="student"?"/StudentIntroForm":"/Verification")}catch(u){console.error("Registration error:",u),u.code==="auth/email-already-in-use"?Ln.error("Email already in use. Please login instead."):Ln.error("Registration failed. Please try again.")}finally{n(!1)}},l=async()=>{try{n(!0);const u=(await P4(dt,xM)).user.email;if(s==="student"&&u&&!u.endsWith("@bvrit.ac.in")){Ln.error("Students must use their @bvrit.ac.in email address"),await dt.signOut(),n(!1);return}Ln.success("Registration successful!"),t(s==="student"?"/StudentIntroForm":"/Verification")}catch(c){console.error("Google sign-in error:",c),Ln.error("Google registration failed. Please try again")}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsx("div",{className:"container mx-auto px-4 pt-24 pb-16",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs(ys,{defaultValue:"student",onValueChange:c=>i(c),children:[r.jsxs(ns,{className:"grid w-full grid-cols-2 mb-8",children:[r.jsxs(Be,{value:"student",className:"flex items-center justify-center gap-2 py-3",children:[r.jsx(Rt,{className:"h-4 w-4"}),"Student Register"]}),r.jsxs(Be,{value:"alumni",className:"flex items-center justify-center gap-2 py-3",children:[r.jsx(ts,{className:"h-4 w-4"}),"Alumni Register"]})]}),r.jsxs(Ct,{className:"border-t-4 border-t-blue-600 shadow-md",children:[r.jsxs(Vn,{children:[r.jsx(Un,{className:"text-2xl",children:"Create your account"}),r.jsx($n,{children:s==="student"?"Students must use their @bvrit.ac.in email address":"Alumni registration requires manual verification"})]}),r.jsxs(Bt,{children:[r.jsx(DN,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[r.jsx(Or,{control:a.control,name:"name",render:({field:c})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Full Name"}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(fU,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"John Doe",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:a.control,name:"email",render:({field:c})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Email"}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:s==="student"?"name@bvrit.ac.in":"your.email@example.com",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:a.control,name:"password",render:({field:c})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Password"}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Hh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{type:"password",placeholder:"",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:a.control,name:"confirmPassword",render:({field:c})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Confirm Password"}),r.jsx(ur,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Hh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{type:"password",placeholder:"",...c,className:"pl-10 h-10"})]})}),r.jsx(dr,{})]})}),r.jsx(W,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 h-11 mt-6",disabled:e,children:e?"Creating account...":"Create Account"})]})}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),r.jsxs(W,{type:"button",variant:"outline",className:"w-full h-11 flex items-center gap-2",onClick:l,disabled:e,children:[r.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),r.jsxs(Ts,{className:"flex flex-col gap-4 border-t pt-6",children:[r.jsxs("div",{className:"text-sm text-center",children:["Already have an account?"," ",r.jsx(Gt,{to:"/login",className:"text-blue-600 font-medium hover:underline",children:"Login here"})]}),r.jsx("div",{className:"text-xs text-center text-gray-500",children:"By registering, you agree to our Terms of Service and Privacy Policy"})]})]})]})})})})},GZ=()=>{const t=md();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},yM="@firebase/installations",z_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1e4,bM=`w:${z_}`,wM="FIS_v2",YZ="https://firebaseinstallations.googleapis.com/v1",KZ=60*60*1e3,QZ="installations",ZZ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mc=new Nc(QZ,ZZ,XZ);function jM(t){return t instanceof Jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM({projectId:t}){return`${YZ}/projects/${t}/installations`}function _M(t){return{token:t.token,requestStatus:2,expiresIn:eX(t.expiresIn),creationTime:Date.now()}}async function CM(t,e){const s=(await e.json()).error;return mc.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function EM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JZ(t,{refreshToken:e}){const n=EM(t);return n.append("Authorization",tX(e)),n}async function SM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function eX(t){return Number(t.replace("s","000"))}function tX(t){return`${wM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=NM(t),i=EM(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:wM,appId:t.appId,sdkVersion:bM},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await SM(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:_M(u.authToken)}}else throw await CM("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=/^[cdef][\w-]{21}$/,Uw="";function iX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=aX(t);return rX.test(n)?n:Uw}catch{return Uw}}function aX(t){return sX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Map;function IM(t,e){const n=Ay(t);RM(n,e),oX(n,e)}function RM(t,e){const n=TM.get(t);if(n)for(const s of n)s(e)}function oX(t,e){const n=lX();n&&n.postMessage({key:t,fid:e}),cX()}let Al=null;function lX(){return!Al&&"BroadcastChannel"in self&&(Al=new BroadcastChannel("[Firebase] FID Change"),Al.onmessage=t=>{RM(t.data.key,t.data.fid)}),Al}function cX(){TM.size===0&&Al&&(Al.close(),Al=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX="firebase-installations-database",dX=1,fc="firebase-installations-store";let u0=null;function W_(){return u0||(u0=KP(uX,dX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fc)}}})),u0}async function ax(t,e){const n=Ay(t),i=(await W_()).transaction(fc,"readwrite"),a=i.objectStore(fc),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&IM(t,e.fid),e}async function AM(t){const e=Ay(t),s=(await W_()).transaction(fc,"readwrite");await s.objectStore(fc).delete(e),await s.done}async function Py(t,e){const n=Ay(t),i=(await W_()).transaction(fc,"readwrite"),a=i.objectStore(fc),o=await a.get(n),l=e(o);return l===void 0?await a.delete(n):await a.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&IM(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(t){let e;const n=await Py(t.appConfig,s=>{const i=hX(s),a=mX(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Uw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function hX(t){const e=t||{fid:iX(),registrationStatus:0};return PM(e)}function mX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=fX(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pX(t)}:{installationEntry:e}}async function fX(t,e){try{const n=await nX(t,e);return ax(t.appConfig,n)}catch(n){throw jM(n)&&n.customData.serverCode===409?await AM(t.appConfig):await ax(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pX(t){let e=await qk(t.appConfig);for(;e.registrationStatus===1;)await kM(100),e=await qk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await q_(t);return s||n}return e}function qk(t){return Py(t,e=>{if(!e)throw mc.create("installation-not-found");return PM(e)})}function PM(t){return gX(t)?{fid:t.fid,registrationStatus:0}:t}function gX(t){return t.registrationStatus===1&&t.registrationTime+vM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX({appConfig:t,heartbeatServiceProvider:e},n){const s=yX(t,n),i=JZ(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:bM,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await SM(()=>fetch(s,l));if(c.ok){const u=await c.json();return _M(u)}else throw await CM("Generate Auth Token",c)}function yX(t,{fid:e}){return`${NM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_(t,e=!1){let n;const s=await Py(t.appConfig,a=>{if(!DM(a))throw mc.create("not-registered");const o=a.authToken;if(!e&&wX(o))return a;if(o.requestStatus===1)return n=vX(t,e),a;{if(!navigator.onLine)throw mc.create("app-offline");const l=NX(a);return n=bX(t,l),l}});return n?await n:s.authToken}async function vX(t,e){let n=await Hk(t.appConfig);for(;n.authToken.requestStatus===1;)await kM(100),n=await Hk(t.appConfig);const s=n.authToken;return s.requestStatus===0?H_(t,e):s}function Hk(t){return Py(t,e=>{if(!DM(e))throw mc.create("not-registered");const n=e.authToken;return _X(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function bX(t,e){try{const n=await xX(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await ax(t.appConfig,s),n}catch(n){if(jM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AM(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ax(t.appConfig,s)}throw n}}function DM(t){return t!==void 0&&t.registrationStatus===2}function wX(t){return t.requestStatus===2&&!jX(t)}function jX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+KZ}function NX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _X(t){return t.requestStatus===1&&t.requestTime+vM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CX(t){const e=t,{installationEntry:n,registrationPromise:s}=await q_(e);return s?s.catch(console.error):H_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EX(t,e=!1){const n=t;return await SX(n),(await H_(n,e)).token}async function SX(t){const{registrationPromise:e}=await q_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(t){if(!t||!t.options)throw d0("App Configuration");if(!t.name)throw d0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw d0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function d0(t){return mc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="installations",TX="installations-internal",IX=t=>{const e=t.getProvider("app").getImmediate(),n=kX(e),s=ol(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},RX=t=>{const e=t.getProvider("app").getImmediate(),n=ol(e,MM).getImmediate();return{getId:()=>CX(n),getToken:i=>EX(n,i)}};function AX(){wi(new Kr(MM,IX,"PUBLIC")),wi(new Kr(TX,RX,"PRIVATE"))}AX();Zs(yM,z_);Zs(yM,z_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="analytics",PX="firebase_id",DX="origin",MX=60*1e3,OX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new ry("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jr=new Nc("analytics","Analytics",LX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(t){if(!t.startsWith(G_)){const e=jr.create("invalid-gtag-resource",{gtagURL:t});return Js.warn(e.message),""}return t}function OM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VX(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function UX(t,e){const n=VX("firebase-js-sdk-policy",{createScriptURL:FX}),s=document.createElement("script"),i=`${G_}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function $X(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function BX(t,e,n,s,i,a){const o=s[i];try{if(o)await e[o];else{const c=(await OM(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){Js.error(l)}t("config",i,a)}async function zX(t,e,n,s,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await OM(n);for(const c of o){const u=l.find(m=>m.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",s,i||{})}catch(a){Js.error(a)}}function WX(t,e,n,s){async function i(a,...o){try{if(a==="event"){const[l,c]=o;await zX(t,e,n,l,c)}else if(a==="config"){const[l,c]=o;await BX(t,e,n,s,l,c)}else if(a==="consent"){const[l,c]=o;t("consent",l,c)}else if(a==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){Js.error(l)}}return i}function qX(t,e,n,s,i){let a=function(...o){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=WX(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function HX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(G_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=30,YX=1e3;class KX{constructor(e={},n=YX){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LM=new KX;function QX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ZX(t){var e;const{appId:n,apiKey:s}=t,i={method:"GET",headers:QX(s)},a=OX.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function XX(t,e=LM,n){const{appId:s,apiKey:i,measurementId:a}=t.options;if(!s)throw jr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:s};throw jr.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new tJ;return setTimeout(async()=>{l.abort()},MX),FM({appId:s,apiKey:i,measurementId:a},o,l,e)}async function FM(t,{throttleEndTimeMillis:e,backoffCount:n},s,i=LM){var a;const{appId:o,measurementId:l}=t;try{await JX(s,e)}catch(c){if(l)return Js.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await ZX(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!eJ(u)){if(i.deleteThrottleMetadata(o),l)return Js.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?ES(n,i.intervalMillis,GX):ES(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,m),Js.debug(`Calling attemptFetch again in ${d} millis`),FM(t,m,s,i)}}function JX(t,e){return new Promise((n,s)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),s(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eJ(t){if(!(t instanceof Jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class tJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nJ(t,e,n,s,i){if(i&&i.global){t("event",n,s);return}else{const a=await e,o=Object.assign(Object.assign({},s),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sJ(){if(qP())try{await HP()}catch(t){return Js.warn(jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Js.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rJ(t,e,n,s,i,a,o){var l;const c=XX(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Js.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Js.error(g)),e.push(c);const u=sJ().then(g=>{if(g)return s.getId()}),[d,m]=await Promise.all([c,u]);HX(a)||UX(a,d.measurementId),i("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[DX]="firebase",f.update=!0,m!=null&&(f[PX]=m),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e){this.app=e}_delete(){return delete kh[this.app.options.appId],Promise.resolve()}}let kh={},Gk=[];const Yk={};let h0="dataLayer",aJ="gtag",Kk,VM,Qk=!1;function oJ(){const t=[];if(WP()&&t.push("This is a browser extension environment."),Kz()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,i)=>`(${i+1}) ${s}`).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:e});Js.warn(n.message)}}function lJ(t,e,n){oJ();const s=t.options.appId;if(!s)throw jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Js.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jr.create("no-api-key");if(kh[s]!=null)throw jr.create("already-exists",{id:s});if(!Qk){$X(h0);const{wrappedGtag:a,gtagCore:o}=qX(kh,Gk,Yk,h0,aJ);VM=a,Kk=o,Qk=!0}return kh[s]=rJ(t,Gk,Yk,e,Kk,h0,n),new iJ(t)}function UM(t=ay()){t=Nt(t);const e=ol(t,ox);return e.isInitialized()?e.getImmediate():cJ(t)}function cJ(t,e={}){const n=ol(t,ox);if(n.isInitialized()){const i=n.getImmediate();if(fm(e,n.getOptions()))return i;throw jr.create("already-initialized")}return n.initialize({options:e})}function uJ(t,e,n,s){t=Nt(t),nJ(VM,kh[t.app.options.appId],e,n,s).catch(i=>Js.error(i))}const Zk="@firebase/analytics",Xk="0.10.8";function dJ(){wi(new Kr(ox,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return lJ(s,i,n)},"PUBLIC")),wi(new Kr("analytics-internal",t,"PRIVATE")),Zs(Zk,Xk),Zs(Zk,Xk,"esm2017");function t(e){try{const n=e.getProvider(ox).getImmediate();return{logEvent:(s,i,a)=>uJ(n,s,i,a)}}catch(n){throw jr.create("interop-component-reg-failed",{reason:n})}}}dJ();const m0=[],f0=[],hJ={apiKey:"AIzaSyADeNZ-j6P43uNOpe2H7_2zEFUl3nBjaDQ",authDomain:"minor-project-64ad1.firebaseapp.com",projectId:"minor-project-64ad1",storageBucket:"minor-project-64ad1.firebasestorage.app",messagingSenderId:"499345594003",appId:"1:499345594003:web:07a3b44bea02e5c2be9f66",measurementId:"G-D2G5EYR4F1"},$M=iy(hJ);UM($M);const Jk=uy($M),Vi={registerStudent:async t=>{try{const n=(await yw(Jk,t.email,t.password)).user;return await vw(n,{displayName:t.name}),await new Promise(i=>setTimeout(i,1500)),!t.email.endsWith(".edu")&&!t.email.endsWith(".ac.in")&&!t.email.endsWith("@bvrit.ac.in")?{success:!1,message:"Please use a valid college email address (.edu, .ac.in or @bvrit.ac.in domain)"}:(m0.find(i=>i.email.toLowerCase()===t.email.toLowerCase())||m0.push({rollNumber:"TEMP"+Date.now().toString(),name:t.name,email:t.email}),localStorage.setItem("current_user",JSON.stringify({...t,type:"student",id:n.uid,rollNumber:"TEMP"+Date.now().toString()})),{success:!0,message:"Registration successful! Welcome to the Alumni Network."})}catch(e){return console.error("Firebase registration error:",e.message),{success:!1,message:`Registration failed: ${e.message}`}}},registerAlumni:async t=>{try{const n=(await yw(Jk,t.email,t.password)).user;await vw(n,{displayName:t.name}),await new Promise(u=>setTimeout(u,1500));const s=t.email.endsWith("@bvrit.ac.in"),i=t.email.endsWith(".edu")||t.email.endsWith(".ac.in")||s;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return{success:!1,message:"Please enter a valid email address"};let o=!1,l="",c=null;if(t.collegeId){const u=/^\d{2}211A\d{4}$/i.test(t.collegeId),d=/^BVRIT\d{4}CS\d{3}$/i.test(t.collegeId);if(!u&&!d)return{success:!1,message:"Invalid details: College ID format is incorrect. Please enter a valid BVRIT CSE College ID (e.g., 23211A0501 or BVRIT2017CS001)"};if(c=f0.find(m=>{var f;return m.collegeId.toLowerCase()===((f=t.collegeId)==null?void 0:f.toLowerCase())&&m.graduationYear===t.graduationYear}),!c)return{success:!1,message:"Invalid details: We could not verify your alumni status. Please ensure your College ID and Graduation Year are correct for the CSE department."};if(c.name.toLowerCase()!==t.name.toLowerCase())return{success:!1,message:"Invalid details: The name provided does not match our records for this College ID."};o=!0,l="Verified via College ID, Name, and Graduation Year"}else if(!i)return{success:!1,message:"Invalid details: Please use your college email (@bvrit.ac.in, .edu or .ac.in domain) or provide your College ID for verification."};if(s&&!o){const u=t.email.match(/^(\d{2}211[aA]\d{4})@bvrit\.ac\.in$/i);if(u&&u[1]){if(c=f0.find(d=>d.collegeId.toLowerCase()===u[1].toUpperCase().toLowerCase()),!c)return{success:!1,message:"Invalid details: Your email suggests you are from BVRIT CSE, but we could not verify your alumni status. Please use your College ID for verification."};if(c.graduationYear!==t.graduationYear)return{success:!1,message:"Invalid details: The graduation year provided does not match our records for your College ID."};if(c.name.toLowerCase()!==t.name.toLowerCase())return{success:!1,message:"Invalid details: The name provided does not match our records for this College ID."};o=!0,l="Verified via BVRIT Email, Name, and Graduation Year"}}return localStorage.setItem("current_user",JSON.stringify({...t,type:"alumni",id:n.uid,department:"Computer Science",verified:!0,verificationMethod:l||"College Email Domain"})),{success:!0,message:"Registration successful! Welcome back to your Alumni Network."}}catch(e){return console.error("Firebase registration error:",e.message),{success:!1,message:`Registration failed: ${e.message}`}}},logout:()=>{localStorage.removeItem("current_user")},getCurrentUser:()=>{const t=localStorage.getItem("current_user");return t?JSON.parse(t):null},isLoggedIn:()=>localStorage.getItem("current_user")!==null,getStudentDatabase:()=>m0,getVerifiedAlumni:()=>f0},lx={getEvents:()=>[],addEvent:t=>null,registerForEvent:(t,e)=>{}};var p0="focusScope.autoFocusOnMount",g0="focusScope.autoFocusOnUnmount",eT={bubbles:!1,cancelable:!0},mJ="FocusScope",of=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),u=es(i),d=es(a),m=p.useRef(null),f=ht(e,b=>c(b)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let b=function(N){if(g.paused||!l)return;const I=N.target;l.contains(I)?m.current=I:so(m.current,{select:!0})},y=function(N){if(g.paused||!l)return;const I=N.relatedTarget;I!==null&&(l.contains(I)||so(m.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const V of N)V.removedNodes.length>0&&so(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),v.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){nT.add(g);const b=document.activeElement;if(!l.contains(b)){const w=new CustomEvent(p0,eT);l.addEventListener(p0,u),l.dispatchEvent(w),w.defaultPrevented||(fJ(vJ(BM(l)),{select:!0}),document.activeElement===b&&so(l))}return()=>{l.removeEventListener(p0,u),setTimeout(()=>{const w=new CustomEvent(g0,eT);l.addEventListener(g0,d),l.dispatchEvent(w),w.defaultPrevented||so(b??document.body,{select:!0}),l.removeEventListener(g0,d),nT.remove(g)},0)}}},[l,u,d,g]);const x=p.useCallback(b=>{if(!n&&!s||g.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(y&&w){const v=b.currentTarget,[N,I]=pJ(v);N&&I?!b.shiftKey&&w===I?(b.preventDefault(),n&&so(N,{select:!0})):b.shiftKey&&w===N&&(b.preventDefault(),n&&so(I,{select:!0})):w===v&&b.preventDefault()}},[n,s,g.paused]);return r.jsx(Ve.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});of.displayName=mJ;function fJ(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(so(s,{select:e}),document.activeElement!==n)return}function pJ(t){const e=BM(t),n=tT(e,t),s=tT(e.reverse(),t);return[n,s]}function BM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tT(t,e){for(const n of t)if(!gJ(n,{upTo:e}))return n}function gJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xJ(t){return t instanceof HTMLInputElement&&"select"in t}function so(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xJ(t)&&e&&t.select()}}var nT=yJ();function yJ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sT(t,e),t.unshift(e)},remove(e){var n;t=sT(t,e),(n=t[0])==null||n.resume()}}}function sT(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function vJ(t){return t.filter(e=>e.tagName!=="A")}var x0=0;function Dy(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rT()),document.body.insertAdjacentElement("beforeend",t[1]??rT()),x0++,()=>{x0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),x0--}},[])}function rT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wp="right-scroll-bar-position",qp="width-before-scroll-bar",bJ="with-scroll-bars-hidden",wJ="--removed-body-scroll-bar-size";function y0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jJ(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var NJ=typeof window<"u"?p.useLayoutEffect:p.useEffect,iT=new WeakMap;function _J(t,e){var n=jJ(null,function(s){return t.forEach(function(i){return y0(i,s)})});return NJ(function(){var s=iT.get(n);if(s){var i=new Set(s),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||y0(l,null)}),a.forEach(function(l){i.has(l)||y0(l,o)})}iT.set(n,t)},[t]),n}function CJ(t){return t}function EJ(t,e){e===void 0&&(e=CJ);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function SJ(t){t===void 0&&(t={});var e=EJ(null);return e.options=Oi({async:!0,ssr:!1},t),e}var zM=function(t){var e=t.sideCar,n=Hm(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Oi({},n))};zM.isSideCarExport=!0;function kJ(t,e){return t.useMedium(e),zM}var WM=SJ(),v0=function(){},My=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:v0,onWheelCapture:v0,onTouchMoveCapture:v0}),i=s[0],a=s[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,m=t.shards,f=t.sideCar,g=t.noIsolation,x=t.inert,b=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,v=t.gapMode,N=Hm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,V=_J([n,e]),z=Oi(Oi({},N),i);return p.createElement(p.Fragment,null,d&&p.createElement(I,{sideCar:WM,removeScrollBar:u,shards:m,noIsolation:g,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:v}),o?p.cloneElement(p.Children.only(l),Oi(Oi({},z),{ref:V})):p.createElement(w,Oi({},z,{className:c,ref:V}),l))});My.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};My.classNames={fullWidth:qp,zeroRight:Wp};var TJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TJ();return e&&t.setAttribute("nonce",e),t}function RJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IJ())&&(RJ(e,n),AJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DJ=function(){var t=PJ();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qM=function(){var t=DJ(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},MJ={left:0,top:0,right:0,gap:0},b0=function(t){return parseInt(t||"",10)||0},OJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[b0(n),b0(s),b0(i)]},LJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MJ;var e=OJ(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},FJ=qM(),bu="data-scroll-locked",VJ=function(t,e,n,s){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wp,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(qp,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Wp," .").concat(Wp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(wJ,": ").concat(l,`px;
  }
`)},aT=function(){var t=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(t)?t:0},UJ=function(){p.useEffect(function(){return document.body.setAttribute(bu,(aT()+1).toString()),function(){var t=aT()-1;t<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,t.toString())}},[])},$J=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;UJ();var a=p.useMemo(function(){return LJ(i)},[i]);return p.createElement(FJ,{styles:VJ(a,!e,i,n?"":"!important")})},$w=!1;if(typeof window<"u")try{var hp=Object.defineProperty({},"passive",{get:function(){return $w=!0,!0}});window.addEventListener("test",hp,hp),window.removeEventListener("test",hp,hp)}catch{$w=!1}var Lc=$w?{passive:!1}:!1,BJ=function(t){return t.tagName==="TEXTAREA"},HM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BJ(t)&&n[e]==="visible")},zJ=function(t){return HM(t,"overflowY")},WJ=function(t){return HM(t,"overflowX")},oT=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=GM(t,s);if(i){var a=YM(t,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},qJ=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},HJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},GM=function(t,e){return t==="v"?zJ(e):WJ(e)},YM=function(t,e){return t==="v"?qJ(e):HJ(e)},GJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},YJ=function(t,e,n,s,i){var a=GJ(t,window.getComputedStyle(e).direction),o=a*s,l=n.target,c=e.contains(l),u=!1,d=o>0,m=0,f=0;do{var g=YM(t,l),x=g[0],b=g[1],y=g[2],w=b-y-a*x;(x||w)&&GM(t,l)&&(m+=w,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(m)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},mp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lT=function(t){return[t.deltaX,t.deltaY]},cT=function(t){return t&&"current"in t?t.current:t},KJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZJ=0,Fc=[];function XJ(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),i=p.useState(ZJ++)[0],a=p.useState(qM)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=pq([t.lockRef.current],(t.shards||[]).map(cT),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var w=mp(b),v=n.current,N="deltaX"in b?b.deltaX:v[0]-w[0],I="deltaY"in b?b.deltaY:v[1]-w[1],V,z=b.target,A=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in b&&A==="h"&&z.type==="range")return!1;var C=oT(A,z);if(!C)return!0;if(C?V=A:(V=A==="v"?"h":"v",C=oT(A,z)),!C)return!1;if(!s.current&&"changedTouches"in b&&(N||I)&&(s.current=V),!V)return!0;var R=s.current||V;return YJ(R,y,b,R==="h"?N:I,!0)},[]),c=p.useCallback(function(b){var y=b;if(!(!Fc.length||Fc[Fc.length-1]!==a)){var w="deltaY"in y?lT(y):mp(y),v=e.current.filter(function(V){return V.name===y.type&&(V.target===y.target||y.target===V.shadowParent)&&KJ(V.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var N=(o.current.shards||[]).map(cT).filter(Boolean).filter(function(V){return V.contains(y.target)}),I=N.length>0?l(y,N[0]):!o.current.noIsolation;I&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(b,y,w,v){var N={name:b,delta:y,target:w,should:v,shadowParent:JJ(w)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(I){return I!==N})},1)},[]),d=p.useCallback(function(b){n.current=mp(b),s.current=void 0},[]),m=p.useCallback(function(b){u(b.type,lT(b),b.target,l(b,t.lockRef.current))},[]),f=p.useCallback(function(b){u(b.type,mp(b),b.target,l(b,t.lockRef.current))},[]);p.useEffect(function(){return Fc.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Lc),document.addEventListener("touchmove",c,Lc),document.addEventListener("touchstart",d,Lc),function(){Fc=Fc.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,Lc),document.removeEventListener("touchmove",c,Lc),document.removeEventListener("touchstart",d,Lc)}},[]);var g=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(a,{styles:QJ(i)}):null,g?p.createElement($J,{gapMode:t.gapMode}):null)}function JJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eee=kJ(WM,XJ);var lf=p.forwardRef(function(t,e){return p.createElement(My,Oi({},t,{ref:e,sideCar:eee}))});lf.classNames=My.classNames;var tee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vc=new WeakMap,fp=new WeakMap,pp={},w0=0,KM=function(t){return t&&(t.host||KM(t.parentNode))},nee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=KM(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},see=function(t,e,n,s){var i=nee(e,Array.isArray(t)?t:[t]);pp[n]||(pp[n]=new WeakMap);var a=pp[n],o=[],l=new Set,c=new Set(i),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};i.forEach(u);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(s),x=g!==null&&g!=="false",b=(Vc.get(f)||0)+1,y=(a.get(f)||0)+1;Vc.set(f,b),a.set(f,y),o.push(f),b===1&&x&&fp.set(f,!0),y===1&&f.setAttribute(n,"true"),x||f.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),l.clear(),w0++,function(){o.forEach(function(m){var f=Vc.get(m)-1,g=a.get(m)-1;Vc.set(m,f),a.set(m,g),f||(fp.has(m)||m.removeAttribute(s),fp.delete(m)),g||m.removeAttribute(n)}),w0--,w0||(Vc=new WeakMap,Vc=new WeakMap,fp=new WeakMap,pp={})}},Oy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=tee(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),see(s,i,n,"aria-hidden")):function(){return null}},Y_="Dialog",[QM,foe]=Xr(Y_),[ree,_i]=QM(Y_),ZM=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=xi({prop:s,defaultProp:i,onChange:a});return r.jsx(ree,{scope:e,triggerRef:l,contentRef:c,contentId:Br(),titleId:Br(),descriptionId:Br(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(m=>!m),[d]),modal:o,children:n})};ZM.displayName=Y_;var XM="DialogTrigger",JM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_i(XM,n),a=ht(e,i.triggerRef);return r.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Z_(i.open),...s,ref:a,onClick:we(t.onClick,i.onOpenToggle)})});JM.displayName=XM;var K_="DialogPortal",[iee,eO]=QM(K_,{forceMount:void 0}),tO=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,a=_i(K_,e);return r.jsx(iee,{scope:e,forceMount:n,children:p.Children.map(s,o=>r.jsx(nr,{present:n||a.open,children:r.jsx(ad,{asChild:!0,container:i,children:o})}))})};tO.displayName=K_;var cx="DialogOverlay",nO=p.forwardRef((t,e)=>{const n=eO(cx,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=_i(cx,t.__scopeDialog);return a.modal?r.jsx(nr,{present:s||a.open,children:r.jsx(aee,{...i,ref:e})}):null});nO.displayName=cx;var aee=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_i(cx,n);return r.jsx(lf,{as:Qi,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ve.div,{"data-state":Z_(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),pc="DialogContent",sO=p.forwardRef((t,e)=>{const n=eO(pc,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=_i(pc,t.__scopeDialog);return r.jsx(nr,{present:s||a.open,children:a.modal?r.jsx(oee,{...i,ref:e}):r.jsx(lee,{...i,ref:e})})});sO.displayName=pc;var oee=p.forwardRef((t,e)=>{const n=_i(pc,t.__scopeDialog),s=p.useRef(null),i=ht(e,n.contentRef,s);return p.useEffect(()=>{const a=s.current;if(a)return Oy(a)},[]),r.jsx(rO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:we(t.onFocusOutside,a=>a.preventDefault())})}),lee=p.forwardRef((t,e)=>{const n=_i(pc,t.__scopeDialog),s=p.useRef(!1),i=p.useRef(!1);return r.jsx(rO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),rO=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=_i(pc,n),c=p.useRef(null),u=ht(e,c);return Dy(),r.jsxs(r.Fragment,{children:[r.jsx(of,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(jc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Z_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(cee,{titleId:l.titleId}),r.jsx(dee,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Q_="DialogTitle",iO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_i(Q_,n);return r.jsx(Ve.h2,{id:i.titleId,...s,ref:e})});iO.displayName=Q_;var aO="DialogDescription",oO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_i(aO,n);return r.jsx(Ve.p,{id:i.descriptionId,...s,ref:e})});oO.displayName=aO;var lO="DialogClose",cO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_i(lO,n);return r.jsx(Ve.button,{type:"button",...s,ref:e,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});cO.displayName=lO;function Z_(t){return t?"open":"closed"}var uO="DialogTitleWarning",[poe,dO]=SV(uO,{contentName:pc,titleName:Q_,docsSlug:"dialog"}),cee=({titleId:t})=>{const e=dO(uO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uee="DialogDescriptionWarning",dee=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dO(uee).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},hO=ZM,mO=JM,fO=tO,Ly=nO,Fy=sO,Vy=iO,Uy=oO,$y=cO;const bn=hO,di=mO,hee=fO,mee=$y,pO=p.forwardRef(({className:t,...e},n)=>r.jsx(Ly,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pO.displayName=Ly.displayName;const mn=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(hee,{children:[r.jsx(pO,{}),r.jsxs(Fy,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,r.jsxs($y,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=Fy.displayName;const fn=({className:t,...e})=>r.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fn.displayName="DialogHeader";const An=({className:t,...e})=>r.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});An.displayName="DialogFooter";const pn=p.forwardRef(({className:t,...e},n)=>r.jsx(Vy,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));pn.displayName=Vy.displayName;const Uo=p.forwardRef(({className:t,...e},n)=>r.jsx(Uy,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));Uo.displayName=Uy.displayName;function bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Er(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Fn(t,e){const n=bt(t);return isNaN(e)?Er(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function tr(t,e){const n=bt(t);if(isNaN(e))return Er(t,NaN);if(!e)return n;const s=n.getDate(),i=Er(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return s>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}const X_=6048e5,fee=864e5;let pee={};function cf(){return pee}function Zr(t,e){var l,c,u,d;const n=cf(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=bt(t),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function gc(t){return Zr(t,{weekStartsOn:1})}function gO(t){const e=bt(t),n=e.getFullYear(),s=Er(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=gc(s),a=Er(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=gc(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function td(t){const e=bt(t);return e.setHours(0,0,0,0),e}function ux(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ui(t,e){const n=td(t),s=td(e),i=+n-ux(n),a=+s-ux(s);return Math.round((i-a)/fee)}function gee(t){const e=gO(t),n=Er(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),gc(n)}function Bw(t,e){const n=e*7;return Fn(t,n)}function xee(t,e){return tr(t,e*12)}function yee(t){let e;return t.forEach(function(n){const s=bt(n);(e===void 0||e<s||isNaN(Number(s)))&&(e=s)}),e||new Date(NaN)}function vee(t){let e;return t.forEach(n=>{const s=bt(n);(!e||e>s||isNaN(+s))&&(e=s)}),e||new Date(NaN)}function Bn(t,e){const n=td(t),s=td(e);return+n==+s}function J_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bee(t){if(!J_(t)&&typeof t!="number")return!1;const e=bt(t);return!isNaN(Number(e))}function Cm(t,e){const n=bt(t),s=bt(e),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function wee(t,e,n){const s=Zr(t,n),i=Zr(e,n),a=+s-ux(s),o=+i-ux(i);return Math.round((a-o)/X_)}function uf(t){const e=bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ps(t){const e=bt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function xO(t){const e=bt(t),n=Er(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function df(t,e){var l,c,u,d;const n=cf(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=bt(t),a=i.getDay(),o=(a<s?-7:0)+6-(a-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function yO(t){return df(t,{weekStartsOn:1})}const jee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nee=(t,e,n)=>{let s;const i=jee[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function j0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _ee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},See={date:j0({formats:_ee,defaultWidth:"full"}),time:j0({formats:Cee,defaultWidth:"full"}),dateTime:j0({formats:Eee,defaultWidth:"full"})},kee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tee=(t,e,n,s)=>kee[t];function Hd(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Iee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ree={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oee=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Lee={ordinalNumber:Oee,era:Hd({values:Iee,defaultWidth:"wide"}),quarter:Hd({values:Ree,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hd({values:Aee,defaultWidth:"wide"}),day:Hd({values:Pee,defaultWidth:"wide"}),dayPeriod:Hd({values:Dee,defaultWidth:"wide",formattingValues:Mee,defaultFormattingWidth:"wide"})};function Gd(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Vee(l,m=>m.test(o)):Fee(l,m=>m.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Fee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Vee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Uee(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const $ee=/^(\d+)(th|st|nd|rd)?/i,Bee=/\d+/i,zee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wee={any:[/^b/i,/^(a|c)/i]},qee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hee={any:[/1/i,/2/i,/3/i,/4/i]},Gee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jee={ordinalNumber:Uee({matchPattern:$ee,parsePattern:Bee,valueCallback:t=>parseInt(t,10)}),era:Gd({matchPatterns:zee,defaultMatchWidth:"wide",parsePatterns:Wee,defaultParseWidth:"any"}),quarter:Gd({matchPatterns:qee,defaultMatchWidth:"wide",parsePatterns:Hee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gd({matchPatterns:Gee,defaultMatchWidth:"wide",parsePatterns:Yee,defaultParseWidth:"any"}),day:Gd({matchPatterns:Kee,defaultMatchWidth:"wide",parsePatterns:Qee,defaultParseWidth:"any"}),dayPeriod:Gd({matchPatterns:Zee,defaultMatchWidth:"any",parsePatterns:Xee,defaultParseWidth:"any"})},vO={code:"en-US",formatDistance:Nee,formatLong:See,formatRelative:Tee,localize:Lee,match:Jee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ete(t){const e=bt(t);return Ui(e,xO(e))+1}function bO(t){const e=bt(t),n=+gc(e)-+gee(e);return Math.round(n/X_)+1}function wO(t,e){var d,m,f,g;const n=bt(t),s=n.getFullYear(),i=cf(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Er(t,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=Zr(o,e),c=Er(t,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=Zr(c,e);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function tte(t,e){var l,c,u,d;const n=cf(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=wO(t,e),a=Er(t,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),Zr(a,e)}function jO(t,e){const n=bt(t),s=+Zr(n,e)-+tte(n,e);return Math.round(s/X_)+1}function It(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const to={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return It(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):It(n+1,2)},d(t,e){return It(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return It(t.getHours()%12||12,e.length)},H(t,e){return It(t.getHours(),e.length)},m(t,e){return It(t.getMinutes(),e.length)},s(t,e){return It(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return It(i,e.length)}},Uc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uT={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return to.y(t,e)},Y:function(t,e,n,s){const i=wO(t,s),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return It(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):It(a,e.length)},R:function(t,e){const n=gO(t);return It(n,e.length)},u:function(t,e){const n=t.getFullYear();return It(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return It(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return It(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return to.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return It(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=jO(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):It(i,e.length)},I:function(t,e,n){const s=bO(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):It(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):to.d(t,e)},D:function(t,e,n){const s=ete(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):It(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return It(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return It(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return It(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=Uc.noon:s===0?i=Uc.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=Uc.evening:s>=12?i=Uc.afternoon:s>=4?i=Uc.morning:i=Uc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return to.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):to.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):It(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):It(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):to.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):to.s(t,e)},S:function(t,e){return to.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return hT(s);case"XXXX":case"XX":return jl(s);case"XXXXX":case"XXX":default:return jl(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return hT(s);case"xxxx":case"xx":return jl(s);case"xxxxx":case"xxx":default:return jl(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dT(s,":");case"OOOO":default:return"GMT"+jl(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dT(s,":");case"zzzz":default:return"GMT"+jl(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return It(s,e.length)},T:function(t,e,n){const s=t.getTime();return It(s,e.length)}};function dT(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+e+It(a,2)}function hT(t,e){return t%60===0?(t>0?"-":"+")+It(Math.abs(t)/60,2):jl(t,e)}function jl(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=It(Math.trunc(s/60),2),a=It(s%60,2);return n+i+e+a}const mT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},NO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return mT(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",mT(s,e)).replace("{{time}}",NO(i,e))},ste={p:NO,P:nte},rte=/^D+$/,ite=/^Y+$/,ate=["D","DD","YY","YYYY"];function ote(t){return rte.test(t)}function lte(t){return ite.test(t)}function cte(t,e,n){const s=ute(t,e,n);if(console.warn(s),ate.includes(t))throw new RangeError(s)}function ute(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mte=/^'([^]*?)'?$/,fte=/''/g,pte=/[a-zA-Z]/;function Ft(t,e,n){var d,m,f,g,x,b,y,w;const s=cf(),i=(n==null?void 0:n.locale)??s.locale??vO,a=(n==null?void 0:n.firstWeekContainsDate)??((m=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((b=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((w=(y=s.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=bt(t);if(!bee(l))throw new RangeError("Invalid time value");let c=e.match(hte).map(v=>{const N=v[0];if(N==="p"||N==="P"){const I=ste[N];return I(v,i.formatLong)}return v}).join("").match(dte).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const N=v[0];if(N==="'")return{isToken:!1,value:gte(v)};if(uT[N])return{isToken:!0,value:v};if(N.match(pte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const N=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lte(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ote(N))&&cte(N,e,String(t));const I=uT[N[0]];return I(l,N,i.localize,u)}).join("")}function gte(t){const e=t.match(mte);return e?e[1].replace(fte,"'"):t}function xte(t){const e=bt(t),n=e.getFullYear(),s=e.getMonth(),i=Er(t,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function yte(t){return Math.trunc(+bt(t)/1e3)}function vte(t){const e=bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function bte(t,e){return wee(vte(t),ps(t),e)+1}function dx(t,e){const n=bt(t),s=bt(e);return n.getTime()>s.getTime()}function ka(t,e){const n=bt(t),s=bt(e);return+n<+s}function xc(t,e){const n=bt(t),s=bt(e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function wte(t,e){const n=bt(t),s=bt(e);return n.getFullYear()===s.getFullYear()}function N0(t,e){return Fn(t,-e)}function _0(t,e){const n=bt(t),s=n.getFullYear(),i=n.getDate(),a=Er(t,0);a.setFullYear(s,e,15),a.setHours(0,0,0,0);const o=xte(a);return n.setMonth(e,Math.min(i,o)),n}function fT(t,e){const n=bt(t);return isNaN(+n)?Er(t,NaN):(n.setFullYear(e),n)}function _O(t,e){return tr(t,-e)}var Ge=function(){return Ge=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ge.apply(this,arguments)};function jte(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function CO(t,e,n){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function hf(t){return t.mode==="multiple"}function mf(t){return t.mode==="range"}function By(t){return t.mode==="single"}var Nte={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _te(t,e){return Ft(t,"LLLL y",e)}function Cte(t,e){return Ft(t,"d",e)}function Ete(t,e){return Ft(t,"LLLL",e)}function Ste(t){return"".concat(t)}function kte(t,e){return Ft(t,"cccccc",e)}function Tte(t,e){return Ft(t,"yyyy",e)}var Ite=Object.freeze({__proto__:null,formatCaption:_te,formatDay:Cte,formatMonthCaption:Ete,formatWeekNumber:Ste,formatWeekdayName:kte,formatYearCaption:Tte}),Rte=function(t,e,n){return Ft(t,"do MMMM (EEEE)",n)},Ate=function(){return"Month: "},Pte=function(){return"Go to next month"},Dte=function(){return"Go to previous month"},Mte=function(t,e){return Ft(t,"cccc",e)},Ote=function(t){return"Week n. ".concat(t)},Lte=function(){return"Year: "},Fte=Object.freeze({__proto__:null,labelDay:Rte,labelMonthDropdown:Ate,labelNext:Pte,labelPrevious:Dte,labelWeekNumber:Ote,labelWeekday:Mte,labelYearDropdown:Lte});function Vte(){var t="buttons",e=Nte,n=vO,s={},i={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:Ite,labels:Fte,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Ute(t){var e=t.fromYear,n=t.toYear,s=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return s?a=ps(s):e&&(a=new Date(e,0,1)),i?o=uf(i):n&&(o=new Date(n,11,31)),{fromDate:a?td(a):void 0,toDate:o?td(o):void 0}}var EO=p.createContext(void 0);function $te(t){var e,n=t.initialProps,s=Vte(),i=Ute(n),a=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:s.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(By(n)||hf(n)||mf(n))&&(c=n.onSelect);var u=Ge(Ge(Ge({},s),n),{captionLayout:l,classNames:Ge(Ge({},s.classNames),n.classNames),components:Ge({},n.components),formatters:Ge(Ge({},s.formatters),n.formatters),fromDate:a,labels:Ge(Ge({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Ge(Ge({},s.modifiers),n.modifiers),modifiersClassNames:Ge(Ge({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ge(Ge({},s.styles),n.styles),toDate:o});return r.jsx(EO.Provider,{value:u,children:t.children})}function zt(){var t=p.useContext(EO);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function SO(t){var e=zt(),n=e.locale,s=e.classNames,i=e.styles,a=e.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function Bte(t){return r.jsx("svg",Ge({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kO(t){var e,n,s=t.onChange,i=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,u=zt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Bte;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),r.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:s,children:a}),r.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function zte(t){var e,n=zt(),s=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var m=[];if(wte(s,i))for(var f=ps(s),g=s.getMonth();g<=i.getMonth();g++)m.push(_0(f,g));else for(var f=ps(new Date),g=0;g<=11;g++)m.push(_0(f,g));var x=function(y){var w=Number(y.target.value),v=_0(ps(t.displayMonth),w);t.onChange(v)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:kO;return r.jsx(b,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:m.map(function(y){return r.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function Wte(t){var e,n=t.displayMonth,s=zt(),i=s.fromDate,a=s.toDate,o=s.locale,l=s.styles,c=s.classNames,u=s.components,d=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,f=[];if(!i)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});for(var g=i.getFullYear(),x=a.getFullYear(),b=g;b<=x;b++)f.push(fT(xO(new Date),b));var y=function(v){var N=fT(ps(n),Number(v.target.value));t.onChange(N)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:kO;return r.jsx(w,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(v){return r.jsx("option",{value:v.getFullYear(),children:d(v,{locale:o})},v.getFullYear())})})}function qte(t,e){var n=p.useState(t),s=n[0],i=n[1],a=e===void 0?s:e;return[a,i]}function Hte(t){var e=t.month,n=t.defaultMonth,s=t.today,i=e||n||s||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&Cm(a,i)<0){var u=-1*(c-1);i=tr(a,u)}return o&&Cm(i,o)<0&&(i=o),ps(i)}function Gte(){var t=zt(),e=Hte(t),n=qte(e,t.month),s=n[0],i=n[1],a=function(o){var l;if(!t.disableNavigation){var c=ps(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[s,a]}function Yte(t,e){for(var n=e.reverseMonths,s=e.numberOfMonths,i=ps(t),a=ps(tr(i,s)),o=Cm(a,i),l=[],c=0;c<o;c++){var u=tr(i,c);l.push(u)}return n&&(l=l.reverse()),l}function Kte(t,e){if(!e.disableNavigation){var n=e.toDate,s=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=s?a:1,l=ps(t);if(!n)return tr(l,o);var c=Cm(n,t);if(!(c<a))return tr(l,o)}}function Qte(t,e){if(!e.disableNavigation){var n=e.fromDate,s=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=s?a:1,l=ps(t);if(!n)return tr(l,-o);var c=Cm(l,n);if(!(c<=0))return tr(l,-o)}}var TO=p.createContext(void 0);function Zte(t){var e=zt(),n=Gte(),s=n[0],i=n[1],a=Yte(s,e),o=Kte(s,e),l=Qte(s,e),c=function(m){return a.some(function(f){return xc(m,f)})},u=function(m,f){c(m)||(f&&ka(m,f)?i(tr(m,1+e.numberOfMonths*-1)):i(m))},d={currentMonth:s,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return r.jsx(TO.Provider,{value:d,children:t.children})}function ff(){var t=p.useContext(TO);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function pT(t){var e,n=zt(),s=n.classNames,i=n.styles,a=n.components,o=ff().goToMonth,l=function(d){o(tr(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:SO,u=r.jsx(c,{id:t.id,displayMonth:t.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:u}),r.jsx(zte,{onChange:l,displayMonth:t.displayMonth}),r.jsx(Wte,{onChange:l,displayMonth:t.displayMonth})]})}function Xte(t){return r.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Jte(t){return r.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hx=p.forwardRef(function(t,e){var n=zt(),s=n.classNames,i=n.styles,a=[s.button_reset,s.button];t.className&&a.push(t.className);var o=a.join(" "),l=Ge(Ge({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),r.jsx("button",Ge({},t,{ref:e,type:"button",className:o,style:l}))});function ene(t){var e,n,s=zt(),i=s.dir,a=s.locale,o=s.classNames,l=s.styles,c=s.labels,u=c.labelPrevious,d=c.labelNext,m=s.components;if(!t.nextMonth&&!t.previousMonth)return r.jsx(r.Fragment,{});var f=u(t.previousMonth,{locale:a}),g=[o.nav_button,o.nav_button_previous].join(" "),x=d(t.nextMonth,{locale:a}),b=[o.nav_button,o.nav_button_next].join(" "),y=(e=m==null?void 0:m.IconRight)!==null&&e!==void 0?e:Jte,w=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:Xte;return r.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&r.jsx(hx,{name:"previous-month","aria-label":f,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?r.jsx(y,{className:o.nav_icon,style:l.nav_icon}):r.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&r.jsx(hx,{name:"next-month","aria-label":x,className:b,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?r.jsx(w,{className:o.nav_icon,style:l.nav_icon}):r.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function gT(t){var e=zt().numberOfMonths,n=ff(),s=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(x){return xc(t.displayMonth,x)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),m=e>1&&(u||!c),f=function(){s&&a(s)},g=function(){i&&a(i)};return r.jsx(ene,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:m,nextMonth:i,previousMonth:s,onPreviousClick:f,onNextClick:g})}function tne(t){var e,n=zt(),s=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:SO,u;return i?u=r.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=r.jsx(pT,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=r.jsxs(r.Fragment,{children:[r.jsx(pT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),r.jsx(gT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),r.jsx(gT,{displayMonth:t.displayMonth,id:t.id})]}),r.jsx("div",{className:s.caption,style:a.caption,children:u})}function nne(t){var e=zt(),n=e.footer,s=e.styles,i=e.classNames.tfoot;return n?r.jsx("tfoot",{className:i,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function sne(t,e,n){for(var s=n?gc(new Date):Zr(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Fn(s,a);i.push(o)}return i}function rne(){var t=zt(),e=t.classNames,n=t.styles,s=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=sne(i,a,o);return r.jsxs("tr",{style:n.head_row,className:e.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,m){return r.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},m)})]})}function ine(){var t,e=zt(),n=e.classNames,s=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:rne;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(a,{})})}function ane(t){var e=zt(),n=e.locale,s=e.formatters.formatDay;return r.jsx(r.Fragment,{children:s(t.date,{locale:n})})}var e1=p.createContext(void 0);function one(t){if(!hf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return r.jsx(e1.Provider,{value:e,children:t.children})}return r.jsx(lne,{initialProps:t.initialProps,children:t.children})}function lne(t){var e=t.initialProps,n=t.children,s=e.selected,i=e.min,a=e.max,o=function(u,d,m){var f,g;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,m);var x=!!(d.selected&&i&&(s==null?void 0:s.length)===i);if(!x){var b=!!(!d.selected&&a&&(s==null?void 0:s.length)===a);if(!b){var y=s?CO([],s):[];if(d.selected){var w=y.findIndex(function(v){return Bn(u,v)});y.splice(w,1)}else y.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,y,u,d,m)}}},l={disabled:[]};s&&l.disabled.push(function(u){var d=a&&s.length>a-1,m=s.some(function(f){return Bn(f,u)});return!!(d&&!m)});var c={selected:s,onDayClick:o,modifiers:l};return r.jsx(e1.Provider,{value:c,children:n})}function t1(){var t=p.useContext(e1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function cne(t,e){var n=e||{},s=n.from,i=n.to;return s&&i?Bn(i,t)&&Bn(s,t)?void 0:Bn(i,t)?{from:i,to:void 0}:Bn(s,t)?void 0:dx(s,t)?{from:t,to:i}:{from:s,to:t}:i?dx(t,i)?{from:i,to:t}:{from:t,to:i}:s?ka(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var n1=p.createContext(void 0);function une(t){if(!mf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(n1.Provider,{value:e,children:t.children})}return r.jsx(dne,{initialProps:t.initialProps,children:t.children})}function dne(t){var e=t.initialProps,n=t.children,s=e.selected,i=s||{},a=i.from,o=i.to,l=e.min,c=e.max,u=function(g,x,b){var y,w;(y=e.onDayClick)===null||y===void 0||y.call(e,g,x,b);var v=cne(g,s);(w=e.onSelect)===null||w===void 0||w.call(e,v,g,x,b)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Bn(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:N0(a,l-1),before:Fn(a,l-1)}),a&&o&&d.disabled.push({after:a,before:Fn(a,l-1)}),!a&&o&&d.disabled.push({after:N0(o,l-1),before:Fn(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:Fn(a,-c+1)}),d.disabled.push({after:Fn(a,c-1)})),a&&o){var m=Ui(o,a)+1,f=c-m;d.disabled.push({before:N0(a,f)}),d.disabled.push({after:Fn(o,f)})}!a&&o&&(d.disabled.push({before:Fn(o,-c+1)}),d.disabled.push({after:Fn(o,c-1)}))}return r.jsx(n1.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:n})}function s1(){var t=p.useContext(n1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Hp(t){return Array.isArray(t)?CO([],t):t!==void 0?[t]:[]}function hne(t){var e={};return Object.entries(t).forEach(function(n){var s=n[0],i=n[1];e[s]=Hp(i)}),e}var Ni;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ni||(Ni={}));var mne=Ni.Selected,da=Ni.Disabled,fne=Ni.Hidden,pne=Ni.Today,C0=Ni.RangeEnd,E0=Ni.RangeMiddle,S0=Ni.RangeStart,gne=Ni.Outside;function xne(t,e,n){var s,i=(s={},s[mne]=Hp(t.selected),s[da]=Hp(t.disabled),s[fne]=Hp(t.hidden),s[pne]=[t.today],s[C0]=[],s[E0]=[],s[S0]=[],s[gne]=[],s);return t.fromDate&&i[da].push({before:t.fromDate}),t.toDate&&i[da].push({after:t.toDate}),hf(t)?i[da]=i[da].concat(e.modifiers[da]):mf(t)&&(i[da]=i[da].concat(n.modifiers[da]),i[S0]=n.modifiers[S0],i[E0]=n.modifiers[E0],i[C0]=n.modifiers[C0]),i}var IO=p.createContext(void 0);function yne(t){var e=zt(),n=t1(),s=s1(),i=xne(e,n,s),a=hne(e.modifiers),o=Ge(Ge({},i),a);return r.jsx(IO.Provider,{value:o,children:t.children})}function RO(){var t=p.useContext(IO);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function vne(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function bne(t){return!!(t&&typeof t=="object"&&"from"in t)}function wne(t){return!!(t&&typeof t=="object"&&"after"in t)}function jne(t){return!!(t&&typeof t=="object"&&"before"in t)}function Nne(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function _ne(t,e){var n,s=e.from,i=e.to;if(s&&i){var a=Ui(i,s)<0;a&&(n=[i,s],s=n[0],i=n[1]);var o=Ui(t,s)>=0&&Ui(i,t)>=0;return o}return i?Bn(i,t):s?Bn(s,t):!1}function Cne(t){return J_(t)}function Ene(t){return Array.isArray(t)&&t.every(J_)}function Sne(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Cne(n))return Bn(t,n);if(Ene(n))return n.includes(t);if(bne(n))return _ne(t,n);if(Nne(n))return n.dayOfWeek.includes(t.getDay());if(vne(n)){var s=Ui(n.before,t),i=Ui(n.after,t),a=s>0,o=i<0,l=dx(n.before,n.after);return l?o&&a:a||o}return wne(n)?Ui(t,n.after)>0:jne(n)?Ui(n.before,t)>0:typeof n=="function"?n(t):!1})}function r1(t,e,n){var s=Object.keys(e).reduce(function(a,o){var l=e[o];return Sne(t,l)&&a.push(o),a},[]),i={};return s.forEach(function(a){return i[a]=!0}),n&&!xc(t,n)&&(i.outside=!0),i}function kne(t,e){for(var n=ps(t[0]),s=uf(t[t.length-1]),i,a,o=n;o<=s;){var l=r1(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Fn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Fn(o,1)}return a||i}var Tne=365;function AO(t,e){var n=e.moveBy,s=e.direction,i=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,m=i.locale,f={day:Fn,week:Bw,month:tr,year:xee,startOfWeek:function(y){return i.ISOWeek?gc(y):Zr(y,{locale:m,weekStartsOn:c})},endOfWeek:function(y){return i.ISOWeek?yO(y):df(y,{locale:m,weekStartsOn:c})}},g=f[n](t,s==="after"?1:-1);s==="before"&&u?g=yee([u,g]):s==="after"&&d&&(g=vee([d,g]));var x=!0;if(a){var b=r1(g,a);x=!b.disabled&&!b.hidden}return x?g:l.count>Tne?l.lastFocused:AO(g,{moveBy:n,direction:s,context:i,modifiers:a,retry:Ge(Ge({},l),{count:l.count+1})})}var PO=p.createContext(void 0);function Ine(t){var e=ff(),n=RO(),s=p.useState(),i=s[0],a=s[1],o=p.useState(),l=o[0],c=o[1],u=kne(e.displayMonths,n),d=i??(l&&e.isDateDisplayed(l))?l:u,m=function(){c(i),a(void 0)},f=function(y){a(y)},g=zt(),x=function(y,w){if(i){var v=AO(i,{moveBy:y,direction:w,context:g,modifiers:n});Bn(i,v)||(e.goToDate(v,i),f(v))}},b={focusedDay:i,focusTarget:d,blur:m,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return r.jsx(PO.Provider,{value:b,children:t.children})}function i1(){var t=p.useContext(PO);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Rne(t,e){var n=RO(),s=r1(t,n,e);return s}var a1=p.createContext(void 0);function Ane(t){if(!By(t.initialProps)){var e={selected:void 0};return r.jsx(a1.Provider,{value:e,children:t.children})}return r.jsx(Pne,{initialProps:t.initialProps,children:t.children})}function Pne(t){var e=t.initialProps,n=t.children,s=function(a,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,l)},i={selected:e.selected,onDayClick:s};return r.jsx(a1.Provider,{value:i,children:n})}function DO(){var t=p.useContext(a1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Dne(t,e){var n=zt(),s=DO(),i=t1(),a=s1(),o=i1(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,m=o.blur,f=o.focus,g=o.focusMonthBefore,x=o.focusMonthAfter,b=o.focusYearBefore,y=o.focusYearAfter,w=o.focusStartOfWeek,v=o.focusEndOfWeek,N=function(T){var _,U,G,M;By(n)?(_=s.onDayClick)===null||_===void 0||_.call(s,t,e,T):hf(n)?(U=i.onDayClick)===null||U===void 0||U.call(i,t,e,T):mf(n)?(G=a.onDayClick)===null||G===void 0||G.call(a,t,e,T):(M=n.onDayClick)===null||M===void 0||M.call(n,t,e,T)},I=function(T){var _;f(t),(_=n.onDayFocus)===null||_===void 0||_.call(n,t,e,T)},V=function(T){var _;m(),(_=n.onDayBlur)===null||_===void 0||_.call(n,t,e,T)},z=function(T){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,t,e,T)},A=function(T){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,t,e,T)},C=function(T){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,t,e,T)},R=function(T){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,t,e,T)},k=function(T){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,t,e,T)},D=function(T){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,t,e,T)},S=function(T){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,t,e,T)},P=function(T){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,t,e,T)},B=function(T){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,t,e,T)},O=function(T){var _;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?b():g();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?y():x();break;case"Home":T.preventDefault(),T.stopPropagation(),w();break;case"End":T.preventDefault(),T.stopPropagation(),v();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,t,e,T)},$={onClick:N,onFocus:I,onBlur:V,onKeyDown:O,onKeyUp:B,onMouseEnter:z,onMouseLeave:A,onPointerEnter:C,onPointerLeave:R,onTouchCancel:k,onTouchEnd:D,onTouchMove:S,onTouchStart:P};return $}function Mne(){var t=zt(),e=DO(),n=t1(),s=s1(),i=By(t)?e.selected:hf(t)?n.selected:mf(t)?s.selected:void 0;return i}function One(t){return Object.values(Ni).includes(t)}function Lne(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(s){var i=t.modifiersClassNames[s];if(i)n.push(i);else if(One(s)){var a=t.classNames["day_".concat(s)];a&&n.push(a)}}),n}function Fne(t,e){var n=Ge({},t.styles.day);return Object.keys(e).forEach(function(s){var i;n=Ge(Ge({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function Vne(t,e,n){var s,i,a,o=zt(),l=i1(),c=Rne(t,e),u=Dne(t,c),d=Mne(),m=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var z;c.outside||l.focusedDay&&m&&Bn(l.focusedDay,t)&&((z=n.current)===null||z===void 0||z.focus())},[l.focusedDay,t,n,m,c.outside]);var f=Lne(o,c).join(" "),g=Fne(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),b=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:ane,y=r.jsx(b,{date:t,displayMonth:e,activeModifiers:c}),w={style:g,className:f,children:y,role:"gridcell"},v=l.focusTarget&&Bn(l.focusTarget,t)&&!c.outside,N=l.focusedDay&&Bn(l.focusedDay,t),I=Ge(Ge(Ge({},w),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=N||v?0:-1,s)),u),V={isButton:m,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:I,divProps:w};return V}function Une(t){var e=p.useRef(null),n=Vne(t.date,t.displayMonth,e);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(hx,Ge({name:"day",ref:e},n.buttonProps)):r.jsx("div",Ge({},n.divProps))}function $ne(t){var e=t.number,n=t.dates,s=zt(),i=s.onWeekNumberClick,a=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!i)return r.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var m=c(Number(e),{locale:l}),f=function(g){i(e,n,g)};return r.jsx(hx,{name:"week-number","aria-label":m,className:o.weeknumber,style:a.weeknumber,onClick:f,children:d})}function Bne(t){var e,n,s=zt(),i=s.styles,a=s.classNames,o=s.showWeekNumber,l=s.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:Une,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:$ne,d;return o&&(d=r.jsx("td",{className:a.cell,style:i.cell,children:r.jsx(u,{number:t.weekNumber,dates:t.dates})})),r.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(m){return r.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:r.jsx(c,{displayMonth:t.displayMonth,date:m})},yte(m))})]})}function xT(t,e,n){for(var s=n!=null&&n.ISOWeek?yO(e):df(e,n),i=n!=null&&n.ISOWeek?gc(t):Zr(t,n),a=Ui(s,i),o=[],l=0;l<=a;l++)o.push(Fn(i,l));var c=o.reduce(function(u,d){var m=n!=null&&n.ISOWeek?bO(d):jO(d,n),f=u.find(function(g){return g.weekNumber===m});return f?(f.dates.push(d),u):(u.push({weekNumber:m,dates:[d]}),u)},[]);return c}function zne(t,e){var n=xT(ps(t),uf(t),e);if(e!=null&&e.useFixedWeeks){var s=bte(t,e);if(s<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=Bw(a,6-s),l=xT(Bw(a,1),o,e);n.push.apply(n,l)}}return n}function Wne(t){var e,n,s,i=zt(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,m=i.weekStartsOn,f=i.firstWeekContainsDate,g=i.ISOWeek,x=zne(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:a,weekStartsOn:m,firstWeekContainsDate:f}),b=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:ine,y=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Bne,w=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:nne;return r.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&r.jsx(b,{}),r.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(v){return r.jsx(y,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),r.jsx(w,{displayMonth:t.displayMonth})]})}function qne(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hne=qne()?p.useLayoutEffect:p.useEffect,k0=!1,Gne=0;function yT(){return"react-day-picker-".concat(++Gne)}function Yne(t){var e,n=t??(k0?yT():null),s=p.useState(n),i=s[0],a=s[1];return Hne(function(){i===null&&a(yT())},[]),p.useEffect(function(){k0===!1&&(k0=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Kne(t){var e,n,s=zt(),i=s.dir,a=s.classNames,o=s.styles,l=s.components,c=ff().displayMonths,u=Yne(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,m=[a.month],f=o.month,g=t.displayIndex===0,x=t.displayIndex===c.length-1,b=!g&&!x;i==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(m.push(a.caption_start),f=Ge(Ge({},f),o.caption_start)),x&&(m.push(a.caption_end),f=Ge(Ge({},f),o.caption_end)),b&&(m.push(a.caption_between),f=Ge(Ge({},f),o.caption_between));var y=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:tne;return r.jsxs("div",{className:m.join(" "),style:f,children:[r.jsx(y,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),r.jsx(Wne,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Qne(t){var e=zt(),n=e.classNames,s=e.styles;return r.jsx("div",{className:n.months,style:s.months,children:t.children})}function Zne(t){var e,n,s=t.initialProps,i=zt(),a=i1(),o=ff(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var m=Ge(Ge({},i.styles.root),i.style),f=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,b){var y;return Ge(Ge({},x),(y={},y[b]=s[b],y))},{}),g=(n=(e=s.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Qne;return r.jsx("div",Ge({className:d.join(" "),style:m,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:r.jsx(g,{children:o.displayMonths.map(function(x,b){return r.jsx(Kne,{displayIndex:b,displayMonth:x},b)})})}))}function Xne(t){var e=t.children,n=jte(t,["children"]);return r.jsx($te,{initialProps:n,children:r.jsx(Zte,{children:r.jsx(Ane,{initialProps:n,children:r.jsx(one,{initialProps:n,children:r.jsx(une,{initialProps:n,children:r.jsx(yne,{children:r.jsx(Ine,{children:e})})})})})})})}function Jne(t){return r.jsx(Xne,Ge({},t,{children:r.jsx(Zne,{initialProps:t})}))}function MO({className:t,classNames:e,showOutsideDays:n=!0,...s}){return r.jsx(Jne,{showOutsideDays:n,className:Ee("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ee(nw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ee(nw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>r.jsx(eN,{className:"h-4 w-4"}),IconRight:({...i})=>r.jsx(Fr,{className:"h-4 w-4"})},...s})}MO.displayName="Calendar";var o1="Popover",[OO,goe]=Xr(o1,[il]),pf=il(),[ese,dl]=OO(o1),LO=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=pf(e),c=p.useRef(null),[u,d]=p.useState(!1),[m=!1,f]=xi({prop:s,defaultProp:i,onChange:a});return r.jsx(Wx,{...l,children:r.jsx(ese,{scope:e,contentId:Br(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};LO.displayName=o1;var FO="PopoverAnchor",tse=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=dl(FO,n),a=pf(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return p.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(Um,{...a,...s,ref:e})});tse.displayName=FO;var VO="PopoverTrigger",UO=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=dl(VO,n),a=pf(n),o=ht(e,i.triggerRef),l=r.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qO(i.open),...s,ref:o,onClick:we(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(Um,{asChild:!0,...a,children:l})});UO.displayName=VO;var l1="PopoverPortal",[nse,sse]=OO(l1,{forceMount:void 0}),$O=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,a=dl(l1,e);return r.jsx(nse,{scope:e,forceMount:n,children:r.jsx(nr,{present:n||a.open,children:r.jsx(ad,{asChild:!0,container:i,children:s})})})};$O.displayName=l1;var nd="PopoverContent",BO=p.forwardRef((t,e)=>{const n=sse(nd,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,a=dl(nd,t.__scopePopover);return r.jsx(nr,{present:s||a.open,children:a.modal?r.jsx(rse,{...i,ref:e}):r.jsx(ise,{...i,ref:e})})});BO.displayName=nd;var rse=p.forwardRef((t,e)=>{const n=dl(nd,t.__scopePopover),s=p.useRef(null),i=ht(e,s),a=p.useRef(!1);return p.useEffect(()=>{const o=s.current;if(o)return Oy(o)},[]),r.jsx(lf,{as:Qi,allowPinchZoom:!0,children:r.jsx(zO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ise=p.forwardRef((t,e)=>{const n=dl(nd,t.__scopePopover),s=p.useRef(!1),i=p.useRef(!1);return r.jsx(zO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),zO=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...m}=t,f=dl(nd,n),g=pf(n);return Dy(),r.jsx(of,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(jc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:r.jsx(qx,{"data-state":qO(f.open),role:"dialog",id:f.contentId,...g,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),WO="PopoverClose",ase=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=dl(WO,n);return r.jsx(Ve.button,{type:"button",...s,ref:e,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});ase.displayName=WO;var ose="PopoverArrow",lse=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=pf(n);return r.jsx(Hx,{...i,...s,ref:e})});lse.displayName=ose;function qO(t){return t?"open":"closed"}var cse=LO,use=UO,dse=$O,HO=BO;const hse=cse,mse=use,GO=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},i)=>r.jsx(dse,{children:r.jsx(HO,{ref:i,align:e,sideOffset:n,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));GO.displayName=HO.displayName;const fse=Ss.object({title:Ss.string().min(2,{message:"Title must be at least 2 characters."}),description:Ss.string().min(10,{message:"Description must be at least 10 characters."}),location:Ss.string().min(2,{message:"Location must be at least 2 characters."}),date:Ss.date(),image:Ss.string().url({message:"Please enter a valid URL."}),totalSeats:Ss.number().min(1,{message:"Total seats must be at least 1."}).max(1e3,{message:"Total seats cannot exceed 1000"})}),pse=({onClose:t})=>{const e=bs(),[n,s]=p.useState(!1),i=AN({resolver:PN(fse),defaultValues:{title:"",description:"",location:"",date:new Date,image:"",totalSeats:50}}),a=async o=>{s(!0);try{await new Promise(c=>setTimeout(c,1e3));const l={...o,date:o.date.toISOString(),createdBy:"test@example.com"};lx.addEvent(l),_r({title:"Event Created",description:"Your event has been created successfully."}),t(),e("/events")}catch{_r({title:"Something went wrong.",description:"Please try again later.",variant:"destructive"})}finally{s(!1)}};return r.jsx(DN,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[r.jsx(Or,{control:i.control,name:"title",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Event Title"}),r.jsx(ur,{children:r.jsx(me,{placeholder:"Alumni Meetup",...o})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:i.control,name:"description",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Description"}),r.jsx(ur,{children:r.jsx(Rs,{placeholder:"A brief description of the event",className:"resize-none",...o})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:i.control,name:"location",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Location"}),r.jsx(ur,{children:r.jsx(me,{placeholder:"Main Auditorium",...o})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:i.control,name:"date",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Date"}),r.jsxs(hse,{children:[r.jsx(mse,{asChild:!0,children:r.jsx(ur,{children:r.jsxs(W,{variant:"outline",className:Ee("w-[240px] pl-3 text-left font-normal",!o.value&&"text-muted-foreground"),children:[o.value?Ft(o.value,"PPP"):r.jsx("span",{children:"Pick a date"}),r.jsx(lt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),r.jsx(GO,{className:"w-auto p-0",align:"start",side:"bottom",children:r.jsx(MO,{mode:"single",selected:o.value,onSelect:o.onChange,disabled:l=>l<new Date||l>Fn(new Date,365),initialFocus:!0})})]}),r.jsx(dr,{})]})}),r.jsx(Or,{control:i.control,name:"image",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Image URL"}),r.jsx(ur,{children:r.jsx(me,{placeholder:"https://example.com/event.jpg",...o})}),r.jsx(dr,{})]})}),r.jsx(Or,{control:i.control,name:"totalSeats",render:({field:o})=>r.jsxs(lr,{children:[r.jsx(cr,{children:"Total Seats"}),r.jsx(ur,{children:r.jsx(me,{type:"number",placeholder:"50",...o})}),r.jsx(dr,{})]})}),r.jsx(W,{type:"submit",disabled:n,children:n?"Creating...":"Create Event"})]})})},gse=()=>{const t=bs(),e=lx.getEvents(),n=Vi.getCurrentUser(),[s,i]=p.useState(!1),a=o=>{if(!n){_r({title:"Login Required",description:"Please login to register for events",variant:"destructive"}),t("/login");return}lx.registerForEvent(o,n.id),_r({title:"Registration Successful",description:"You have successfully registered for the event"})};return r.jsx("div",{children:r.jsxs("div",{className:"container mx-auto px-4 py-24",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),n&&r.jsxs(bn,{open:s,onOpenChange:i,children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{children:[r.jsx(kl,{className:"mr-2"}),"Create Event"]})}),r.jsxs(mn,{children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Create a New Event"}),r.jsx(Uo,{children:"Fill in the details below to create a new event."})]}),r.jsx(pse,{onClose:()=>i(!1)})]})]})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(o=>r.jsxs(Ct,{className:"overflow-hidden flex flex-col",children:[r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform hover:scale-105 duration-300"})}),r.jsxs(Vn,{children:[r.jsx(Un,{children:o.title}),r.jsxs($n,{className:"flex items-center gap-2",children:[r.jsx(lt,{className:"h-4 w-4"}),new Date(o.date).toLocaleDateString()]})]}),r.jsxs(Bt,{children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:o.description}),r.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Qs,{className:"h-4 w-4"}),o.location]}),r.jsxs("p",{className:"text-sm",children:["Available Seats: ",o.availableSeats," / ",o.totalSeats]})]}),r.jsxs(Ts,{className:"mt-auto",children:[!n&&r.jsxs(W,{onClick:()=>a(o.id),className:"w-full",disabled:o.availableSeats===0,children:[r.jsx(Gh,{className:"mr-2"}),o.availableSeats===0?"Sold Out":"Register"]}),n&&o.createdBy===(n==null?void 0:n.email)&&r.jsx(W,{variant:"outline",onClick:()=>t(`/events/edit/${o.id}`),className:"w-full",children:"Edit Event"})]})]},o.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium",children:"No events found"}),n&&r.jsx("p",{className:"text-muted-foreground mt-1",children:"Create an event to connect with students and alumni."})]})})]})})},xse=od("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function at({className:t,variant:e,...n}){return r.jsx("div",{className:Ee(xse({variant:e}),t),...n})}const zw={getOpportunities:()=>[],addOpportunity:t=>null,updateOpportunity:(t,e)=>null,applyForOpportunity:(t,e)=>{}},yse=()=>{const t=bs(),e=zw.getOpportunities(),n=Vi.getCurrentUser(),s=(n==null?void 0:n.type)==="alumni",i=o=>{if(!n){_r({title:"Login Required",description:"Please login to apply for opportunities",variant:"destructive"}),t("/login");return}zw.applyForOpportunity(o,n.id),_r({title:"Application Submitted",description:"Your application has been submitted successfully"})},a=o=>{switch(o){case"internship":return"secondary";case"full-time":return"default";case"part-time":return"outline";case"contract":return"destructive";default:return"default"}};return r.jsx("div",{children:r.jsxs("div",{className:"container mx-auto px-4 py-24",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Opportunities"}),s&&r.jsxs(W,{onClick:()=>t("/opportunities/create"),children:[r.jsx(kl,{className:"mr-2"}),"Post Opportunity"]})]}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(o=>r.jsxs(Ct,{className:"flex flex-col",children:[r.jsxs(Vn,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(Un,{children:o.title}),r.jsx(at,{variant:a(o.type),children:o.type})]}),r.jsx($n,{children:o.company})]}),r.jsxs(Bt,{children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:o.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Qs,{className:"h-4 w-4"}),o.location]}),r.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[r.jsx(lt,{className:"h-4 w-4"}),"Deadline: ",new Date(o.deadline).toLocaleDateString()]})]})]}),r.jsxs(Ts,{className:"mt-auto",children:[!s&&r.jsxs(W,{onClick:()=>i(o.id),className:"w-full",children:[r.jsx(DR,{className:"mr-2 h-4 w-4"}),"Apply Now"]}),s&&o.createdBy===(n==null?void 0:n.email)&&r.jsx(W,{variant:"outline",onClick:()=>t(`/opportunities/edit/${o.id}`),className:"w-full",children:"Edit Opportunity"})]})]},o.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium",children:"No opportunities found"}),s&&r.jsx("p",{className:"text-muted-foreground mt-1",children:"Post an opportunity to help students connect with your company."})]})})]})})};var vse="Separator",vT="horizontal",bse=["horizontal","vertical"],YO=p.forwardRef((t,e)=>{const{decorative:n,orientation:s=vT,...i}=t,a=wse(s)?s:vT,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(Ve.div,{"data-orientation":a,...l,...i,ref:e})});YO.displayName=vse;function wse(t){return bse.includes(t)}var KO=YO;const Nl=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},i)=>r.jsx(KO,{ref:i,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));Nl.displayName=KO.displayName;const jse=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-gray-50",children:r.jsx("main",{className:"container mx-auto px-4 py-20",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"About BVRIT Narsapur"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Established in 2005, B V Raju Institute of Technology (BVRIT) Narsapur is one of the premier engineering colleges in Telangana, offering quality technical education with a focus on innovation and research."}),r.jsxs(ys,{defaultValue:"overview",className:"w-full",children:[r.jsxs(ns,{className:"grid w-full grid-cols-4",children:[r.jsx(Be,{value:"overview",children:"Overview"}),r.jsx(Be,{value:"academics",children:"Academics"}),r.jsx(Be,{value:"campus",children:"Campus"}),r.jsx(Be,{value:"achievements",children:"Achievements"})]}),r.jsx(st,{value:"overview",className:"mt-6",children:r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center",children:[r.jsx(pU,{className:"mr-2 h-5 w-5 text-primary"})," Institute Vision"]}),r.jsx("p",{className:"text-gray-600",children:"To be a premier engineering institution that prepares students to be future leaders who can address the evolving needs of the industry and society at large."})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center",children:[r.jsx(Pn,{className:"mr-2 h-5 w-5 text-primary"})," Our History"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"BVRIT was established by the Vishnu Educational Society in 2005 under the visionary leadership of Sri B V Raju. From humble beginnings, the institution has grown to become one of the most respected engineering colleges in the region."}),r.jsx("p",{className:"text-gray-600",children:"Over the years, BVRIT has consistently ranked among the top engineering colleges in the state, with numerous accolades for academic excellence, infrastructure, and placements."})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center",children:[r.jsx(Qs,{className:"mr-2 h-5 w-5 text-primary"})," Location"]}),r.jsx("p",{className:"text-gray-600",children:"BVRIT is located in Narsapur, Medak District, Telangana, approximately 70 km from Hyderabad. The campus spans over 100 acres of lush green environment, providing an ideal atmosphere for learning and growth."}),r.jsx("div",{className:"mt-4",children:r.jsxs("a",{href:"https://www.bvrit.ac.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-primary hover:underline mt-2",children:["Visit Official Website ",r.jsx(Lx,{className:"ml-2 h-4 w-4"})]})})]})]})})})}),r.jsx(st,{value:"academics",className:"mt-6",children:r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center",children:[r.jsx(qs,{className:"mr-2 h-5 w-5 text-primary"})," Programs Offered"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"BVRIT offers undergraduate, postgraduate, and doctoral programs in various disciplines of engineering and technology."}),r.jsx("h4",{className:"font-medium text-lg mt-4 mb-2",children:"Undergraduate Programs (B.Tech)"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Computer Science and Engineering"}),r.jsx("li",{children:"Information Technology"}),r.jsx("li",{children:"Electronics and Communication Engineering"}),r.jsx("li",{children:"Electrical and Electronics Engineering"}),r.jsx("li",{children:"Mechanical Engineering"}),r.jsx("li",{children:"Civil Engineering"}),r.jsx("li",{children:"Computer Science and Business Systems"}),r.jsx("li",{children:"Artificial Intelligence and Machine Learning"})]}),r.jsx("h4",{className:"font-medium text-lg mt-4 mb-2",children:"Postgraduate Programs (M.Tech)"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Computer Science and Engineering"}),r.jsx("li",{children:"VLSI and Embedded Systems"}),r.jsx("li",{children:"Power Electronics and Drives"}),r.jsx("li",{children:"CAD/CAM"})]}),r.jsx("h4",{className:"font-medium text-lg mt-4 mb-2",children:"Doctoral Programs (Ph.D)"}),r.jsx("p",{className:"text-gray-600",children:"BVRIT offers Ph.D programs in various engineering disciplines in collaboration with leading research institutions."})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Accreditation and Affiliations"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Approved by AICTE, New Delhi"}),r.jsx("li",{children:"Accredited by NAAC with 'A' Grade"}),r.jsx("li",{children:"NBA Accredited Programs"}),r.jsx("li",{children:"Affiliated to Jawaharlal Nehru Technological University, Hyderabad"}),r.jsx("li",{children:"ISO 9001:2015 Certified Institution"})]})]})]})})})}),r.jsx(st,{value:"campus",className:"mt-6",children:r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Infrastructure"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"BVRIT boasts state-of-the-art infrastructure designed to provide an optimal learning environment for students."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Academic Facilities"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Modern classrooms with multimedia facilities"}),r.jsx("li",{children:"Well-equipped laboratories"}),r.jsx("li",{children:"Central library with vast collection of books and journals"}),r.jsx("li",{children:"Digital learning resources"}),r.jsx("li",{children:"Research centers"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Sports & Recreation"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Indoor sports complex"}),r.jsx("li",{children:"Outdoor sports fields"}),r.jsx("li",{children:"Gymnasium"}),r.jsx("li",{children:"Amphitheater"}),r.jsx("li",{children:"Student activity centers"})]})]})]})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Hostels and Amenities"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"BVRIT provides separate hostel facilities for boys and girls with modern amenities ensuring comfort and safety."}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Well-furnished rooms"}),r.jsx("li",{children:"24/7 security with CCTV surveillance"}),r.jsx("li",{children:"Hygienic mess facilities"}),r.jsx("li",{children:"Wi-Fi connectivity"}),r.jsx("li",{children:"Recreation rooms"}),r.jsx("li",{children:"Medical facilities"})]})]})]})})})}),r.jsx(st,{value:"achievements",className:"mt-6",children:r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center",children:[r.jsx(mU,{className:"mr-2 h-5 w-5 text-primary"})," Notable Achievements"]}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-2",children:[r.jsx("li",{children:"Recognized among the top 100 engineering colleges in India by NIRF"}),r.jsx("li",{children:'Awarded "Best Engineering College" by the Telangana State Government'}),r.jsx("li",{children:"Excellence in Placements Award by CII"}),r.jsx("li",{children:"Best Research Institution Award by JNTUH"}),r.jsx("li",{children:"Green Campus Award for sustainable practices"})]})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Placements"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"BVRIT has an impressive placement record with many students securing positions in renowned companies."}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Key Placement Statistics"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-1",children:[r.jsx("li",{children:"Over 90% placement rate consistently for the past 5 years"}),r.jsx("li",{children:"200+ companies visit the campus annually"}),r.jsx("li",{children:"Highest package: 42 LPA"}),r.jsx("li",{children:"Average package: 8.5 LPA"}),r.jsx("li",{children:"Top recruiters include Microsoft, Amazon, TCS, Infosys, Wipro, and many more"})]})]})]}),r.jsx(Nl,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Alumni Network"}),r.jsx("p",{className:"text-gray-600",children:"BVRIT has a strong alumni network with graduates working in leading organizations worldwide. The alumni regularly contribute to the institution through guest lectures, workshops, and mentoring programs."}),r.jsx("div",{className:"mt-4",children:r.jsx(Gt,{to:"/alumni",className:"text-primary hover:underline",children:"View Alumni Network"})})]})]})})})})]})]})})});var c1="Avatar",[Nse,xoe]=Xr(c1),[_se,QO]=Nse(c1),ZO=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[i,a]=p.useState("idle");return r.jsx(_se,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(Ve.span,{...s,ref:e})})});ZO.displayName=c1;var XO="AvatarImage",JO=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=t,o=QO(XO,n),l=Cse(s,a.referrerPolicy),c=es(u=>{i(u),o.onImageLoadingStatusChange(u)});return Wn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(Ve.img,{...a,ref:e,src:s}):null});JO.displayName=XO;var e6="AvatarFallback",t6=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...i}=t,a=QO(e6,n),[o,l]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(Ve.span,{...i,ref:e}):null});t6.displayName=e6;function Cse(t,e){const[n,s]=p.useState("idle");return Wn(()=>{if(!t){s("error");return}let i=!0;const a=new window.Image,o=l=>()=>{i&&s(l)};return s("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var n6=ZO,s6=JO,r6=t6;const i6=p.forwardRef(({className:t,...e},n)=>r.jsx(n6,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));i6.displayName=n6.displayName;const a6=p.forwardRef(({className:t,...e},n)=>r.jsx(s6,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));a6.displayName=s6.displayName;const o6=p.forwardRef(({className:t,...e},n)=>r.jsx(r6,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));o6.displayName=r6.displayName;const Ese=({alumni:t})=>{const e=t.name.split(" ").map(n=>n[0]).join("").toUpperCase();return r.jsxs(Ct,{className:"h-full flex flex-col",children:[r.jsxs(Vn,{className:"flex flex-row items-center gap-4",children:[r.jsxs(i6,{className:"h-16 w-16",children:[t.profilePicture?r.jsx(a6,{src:t.profilePicture,alt:t.name}):null,r.jsx(o6,{className:"text-lg",children:e})]}),r.jsxs("div",{children:[r.jsx(Un,{children:t.name}),r.jsxs($n,{className:"text-sm",children:[t.position," at ",t.company]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Class of ",t.graduationYear,"  ",t.location]})]})]}),r.jsxs(Bt,{className:"flex-grow",children:[r.jsx("p",{className:"text-sm mb-4",children:t.bio}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.skills.map((n,s)=>r.jsx(at,{variant:"secondary",className:"text-xs",children:n},s))})]}),r.jsx(Ts,{className:"pt-2",children:r.jsxs(W,{variant:"outline",className:"w-full",size:"sm",children:[r.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Connect"]})})]})},bT=()=>{const{section:t}=y7(),e=bs(),n=Vi.getCurrentUser();if(!n)return e("/login"),null;const s=n.type==="student"?n.rollNumber||n.email.substring(0,10):n.position||"",[i,a]=p.useState({name:n.name||"",email:n.email||"",bio:n.bio||"",interests:Array.isArray(n.interests)?n.interests.join(", "):n.interests||"",skills:Array.isArray(n.skills)?n.skills.join(", "):n.skills||"",enrollmentYear:n.enrollmentYear||"",branch:n.branch||"",graduationYear:n.graduationYear||"",company:n.company||"",position:n.position||"",resumeFile:null,resumeUrl:n.resumeUrl||""}),[o,l]=p.useState([]);p.useEffect(()=>{if(n.type==="student"){const x={interests:Array.isArray(n.interests)?n.interests:(n.interests||"").split(",").map(y=>y.trim()).filter(y=>y),skills:Array.isArray(n.skills)?n.skills:(n.skills||"").split(",").map(y=>y.trim()).filter(y=>y)},b=_N(x);l(b)}},[n]);const c=x=>{const{name:b,value:y}=x.target;a(w=>({...w,[b]:y}))},u=x=>{if(x.target.files&&x.target.files[0]){const b=x.target.files[0];a(y=>({...y,resumeFile:b,resumeUrl:URL.createObjectURL(b)})),_r({title:"Resume Selected",description:`File "${b.name}" selected. Click Save Changes to update your profile.`})}},d=()=>{const x={...n,name:i.name,bio:i.bio,interests:i.interests.split(",").map(b=>b.trim()),skills:i.skills.split(",").map(b=>b.trim()),resumeUrl:i.resumeUrl,...n.type==="student"?{enrollmentYear:i.enrollmentYear,branch:i.branch}:{graduationYear:i.graduationYear,company:i.company,position:i.position}};localStorage.setItem("current_user",JSON.stringify(x)),_r({title:"Profile Updated",description:"Your profile information has been updated successfully."})},m=n.type==="student"?lx.getEvents().filter(x=>x.registeredUsers&&x.registeredUsers.includes(n.id)):[],f=n.type==="student"?zw.getOpportunities().filter(x=>x.applicants&&x.applicants.includes(n.id)):[];let g="profile";return t==="registered-events"&&(g="events"),t==="applied-opportunities"&&(g="opportunities"),t==="recommended-alumni"&&(g="recommended"),r.jsx("div",{children:r.jsxs("div",{className:"container mx-auto px-4 py-24",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Profile"}),r.jsxs(ys,{defaultValue:g,className:"w-full",children:[r.jsxs(ns,{className:"mb-6",children:[r.jsxs(Be,{value:"profile",onClick:()=>e("/profile"),children:[r.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Profile Details"]}),n.type==="student"&&r.jsxs(r.Fragment,{children:[r.jsxs(Be,{value:"events",onClick:()=>e("/profile/registered-events"),children:[r.jsx(lt,{className:"mr-2 h-4 w-4"}),"Registered Events"]}),r.jsxs(Be,{value:"opportunities",onClick:()=>e("/profile/applied-opportunities"),children:[r.jsx(hn,{className:"mr-2 h-4 w-4"}),"Applied Opportunities"]}),r.jsxs(Be,{value:"recommended",onClick:()=>e("/profile/recommended-alumni"),children:[r.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Recommended Alumni"]})]})]}),r.jsx(st,{value:"profile",children:r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Personal Information"}),r.jsx($n,{children:"Update your profile information"})]}),r.jsxs(Bt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"name",children:"Full Name"}),r.jsx(me,{id:"name",name:"name",value:i.name,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"email",children:"Email"}),r.jsx(me,{id:"email",name:"email",value:i.email,disabled:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]})]}),n.type==="student"?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"rollNumber",children:"Roll Number/ID"}),r.jsx(me,{id:"rollNumber",name:"rollNumber",value:s,disabled:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"ID cannot be changed"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"enrollmentYear",children:"Enrollment Year"}),r.jsx(me,{id:"enrollmentYear",name:"enrollmentYear",value:i.enrollmentYear,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"branch",children:"Branch"}),r.jsx(me,{id:"branch",name:"branch",value:i.branch,onChange:c})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"position",children:"Position"}),r.jsx(me,{id:"position",name:"position",value:i.position,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"graduationYear",children:"Graduation Year"}),r.jsx(me,{id:"graduationYear",name:"graduationYear",value:i.graduationYear,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"company",children:"Company"}),r.jsx(me,{id:"company",name:"company",value:i.company,onChange:c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"interests",children:"Interests"}),r.jsx(me,{id:"interests",name:"interests",value:i.interests,onChange:c,placeholder:"Separate with commas"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate interests with commas"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"skills",children:"Skills"}),r.jsx(me,{id:"skills",name:"skills",value:i.skills,onChange:c,placeholder:"Separate with commas (e.g. JavaScript, React, Python)"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate skills with commas"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"bio",children:"Bio"}),r.jsx(Rs,{id:"bio",name:"bio",value:i.bio,onChange:c,placeholder:"Tell us about yourself",rows:4})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(be,{htmlFor:"resume",children:"Resume"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{variant:"outline",onClick:()=>{var x;return(x=document.getElementById("resume-upload"))==null?void 0:x.click()},type:"button",children:[r.jsx(jU,{className:"mr-2 h-4 w-4"}),i.resumeUrl?"Change Resume":"Attach Resume"]}),r.jsx(me,{id:"resume-upload",name:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:u,className:"hidden"}),i.resumeUrl&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("a",{href:i.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Resume"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload your resume (PDF, DOC, or DOCX)"})]})]}),r.jsx(Ts,{children:r.jsxs(W,{onClick:d,children:[r.jsx(zl,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}),r.jsx(st,{value:"events",children:r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Registered Events"}),r.jsx($n,{children:"Events you have registered for"})]}),r.jsx(Bt,{children:m.length>0?r.jsx("div",{className:"grid gap-4",children:m.map(x=>r.jsxs("div",{className:"border rounded-md p-4",children:[r.jsx("div",{className:"font-medium",children:x.title}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(x.date).toLocaleDateString()}),r.jsx("div",{className:"text-sm mt-2",children:x.location})]},x.id))}):r.jsx("p",{className:"text-muted-foreground",children:"You have not registered for any events yet."})}),r.jsx(Ts,{children:r.jsx(W,{variant:"outline",onClick:()=>e("/events"),children:"Browse Events"})})]})}),r.jsx(st,{value:"opportunities",children:r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Applied Opportunities"}),r.jsx($n,{children:"Opportunities you have applied for"})]}),r.jsx(Bt,{children:f.length>0?r.jsx("div",{className:"grid gap-4",children:f.map(x=>r.jsxs("div",{className:"border rounded-md p-4",children:[r.jsx("div",{className:"font-medium",children:x.title}),r.jsx("div",{className:"text-sm text-muted-foreground",children:x.company}),r.jsxs("div",{className:"text-sm mt-2",children:["Application deadline: ",new Date(x.deadline).toLocaleDateString()]})]},x.id))}):r.jsx("p",{className:"text-muted-foreground",children:"You have not applied for any opportunities yet."})}),r.jsx(Ts,{children:r.jsx(W,{variant:"outline",onClick:()=>e("/opportunities"),children:"Browse Opportunities"})})]})}),r.jsx(st,{value:"recommended",children:r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Recommended Alumni"}),r.jsx($n,{children:"Alumni who match your interests and might be good connections"})]}),r.jsx(Bt,{children:o.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(x=>r.jsx(Ese,{alumni:x},x.id))}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("p",{className:"text-muted-foreground mb-2",children:"No alumni recommendations yet."}),r.jsx("p",{className:"text-sm",children:"Try adding more interests to your profile to get personalized recommendations."})]})}),r.jsx(Ts,{children:r.jsx(W,{variant:"outline",onClick:()=>e("/alumni"),children:"Browse All Alumni"})})]})})]})]})})},Gp=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ee("w-full caption-bottom text-sm",t),...e})}));Gp.displayName="Table";const Yp=p.forwardRef(({className:t,...e},n)=>r.jsx("thead",{ref:n,className:Ee("[&_tr]:border-b",t),...e}));Yp.displayName="TableHeader";const Kp=p.forwardRef(({className:t,...e},n)=>r.jsx("tbody",{ref:n,className:Ee("[&_tr:last-child]:border-0",t),...e}));Kp.displayName="TableBody";const Sse=p.forwardRef(({className:t,...e},n)=>r.jsx("tfoot",{ref:n,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Sse.displayName="TableFooter";const _l=p.forwardRef(({className:t,...e},n)=>r.jsx("tr",{ref:n,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));_l.displayName="TableRow";const Tr=p.forwardRef(({className:t,...e},n)=>r.jsx("th",{ref:n,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Tr.displayName="TableHead";const Ir=p.forwardRef(({className:t,...e},n)=>r.jsx("td",{ref:n,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ir.displayName="TableCell";const kse=p.forwardRef(({className:t,...e},n)=>r.jsx("caption",{ref:n,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));kse.displayName="TableCaption";const Tse=()=>{const[t,e]=p.useState("students"),{data:n,isLoading:s}=z9({queryKey:["alumni"],queryFn:VA.getAlumni}),i=Vi.getStudentDatabase?Vi.getStudentDatabase():[],a=Vi.getVerifiedAlumni?Vi.getVerifiedAlumni():[];return r.jsx(r.Fragment,{children:r.jsxs("main",{className:"container mx-auto px-4 py-20",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Database Details"}),r.jsx("p",{className:"text-muted-foreground",children:"View all students and alumni details stored in the database."})]}),r.jsxs(ys,{value:t,onValueChange:e,className:"w-full",children:[r.jsxs(ns,{className:"grid w-full grid-cols-2 mb-8",children:[r.jsx(Be,{value:"students",children:"Student Records"}),r.jsx(Be,{value:"alumni",children:"Alumni Records"})]}),r.jsx(st,{value:"students",className:"space-y-6",children:r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Student Database Records"}),r.jsx($n,{children:"Student records stored in the system for verification purposes."})]}),r.jsx(Bt,{children:i.length>0?r.jsxs(Gp,{children:[r.jsx(Yp,{children:r.jsxs(_l,{children:[r.jsx(Tr,{children:"Roll Number"}),r.jsx(Tr,{children:"Name"}),r.jsx(Tr,{children:"Email"})]})}),r.jsx(Kp,{children:i.map((o,l)=>r.jsxs(_l,{children:[r.jsx(Ir,{className:"font-medium",children:o.rollNumber}),r.jsx(Ir,{children:o.name}),r.jsx(Ir,{children:o.email})]},l))})]}):r.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No student records found in the database."})})]})}),r.jsxs(st,{value:"alumni",className:"space-y-6",children:[r.jsxs(Ct,{className:"mb-8",children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Verified Alumni Records"}),r.jsx($n,{children:"CSE alumni records used for verification during registration."})]}),r.jsx(Bt,{children:a.length>0?r.jsxs(Gp,{children:[r.jsx(Yp,{children:r.jsxs(_l,{children:[r.jsx(Tr,{children:"College ID"}),r.jsx(Tr,{children:"Name"}),r.jsx(Tr,{children:"Graduation Year"})]})}),r.jsx(Kp,{children:a.map((o,l)=>r.jsxs(_l,{children:[r.jsx(Ir,{className:"font-medium",children:o.collegeId}),r.jsx(Ir,{children:o.name}),r.jsx(Ir,{children:o.graduationYear})]},l))})]}):r.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No verified alumni records found."})})]}),r.jsxs(Ct,{children:[r.jsxs(Vn,{children:[r.jsx(Un,{children:"Alumni Directory"}),r.jsx($n,{children:"Registered alumni in the system."})]}),r.jsx(Bt,{children:s?r.jsx("p",{className:"text-center py-8",children:"Loading alumni data..."}):n&&n.length>0?r.jsxs(Gp,{children:[r.jsx(Yp,{children:r.jsxs(_l,{children:[r.jsx(Tr,{children:"Name"}),r.jsx(Tr,{children:"Company"}),r.jsx(Tr,{children:"Graduation Year"}),r.jsx(Tr,{children:"Skills"}),r.jsx(Tr,{children:"Location"})]})}),r.jsx(Kp,{children:n.map(o=>r.jsxs(_l,{children:[r.jsx(Ir,{className:"font-medium",children:o.name}),r.jsxs(Ir,{children:[o.company," (",o.position,")"]}),r.jsx(Ir,{children:o.graduationYear}),r.jsx(Ir,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.skills.slice(0,2).map((l,c)=>r.jsx(at,{variant:"outline",className:"text-xs",children:l},c)),o.skills.length>2&&r.jsxs(at,{variant:"outline",className:"text-xs",children:["+",o.skills.length-2]})]})}),r.jsx(Ir,{children:o.location})]},o.id))})]}):r.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No alumni found in the directory."})})]})]})]})]})})};function wT(t,[e,n]){return Math.min(n,Math.max(e,t))}function u1(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ise=[" ","Enter","ArrowUp","ArrowDown"],Rse=[" ","Enter"],gf="Select",[zy,Wy,Ase]=Px(gf),[yd,yoe]=Xr(gf,[Ase,il]),qy=il(),[Pse,hl]=yd(gf),[Dse,Mse]=yd(gf),l6=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:f,required:g,form:x}=t,b=qy(e),[y,w]=p.useState(null),[v,N]=p.useState(null),[I,V]=p.useState(!1),z=Wm(u),[A=!1,C]=xi({prop:s,defaultProp:i,onChange:a}),[R,k]=xi({prop:o,defaultProp:l,onChange:c}),D=p.useRef(null),S=y?x||!!y.closest("form"):!0,[P,B]=p.useState(new Set),O=Array.from(P).map($=>$.props.value).join(";");return r.jsx(Wx,{...b,children:r.jsxs(Pse,{required:g,scope:e,trigger:y,onTriggerChange:w,valueNode:v,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:V,contentId:Br(),value:R,onValueChange:k,open:A,onOpenChange:C,dir:z,triggerPointerDownPosRef:D,disabled:f,children:[r.jsx(zy.Provider,{scope:e,children:r.jsx(Dse,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{B(T=>new Set(T).add($))},[]),onNativeOptionRemove:p.useCallback($=>{B(T=>{const _=new Set(T);return _.delete($),_})},[]),children:n})}),S?r.jsxs(P6,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:m,value:R,onChange:$=>k($.target.value),disabled:f,form:x,children:[R===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},O):null]})})};l6.displayName=gf;var c6="SelectTrigger",u6=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,a=qy(n),o=hl(c6,n),l=o.disabled||s,c=ht(e,o.onTriggerChange),u=Wy(n),d=p.useRef("touch"),[m,f,g]=D6(b=>{const y=u().filter(N=>!N.disabled),w=y.find(N=>N.value===o.value),v=M6(y,b,w);v!==void 0&&o.onValueChange(v.value)}),x=b=>{l||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return r.jsx(Um,{asChild:!0,...a,children:r.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":A6(o.value)?"":void 0,...i,ref:c,onClick:we(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&x(b)}),onPointerDown:we(i.onPointerDown,b=>{d.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:we(i.onKeyDown,b=>{const y=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&f(b.key),!(y&&b.key===" ")&&Ise.includes(b.key)&&(x(),b.preventDefault())})})})});u6.displayName=c6;var d6="SelectValue",h6=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=t,c=hl(d6,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,m=ht(e,c.onValueNodeChange);return Wn(()=>{u(d)},[u,d]),r.jsx(Ve.span,{...l,ref:m,style:{pointerEvents:"none"},children:A6(c.value)?r.jsx(r.Fragment,{children:o}):a})});h6.displayName=d6;var Ose="SelectIcon",m6=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return r.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});m6.displayName=Ose;var Lse="SelectPortal",f6=t=>r.jsx(ad,{asChild:!0,...t});f6.displayName=Lse;var yc="SelectContent",p6=p.forwardRef((t,e)=>{const n=hl(yc,t.__scopeSelect),[s,i]=p.useState();if(Wn(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?wc.createPortal(r.jsx(g6,{scope:t.__scopeSelect,children:r.jsx(zy.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),a):null}return r.jsx(x6,{...t,ref:e})});p6.displayName=yc;var ni=10,[g6,ml]=yd(yc),Fse="SelectContentImpl",x6=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:x,hideWhenDetached:b,avoidCollisions:y,...w}=t,v=hl(yc,n),[N,I]=p.useState(null),[V,z]=p.useState(null),A=ht(e,H=>I(H)),[C,R]=p.useState(null),[k,D]=p.useState(null),S=Wy(n),[P,B]=p.useState(!1),O=p.useRef(!1);p.useEffect(()=>{if(N)return Oy(N)},[N]),Dy();const $=p.useCallback(H=>{const[te,...J]=S().map(ve=>ve.ref.current),[ae]=J.slice(-1),ye=document.activeElement;for(const ve of H)if(ve===ye||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===te&&V&&(V.scrollTop=0),ve===ae&&V&&(V.scrollTop=V.scrollHeight),ve==null||ve.focus(),document.activeElement!==ye))return},[S,V]),T=p.useCallback(()=>$([C,N]),[$,C,N]);p.useEffect(()=>{P&&T()},[P,T]);const{onOpenChange:_,triggerPointerDownPosRef:U}=v;p.useEffect(()=>{if(N){let H={x:0,y:0};const te=ae=>{var ye,ve;H={x:Math.abs(Math.round(ae.pageX)-(((ye=U.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((ve=U.current)==null?void 0:ve.y)??0))}},J=ae=>{H.x<=10&&H.y<=10?ae.preventDefault():N.contains(ae.target)||_(!1),document.removeEventListener("pointermove",te),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,_,U]),p.useEffect(()=>{const H=()=>_(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[_]);const[G,M]=D6(H=>{const te=S().filter(ye=>!ye.disabled),J=te.find(ye=>ye.ref.current===document.activeElement),ae=M6(te,H,J);ae&&setTimeout(()=>ae.ref.current.focus())}),Y=p.useCallback((H,te,J)=>{const ae=!O.current&&!J;(v.value!==void 0&&v.value===te||ae)&&(R(H),ae&&(O.current=!0))},[v.value]),L=p.useCallback(()=>N==null?void 0:N.focus(),[N]),X=p.useCallback((H,te,J)=>{const ae=!O.current&&!J;(v.value!==void 0&&v.value===te||ae)&&D(H)},[v.value]),le=s==="popper"?Ww:y6,ne=le===Ww?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:x,hideWhenDetached:b,avoidCollisions:y}:{};return r.jsx(g6,{scope:n,content:N,viewport:V,onViewportChange:z,itemRefCallback:Y,selectedItem:C,onItemLeave:L,itemTextRefCallback:X,focusSelectedItem:T,selectedItemText:k,position:s,isPositioned:P,searchRef:G,children:r.jsx(lf,{as:Qi,allowPinchZoom:!0,children:r.jsx(of,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:we(i,H=>{var te;(te=v.trigger)==null||te.focus({preventScroll:!0}),H.preventDefault()}),children:r.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(le,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),...w,...ne,onPlaced:()=>B(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:we(w.onKeyDown,H=>{const te=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!te&&H.key.length===1&&M(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ae=S().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ye=H.target,ve=ae.indexOf(ye);ae=ae.slice(ve+1)}setTimeout(()=>$(ae)),H.preventDefault()}})})})})})})});x6.displayName=Fse;var Vse="SelectItemAlignedPosition",y6=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,a=hl(yc,n),o=ml(yc,n),[l,c]=p.useState(null),[u,d]=p.useState(null),m=ht(e,A=>d(A)),f=Wy(n),g=p.useRef(!1),x=p.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:w,focusSelectedItem:v}=o,N=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&b&&y&&w){const A=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(a.dir!=="rtl"){const ye=k.left-C.left,ve=R.left-ye,Ue=A.left-ve,Oe=A.width+Ue,Vt=Math.max(Oe,C.width),re=window.innerWidth-ni,qe=wT(ve,[ni,Math.max(ni,re-Vt)]);l.style.minWidth=Oe+"px",l.style.left=qe+"px"}else{const ye=C.right-k.right,ve=window.innerWidth-R.right-ye,Ue=window.innerWidth-A.right-ve,Oe=A.width+Ue,Vt=Math.max(Oe,C.width),re=window.innerWidth-ni,qe=wT(ve,[ni,Math.max(ni,re-Vt)]);l.style.minWidth=Oe+"px",l.style.right=qe+"px"}const D=f(),S=window.innerHeight-ni*2,P=b.scrollHeight,B=window.getComputedStyle(u),O=parseInt(B.borderTopWidth,10),$=parseInt(B.paddingTop,10),T=parseInt(B.borderBottomWidth,10),_=parseInt(B.paddingBottom,10),U=O+$+P+_+T,G=Math.min(y.offsetHeight*5,U),M=window.getComputedStyle(b),Y=parseInt(M.paddingTop,10),L=parseInt(M.paddingBottom,10),X=A.top+A.height/2-ni,le=S-X,ne=y.offsetHeight/2,H=y.offsetTop+ne,te=O+$+H,J=U-te;if(te<=X){const ye=D.length>0&&y===D[D.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-b.offsetTop-b.offsetHeight,Ue=Math.max(le,ne+(ye?L:0)+ve+T),Oe=te+Ue;l.style.height=Oe+"px"}else{const ye=D.length>0&&y===D[0].ref.current;l.style.top="0px";const Ue=Math.max(X,O+b.offsetTop+(ye?Y:0)+ne)+J;l.style.height=Ue+"px",b.scrollTop=te-X+b.offsetTop}l.style.margin=`${ni}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=S+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,u,b,y,w,a.dir,s]);Wn(()=>N(),[N]);const[I,V]=p.useState();Wn(()=>{u&&V(window.getComputedStyle(u).zIndex)},[u]);const z=p.useCallback(A=>{A&&x.current===!0&&(N(),v==null||v(),x.current=!1)},[N,v]);return r.jsx($se,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:z,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:r.jsx(Ve.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});y6.displayName=Vse;var Use="SelectPopperPosition",Ww=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ni,...a}=t,o=qy(n);return r.jsx(qx,{...o,...a,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ww.displayName=Use;var[$se,d1]=yd(yc,{}),qw="SelectViewport",v6=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,a=ml(qw,n),o=d1(qw,n),l=ht(e,a.onViewportChange),c=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(zy.Slot,{scope:n,children:r.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:we(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&m){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-ni*2,b=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),w=Math.max(b,y);if(w<x){const v=w+g,N=Math.min(x,v),I=v-N;m.style.height=N+"px",m.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});v6.displayName=qw;var b6="SelectGroup",[Bse,zse]=yd(b6),Wse=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Br();return r.jsx(Bse,{scope:n,id:i,children:r.jsx(Ve.div,{role:"group","aria-labelledby":i,...s,ref:e})})});Wse.displayName=b6;var w6="SelectLabel",j6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=zse(w6,n);return r.jsx(Ve.div,{id:i.id,...s,ref:e})});j6.displayName=w6;var mx="SelectItem",[qse,N6]=yd(mx),_6=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=t,l=hl(mx,n),c=ml(mx,n),u=l.value===s,[d,m]=p.useState(a??""),[f,g]=p.useState(!1),x=ht(e,v=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,v,s,i)}),b=Br(),y=p.useRef("touch"),w=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(qse,{scope:n,value:s,disabled:i,textId:b,isSelected:u,onItemTextChange:p.useCallback(v=>{m(N=>N||((v==null?void 0:v.textContent)??"").trim())},[]),children:r.jsx(zy.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(Ve.div,{role:"option","aria-labelledby":b,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:we(o.onFocus,()=>g(!0)),onBlur:we(o.onBlur,()=>g(!1)),onClick:we(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:we(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:we(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:we(o.onPointerMove,v=>{var N;y.current=v.pointerType,i?(N=c.onItemLeave)==null||N.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,v=>{var N;v.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:we(o.onKeyDown,v=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&v.key===" "||(Rse.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});_6.displayName=mx;var oh="SelectItemText",C6=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...a}=t,o=hl(oh,n),l=ml(oh,n),c=N6(oh,n),u=Mse(oh,n),[d,m]=p.useState(null),f=ht(e,w=>m(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=p.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Wn(()=>(b(x),()=>y(x)),[b,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(Ve.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wc.createPortal(a.children,o.valueNode):null]})});C6.displayName=oh;var E6="SelectItemIndicator",S6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return N6(E6,n).isSelected?r.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e}):null});S6.displayName=E6;var Hw="SelectScrollUpButton",k6=p.forwardRef((t,e)=>{const n=ml(Hw,t.__scopeSelect),s=d1(Hw,t.__scopeSelect),[i,a]=p.useState(!1),o=ht(e,s.onScrollButtonChange);return Wn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(I6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});k6.displayName=Hw;var Gw="SelectScrollDownButton",T6=p.forwardRef((t,e)=>{const n=ml(Gw,t.__scopeSelect),s=d1(Gw,t.__scopeSelect),[i,a]=p.useState(!1),o=ht(e,s.onScrollButtonChange);return Wn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(I6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});T6.displayName=Gw;var I6=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,a=ml("SelectScrollButton",n),o=p.useRef(null),l=Wy(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Wn(()=>{var d;const u=l().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:we(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:we(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:we(i.onPointerLeave,()=>{c()})})}),Hse="SelectSeparator",R6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return r.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e})});R6.displayName=Hse;var Yw="SelectArrow",Gse=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=qy(n),a=hl(Yw,n),o=ml(Yw,n);return a.open&&o.position==="popper"?r.jsx(Hx,{...i,...s,ref:e}):null});Gse.displayName=Yw;function A6(t){return t===""||t===void 0}var P6=p.forwardRef((t,e)=>{const{value:n,...s}=t,i=p.useRef(null),a=ht(e,i),o=u1(n);return p.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const m=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(m)}},[o,n]),r.jsx(Fm,{asChild:!0,children:r.jsx("select",{...s,ref:a,defaultValue:n})})});P6.displayName="BubbleSelect";function D6(t){const e=es(t),n=p.useRef(""),s=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function M6(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Yse(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Yse(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Kse=l6,O6=u6,Qse=h6,Zse=m6,Xse=f6,L6=p6,Jse=v6,F6=j6,V6=_6,ere=C6,tre=S6,U6=k6,$6=T6,B6=R6;const Jt=Kse,en=Qse,Kt=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(O6,{ref:s,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,r.jsx(Zse,{asChild:!0,children:r.jsx(Jl,{className:"h-4 w-4 opacity-50"})})]}));Kt.displayName=O6.displayName;const z6=p.forwardRef(({className:t,...e},n)=>r.jsx(U6,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Ib,{className:"h-4 w-4"})}));z6.displayName=U6.displayName;const W6=p.forwardRef(({className:t,...e},n)=>r.jsx($6,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Jl,{className:"h-4 w-4"})}));W6.displayName=$6.displayName;const Qt=p.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>r.jsx(Xse,{children:r.jsxs(L6,{ref:i,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[r.jsx(z6,{}),r.jsx(Jse,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(W6,{})]})}));Qt.displayName=L6.displayName;const nre=p.forwardRef(({className:t,...e},n)=>r.jsx(F6,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));nre.displayName=F6.displayName;const pe=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(V6,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(tre,{children:r.jsx(zo,{className:"h-4 w-4"})})}),r.jsx(ere,{children:e})]}));pe.displayName=V6.displayName;const sre=p.forwardRef(({className:t,...e},n)=>r.jsx(B6,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));sre.displayName=B6.displayName;const rre=()=>{const t=bs(),[e,n]=p.useState(!1),[s,i]=p.useState(null),[a,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState({fullName:"",rollNo:"",branch:"",year:"",interests:"",skills:"",linkedinUrl:"",githubUrl:"",intent:""}),m=w=>{const{name:v,value:N}=w.target;d(I=>({...I,[v]:N}))},f=(w,v)=>{d(N=>({...N,[v]:w}))},g=w=>{if(w.target.files&&w.target.files[0]){const v=w.target.files[0];i(v)}},x=w=>{if(w.target.files&&w.target.files[0]){const v=w.target.files[0];o(v);const N=new FileReader;N.onloadend=()=>{c(N.result)},N.readAsDataURL(v)}},b=w=>new Promise((v,N)=>{const I=new FileReader;I.readAsDataURL(w),I.onload=()=>v(I.result),I.onerror=V=>N(V)}),y=async w=>{w.preventDefault(),n(!0);try{const v={};if(a){const z=await b(a);localStorage.setItem(`profilePic_${u.rollNo}`,z),v.profilePictureFilename=a.name,v.profilePictureStorageKey=`profilePic_${u.rollNo}`}if(s){const z=await b(s);localStorage.setItem(`resume_${u.rollNo}`,z),v.resumeFilename=s.name,v.resumeStorageKey=`resume_${u.rollNo}`}const N=dt.currentUser?dt.currentUser.uid:null,I={...u,...v,userId:N,createdAt:Mt()},V=await wr(Ce(ce,"students"),I);localStorage.setItem(`studentProfile_${u.rollNo}`,JSON.stringify({fullName:u.fullName,rollNo:u.rollNo,branch:u.branch,year:u.year,profileDocId:V.id,lastUpdated:new Date().toISOString()})),_r({title:"Profile Created Successfully!",description:"Your profile has been created and is ready for alumni connections."}),t("/student/dashboard")}catch(v){console.error("Error submitting form:",v),_r({title:"Something went wrong",description:v.message||"Please try again later",variant:"destructive"})}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-3xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ts,{className:"h-10 w-10 mr-4"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Student Introduction"})]}),r.jsx("p",{className:"text-lg opacity-90",children:"Tell us about yourself so alumni can connect with you based on your interests and goals."})]}),r.jsxs("form",{onSubmit:y,className:"p-8",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx(Rt,{className:"mr-2 h-5 w-5"}),"Personal Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"fullName",className:"text-gray-700",children:"Full Name"}),r.jsx(me,{id:"fullName",name:"fullName",value:u.fullName,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name",required:!0})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"rollNo",className:"text-gray-700",children:"Roll Number"}),r.jsx(me,{id:"rollNo",name:"rollNo",value:u.rollNo,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your roll number",required:!0})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx(qs,{className:"mr-2 h-5 w-5"}),"Academic Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"branch",className:"text-gray-700",children:"Branch"}),r.jsxs(Jt,{onValueChange:w=>f(w,"branch"),value:u.branch,children:[r.jsx(Kt,{className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",children:r.jsx(en,{placeholder:"Select your branch"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"CSE",children:"Computer Science Engineering"}),r.jsx(pe,{value:"IT",children:"Information Technology"}),r.jsx(pe,{value:"ECE",children:"Electronics & Communication"}),r.jsx(pe,{value:"EEE",children:"Electrical & Electronics"}),r.jsx(pe,{value:"CIVIL",children:"Civil Engineering"}),r.jsx(pe,{value:"MECH",children:"Mechanical Engineering"})]})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"year",className:"text-gray-700",children:"Current Year"}),r.jsxs(Jt,{onValueChange:w=>f(w,"year"),value:u.year,children:[r.jsx(Kt,{className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",children:r.jsx(en,{placeholder:"Select your year"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"1",children:"1st Year"}),r.jsx(pe,{value:"2",children:"2nd Year"}),r.jsx(pe,{value:"3",children:"3rd Year"}),r.jsx(pe,{value:"4",children:"4th Year"})]})]})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx($u,{className:"mr-2 h-5 w-5"}),"Skills & Interests"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"skills",className:"text-gray-700",children:"Technical Skills"}),r.jsx(Rs,{id:"skills",name:"skills",value:u.skills,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Java, Python, React, Machine Learning, Data Analysis (separate with commas)",rows:3})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"interests",className:"text-gray-700",children:"Areas of Interest"}),r.jsx(Rs,{id:"interests",name:"interests",value:u.interests,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Web Development, Artificial Intelligence, Cloud Computing (separate with commas)",rows:3})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx(hn,{className:"mr-2 h-5 w-5"}),"Professional Links"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"linkedinUrl",className:"text-gray-700",children:"LinkedIn Profile URL"}),r.jsx(me,{id:"linkedinUrl",name:"linkedinUrl",value:u.linkedinUrl,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://linkedin.com/in/yourusername"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"githubUrl",className:"text-gray-700",children:"GitHub Profile URL"}),r.jsx(me,{id:"githubUrl",name:"githubUrl",value:u.githubUrl,onChange:m,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://github.com/yourusername"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx(Mi,{className:"mr-2 h-5 w-5"}),"Documents & Photo"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[r.jsx(be,{htmlFor:"profilePicture",className:"text-gray-700 mb-2 block",children:"Profile Picture"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{type:"button",variant:"outline",className:"bg-white border-blue-200 hover:bg-blue-50",onClick:()=>document.getElementById("profilePicture").click(),children:[r.jsx(tc,{className:"mr-2 h-4 w-4"}),a?"Change Photo":"Upload Photo"]}),r.jsx(me,{id:"profilePicture",type:"file",className:"hidden",onChange:x,accept:"image/*"}),a&&r.jsx("span",{className:"text-sm text-blue-700",children:a.name})]}),l&&r.jsx("div",{className:"mt-4",children:r.jsx("img",{src:l,alt:"Profile Preview",className:"h-20 w-20 object-cover rounded-full border-2 border-blue-300"})})]}),r.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100",children:[r.jsx(be,{htmlFor:"resume",className:"text-gray-700 mb-2 block",children:"Resume/CV"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{type:"button",variant:"outline",className:"bg-white border-purple-200 hover:bg-purple-50",onClick:()=>document.getElementById("resume").click(),children:[r.jsx(tc,{className:"mr-2 h-4 w-4"}),s?"Change Resume":"Upload Resume"]}),r.jsx(me,{id:"resume",type:"file",className:"hidden",onChange:g,accept:".pdf,.doc,.docx"}),s&&r.jsx("span",{className:"text-sm text-purple-700",children:s.name})]})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-blue-800",children:"What are you looking for?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${u.intent==="Mentorship"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>f("Mentorship","intent"),children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:`p-3 rounded-full mb-2 ${u.intent==="Mentorship"?"bg-blue-500 text-white":"bg-gray-100"}`,children:r.jsx(ts,{className:"h-6 w-6"})}),r.jsx("h3",{className:"font-medium",children:"Mentorship"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get guidance from experienced alumni"})]})}),r.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${u.intent==="Internship"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>f("Internship","intent"),children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:`p-3 rounded-full mb-2 ${u.intent==="Internship"?"bg-blue-500 text-white":"bg-gray-100"}`,children:r.jsx(hn,{className:"h-6 w-6"})}),r.jsx("h3",{className:"font-medium",children:"Internship"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Find internship opportunities"})]})}),r.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${u.intent==="Career guidance"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>f("Career guidance","intent"),children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:`p-3 rounded-full mb-2 ${u.intent==="Career guidance"?"bg-blue-500 text-white":"bg-gray-100"}`,children:r.jsx(qs,{className:"h-6 w-6"})}),r.jsx("h3",{className:"font-medium",children:"Career Guidance"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get advice on career paths"})]})})]})]})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx(W,{type:"submit",disabled:e,className:"w-full py-6 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:e?"Creating Profile...":"Create My Profile"}),r.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"By submitting, you agree to the platform's terms and conditions."})]})]})]})})})};var h1="Switch",[ire,voe]=Xr(h1),[are,ore]=ire(h1),q6=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...m}=t,[f,g]=p.useState(null),x=ht(e,N=>g(N)),b=p.useRef(!1),y=f?d||!!f.closest("form"):!0,[w=!1,v]=xi({prop:i,defaultProp:a,onChange:u});return r.jsxs(are,{scope:n,checked:w,disabled:l,children:[r.jsx(Ve.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Y6(w),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:we(t.onClick,N=>{v(I=>!I),y&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})}),y&&r.jsx(lre,{control:f,bubbles:!b.current,name:s,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});q6.displayName=h1;var H6="SwitchThumb",G6=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=ore(H6,n);return r.jsx(Ve.span,{"data-state":Y6(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});G6.displayName=H6;var lre=t=>{const{control:e,checked:n,bubbles:s=!0,...i}=t,a=p.useRef(null),o=u1(n),l=uN(e);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&m){const f=new Event("click",{bubbles:s});m.call(c,n),c.dispatchEvent(f)}},[o,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Y6(t){return t?"checked":"unchecked"}var K6=q6,cre=G6;const Hn=p.forwardRef(({className:t,...e},n)=>r.jsx(K6,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:r.jsx(cre,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hn.displayName=K6.displayName;const ure=()=>{const t=bs(),[e,n]=p.useState(!1),[s,i]=p.useState(null),[a,o]=p.useState(null),[l,c]=p.useState({fullName:"",graduationYear:"",branch:"",currentJobTitle:"",companyName:"",yearsOfExperience:"",location:"",linkedinUrl:"",githubUrl:"",areaOfExpertise:"",availableForMentorship:!1,typeOfSupport:[],shortBio:"",skills:"",interests:""}),u=w=>{const{name:v,value:N}=w.target;c(I=>({...I,[v]:N}))},d=(w,v)=>{c(N=>({...N,[v]:w}))},m=w=>{c(v=>({...v,availableForMentorship:w}))},f=w=>{const{value:v,checked:N}=w.target;c(I=>{let V=[...I.typeOfSupport];return N?V.push(v):V=V.filter(z=>z!==v),{...I,typeOfSupport:V}})},g=w=>{w.target.files&&w.target.files[0]&&i(w.target.files[0])},x=w=>{w.target.files&&w.target.files[0]&&o(w.target.files[0])},b=async(w,v)=>{if(!w)return null;const N=Bp(zp,`${v}/${Date.now()}-${w.name}`);return await Fw(N,w),await Vw(N)},y=async w=>{var v;w.preventDefault(),n(!0);try{const N=a?await b(a,"profile-pictures"):null,I=s?await b(s,"resumes"):null,V={...l,profilePictureURL:N,resumeURL:I,userId:((v=dt.currentUser)==null?void 0:v.uid)||"anonymous",createdAt:Mt(),updatedAt:Mt()},z=await wr(Ce(ce,"alumni_profiles"),V);_r({title:"Profile Created Successfully!",description:"Your alumni profile has been saved to our database."}),localStorage.setItem("alumni_profile_id",z.id),t("/alumni/dashboard")}catch(N){console.error("Error creating profile:",N),_r({title:"Something went wrong",description:"Please try again later: "+N.message,variant:"destructive"})}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-3xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ts,{className:"h-12 w-12 mr-4"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Alumni Profile Form"}),r.jsx("p",{className:"mt-2 text-lg opacity-95",children:"Share your professional journey and connect with fellow BVRITians."})]})]})}),r.jsxs("form",{onSubmit:y,className:"p-8",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx(Rt,{className:"mr-3 h-6 w-6"}),"Personal Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"fullName",className:"text-gray-800 font-medium",children:"Full Name"}),r.jsx(me,{id:"fullName",name:"fullName",value:l.fullName,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name",required:!0})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"graduationYear",className:"text-gray-800 font-medium",children:"Graduation Year"}),r.jsx(me,{id:"graduationYear",name:"graduationYear",value:l.graduationYear,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter graduation year",required:!0})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx(hn,{className:"mr-3 h-6 w-6"}),"Professional Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"branch",className:"text-gray-800 font-medium",children:"Branch"}),r.jsxs(Jt,{onValueChange:w=>d(w,"branch"),value:l.branch,children:[r.jsx(Kt,{className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:r.jsx(en,{placeholder:"Select your branch"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"CSE",children:"Computer Science Engineering"}),r.jsx(pe,{value:"IT",children:"Information Technology"}),r.jsx(pe,{value:"ECE",children:"Electronics & Communication"}),r.jsx(pe,{value:"EEE",children:"Electrical & Electronics"}),r.jsx(pe,{value:"CIVIL",children:"Civil Engineering"}),r.jsx(pe,{value:"MECH",children:"Mechanical Engineering"})]})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"currentJobTitle",className:"text-gray-800 font-medium",children:"Current Job Title"}),r.jsx(me,{id:"currentJobTitle",name:"currentJobTitle",value:l.currentJobTitle,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter job title"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"companyName",className:"text-gray-800 font-medium",children:"Company Name"}),r.jsx(me,{id:"companyName",name:"companyName",value:l.companyName,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter company name"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"yearsOfExperience",className:"text-gray-800 font-medium",children:"Experience"}),r.jsxs(Jt,{onValueChange:w=>d(w,"yearsOfExperience"),value:l.yearsOfExperience,children:[r.jsx(Kt,{className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:r.jsx(en,{placeholder:"Select experience"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"0-1",children:"0-1 Year"}),r.jsx(pe,{value:"2-5",children:"2-5 Years"}),r.jsx(pe,{value:"6+",children:"6+ Years"})]})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"location",className:"text-gray-800 font-medium",children:"Location"}),r.jsx(me,{id:"location",name:"location",value:l.location,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter location"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx($u,{className:"mr-3 h-6 w-6"}),"Skills & Interests"]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"skills",className:"text-gray-800 font-medium",children:"Technical Skills"}),r.jsx(Rs,{id:"skills",name:"skills",value:l.skills,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Java, Python, React, Machine Learning...",rows:3})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"interests",className:"text-gray-800 font-medium",children:"Areas of Interest"}),r.jsx(Rs,{id:"interests",name:"interests",value:l.interests,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Web Development, AI, Cloud Computing...",rows:3})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx(Vx,{className:"mr-3 h-6 w-6"}),"Professional Links"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"linkedinUrl",className:"text-gray-800 font-medium",children:"LinkedIn URL"}),r.jsx(me,{id:"linkedinUrl",name:"linkedinUrl",value:l.linkedinUrl,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://linkedin.com/in/username"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"githubUrl",className:"text-gray-800 font-medium",children:"GitHub URL"}),r.jsx(me,{id:"githubUrl",name:"githubUrl",value:l.githubUrl,onChange:u,className:"mt-1 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://github.com/username"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx(qs,{className:"mr-3 h-6 w-6"}),"Mentorship Options"]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"availableForMentorship",className:"text-gray-800 font-medium",children:"Available for Mentorship?"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Toggle to indicate mentorship availability"})]}),r.jsx(Hn,{id:"availableForMentorship",checked:l.availableForMentorship,onCheckedChange:m})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(be,{className:"text-gray-800 font-medium",children:"Support Types"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg",children:[r.jsx(me,{type:"checkbox",id:"mentorship",value:"Mentorship",onChange:f,className:"h-5 w-5"}),r.jsx(be,{htmlFor:"mentorship",className:"text-gray-800",children:"Career Mentorship"})]}),r.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg",children:[r.jsx(me,{type:"checkbox",id:"resumeReview",value:"Resume Review",onChange:f,className:"h-5 w-5"}),r.jsx(be,{htmlFor:"resumeReview",className:"text-gray-800",children:"Resume Review"})]}),r.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg",children:[r.jsx(me,{type:"checkbox",id:"jobReferrals",value:"Job Referrals",onChange:f,className:"h-5 w-5"}),r.jsx(be,{htmlFor:"jobReferrals",className:"text-gray-800",children:"Job Referrals"})]}),r.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg",children:[r.jsx(me,{type:"checkbox",id:"technicalGuidance",value:"Technical Guidance",onChange:f,className:"h-5 w-5"}),r.jsx(be,{htmlFor:"technicalGuidance",className:"text-gray-800",children:"Technical Guidance"})]})]})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-blue-800 border-b pb-3",children:[r.jsx(Mi,{className:"mr-3 h-6 w-6"}),"Documents & Media"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[r.jsx(be,{className:"text-gray-800 font-medium block mb-4",children:"Profile Photo"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{type:"button",variant:"outline",className:"bg-white border-blue-300 hover:bg-blue-100",onClick:()=>document.getElementById("profilePicture").click(),children:[r.jsx(tc,{className:"mr-2 h-5 w-5"}),a?"Change File":"Upload Photo"]}),r.jsx(me,{id:"profilePicture",type:"file",className:"hidden",onChange:x,accept:"image/*"}),a&&r.jsx("span",{className:"text-sm text-blue-700 font-medium",children:a.name})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"JPEG or PNG, max 5MB"})]}),r.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-200",children:[r.jsx(be,{className:"text-gray-800 font-medium block mb-4",children:"Resume/CV"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{type:"button",variant:"outline",className:"bg-white border-purple-300 hover:bg-purple-100",onClick:()=>document.getElementById("resume").click(),children:[r.jsx(tc,{className:"mr-2 h-5 w-5"}),s?"Change File":"Upload Resume"]}),r.jsx(me,{id:"resume",type:"file",className:"hidden",onChange:g,accept:".pdf,.doc,.docx"}),s&&r.jsx("span",{className:"text-sm text-purple-700 font-medium",children:s.name})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"PDF or Word, max 10MB"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-blue-800",children:[r.jsx($u,{className:"mr-2 h-5 w-5"}),"Short Bio / Message to Students"]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"shortBio",className:"text-gray-700",children:"Share a message with students"}),r.jsx(Rs,{id:"shortBio",name:"shortBio",value:l.shortBio,onChange:u,className:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write a short bio or a message to current students",rows:4})]})]})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx(W,{type:"submit",disabled:e,className:"w-full py-6 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:e?"Creating Profile...":"Create My Profile"}),r.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"By submitting, you agree to the platform's terms and conditions."})]})]})]})})})},dre=()=>{const t=bs(),[e,n]=p.useState(null),[s,i]=p.useState(!1),a=l=>{l.target.files&&l.target.files[0]&&n(l.target.files[0])},o=async l=>{l.preventDefault(),i(!0);try{if(!e){Ln.error("Please upload a verification document."),i(!1);return}await new Promise(u=>setTimeout(u,1500));const c=Vi.getCurrentUser();c&&localStorage.setItem("current_user",JSON.stringify({...c,verified:!0})),Ln.success("Your verification document has been sent for review."),t("/alumni/profile-form")}catch(c){console.error("Error sending verification document:",c),Ln.error("Something went wrong. Please try again later.")}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsx("div",{className:"container mx-auto px-4 pt-24 pb-16",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs(Ct,{className:"border-t-4 border-t-blue-600 shadow-md",children:[r.jsxs(Vn,{children:[r.jsx(Un,{className:"text-2xl",children:"Alumni Verification"}),r.jsx($n,{children:"Please upload a document to verify your alumni status"})]}),r.jsx(Bt,{children:r.jsxs("form",{onSubmit:o,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"verificationDocument",children:"Verification Document"}),r.jsx("div",{className:"mt-3 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:r.jsx("div",{className:"space-y-2",children:e?r.jsxs("div",{className:"flex items-center justify-center space-y-2 flex-col",children:[r.jsx(Mi,{className:"h-10 w-10 text-blue-500 mb-2"}),r.jsx("p",{className:"text-sm font-medium",children:e.name}),r.jsx("button",{type:"button",onClick:()=>{var l;return(l=document.getElementById("verificationDocument"))==null?void 0:l.click()},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Change file"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tc,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"flex justify-center text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:"verificationDocument",className:"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx(me,{id:"verificationDocument",name:"verificationDocument",type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:a,className:"sr-only"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, JPG, PNG up to 10MB"})]})})}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Please upload any document that proves your alumni status (degree certificate, transcript, etc.)"})]}),r.jsx(W,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 h-11 mt-6",disabled:s||!e,children:s?"Submitting...":"Submit for Verification"})]})}),r.jsx(Ts,{className:"flex flex-col gap-4 border-t pt-6",children:r.jsx("div",{className:"text-xs text-center text-gray-500",children:"Your document will be reviewed by our team. This process typically takes 1-2 business days."})})]})})})})},hre=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState(""),[o,l]=p.useState(!0),[c,u]=p.useState(null),[d,m]=p.useState({branch:"",graduationYear:"",industry:"",location:"",availability:!1}),[f,g]=p.useState(!1),[x,b]=p.useState(null),[y,w]=p.useState({}),v=["Computer Science Engineering","Information Technology","Electronics and Communication Engineering","Electrical and Electronics Engineering","Mechanical Engineering","Civil Engineering"],N=new Date().getFullYear(),I=Array.from({length:20},(S,P)=>(N-P).toString()),V=["Technology","Finance","Healthcare","Education","Manufacturing","Consulting","E-commerce","Automotive","Energy","Entertainment"];p.useEffect(()=>{(async()=>{l(!0);try{const P=Ce(ce,"alumni_profiles"),B=Me(P,_t("fullName"),Ki(10)),O=await ot(B),$=[];O.forEach(U=>{$.push({id:U.id,...U.data()})}),O.docs.length>0&&u(O.docs[O.docs.length-1]),e($),s($);const T=Ot(Me(P,_t("createdAt","desc"),Ki(5)),U=>{U.docChanges().forEach(G=>{if(G.type==="added"){const M={id:G.doc.id,...G.doc.data()};e(Y=>Y.find(L=>L.id===M.id)?Y:[M,...Y])}})},U=>{console.error("Error in alumni real-time updates:",U)}),_=dt.currentUser;if(_){const U=Ce(ce,"students",_.uid,"mentorships"),G=await ot(U),M={};G.forEach(Y=>{const L=Y.data();L.mentorId&&(M[L.mentorId]=L.status)}),w(M)}return l(!1),T}catch(P){console.error("Error fetching alumni:",P),l(!1)}})()},[]);const z=async()=>{if(c)try{const S=Ce(ce,"alumni_profiles"),P=Me(S,_t("fullName"),KD(c),Ki(10)),B=await ot(P),O=[];if(B.forEach($=>{O.push({id:$.id,...$.data()})}),B.docs.length>0){u(B.docs[B.docs.length-1]),e(T=>[...T,...O]);const $=[...t,...O];A($,i,d)}}catch(S){console.error("Error loading more alumni:",S)}};p.useEffect(()=>{A(t,i,d)},[i,d,t]);const A=(S,P,B)=>{let O=[...S];if(P){const $=P.toLowerCase();O=O.filter(T=>T.fullName&&T.fullName.toLowerCase().includes($)||T.currentRole&&T.currentRole.toLowerCase().includes($)||T.company&&T.company.toLowerCase().includes($)||T.skills&&Array.isArray(T.skills)&&T.skills.some(_=>_.toLowerCase().includes($)))}B.branch&&(O=O.filter($=>$.branch===B.branch)),B.graduationYear&&(O=O.filter($=>$.graduationYear===B.graduationYear)),B.industry&&(O=O.filter($=>$.industry===B.industry)),B.location&&(O=O.filter($=>$.location&&$.location.toLowerCase().includes(B.location.toLowerCase()))),B.availability&&(O=O.filter($=>$.isAvailableForMentorship===!0)),s(O)},C=()=>{m({branch:"",graduationYear:"",industry:"",location:"",availability:!1}),a("")},R=S=>{b(S)},k=()=>{b(null)},D=async S=>{if(dt.currentUser)try{w(T=>({...T,[S]:"pending"}));const B=(await Ba(it(ce,"students",dt.currentUser.uid))).data(),O=it(Ce(ce,"students",dt.currentUser.uid,"mentorships"));await Ow(O,{mentorId:S,status:"pending",timestamp:new Date});const $=it(Ce(ce,"alumni_profiles",S,"mentorshipRequests"));await Ow($,{studentId:dt.currentUser.uid,studentName:(B==null?void 0:B.fullName)||"Student",branch:(B==null?void 0:B.branch)||"",year:(B==null?void 0:B.year)||"",status:"pending",timestamp:new Date})}catch(P){console.error("Error requesting mentorship:",P),w(B=>{const O={...B};return delete O[S],O}),alert("Failed to request mentorship. Please try again later.")}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Alumni Directory"}),r.jsx("p",{className:"text-gray-600",children:"Connect with BVRIT alumni for mentorship, networking, and career opportunities."})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx(me,{type:"text",placeholder:"Search by name, role, company or skills...",value:i,onChange:S=>a(S.target.value),className:"pl-10 pr-4 py-2 w-full"})]}),r.jsxs(W,{variant:"outline",onClick:()=>g(!f),className:"flex items-center gap-2",children:[r.jsx(rl,{size:16}),"Filters"]}),f&&r.jsx(W,{onClick:()=>g(!1),className:"md:hidden w-full",children:"Apply Filters"})]}),f&&r.jsxs("div",{className:"pt-4 border-t mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),r.jsxs("select",{value:d.branch,onChange:S=>m({...d,branch:S.target.value}),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[r.jsx("option",{value:"",children:"All Branches"}),v.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Graduation Year"}),r.jsxs("select",{value:d.graduationYear,onChange:S=>m({...d,graduationYear:S.target.value}),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[r.jsx("option",{value:"",children:"All Years"}),I.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),r.jsxs("select",{value:d.industry,onChange:S=>m({...d,industry:S.target.value}),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[r.jsx("option",{value:"",children:"All Industries"}),V.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx(me,{type:"text",placeholder:"City or Country",value:d.location,onChange:S=>m({...d,location:S.target.value}),className:"w-full"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:d.availability,onChange:S=>m({...d,availability:S.target.checked}),className:"rounded text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available for Mentorship"})]})}),r.jsx("div",{className:"col-span-1 md:col-span-5 flex justify-end",children:r.jsx(W,{variant:"ghost",onClick:C,className:"text-sm",children:"Reset Filters"})})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-600 border-b-blue-600 border-gray-200 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading alumni..."})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[n.length," ",n.length===1?"Result":"Results"]}),n.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 mb-2",children:"No alumni found matching your criteria"}),r.jsx(W,{variant:"outline",onClick:C,className:"mt-2",children:"Reset Filters"})]}):r.jsxs("div",{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:n.map(S=>r.jsxs("div",{onClick:()=>R(S),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md cursor-pointer transition-shadow",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:S.profilePicture?r.jsx("img",{src:S.profilePicture,alt:S.fullName,className:"w-14 h-14 rounded-full object-cover"}):r.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:S.fullName?S.fullName.charAt(0).toUpperCase():"A"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-semibold text-lg",children:S.fullName}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Class of ",S.graduationYear||"N/A"]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[S.currentRole&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(hn,{size:16,className:"mt-1 text-gray-500 mr-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[S.currentRole," at ",S.company||"N/A"]})]}),S.location&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(Qs,{size:16,className:"mt-1 text-gray-500 mr-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:S.location})]}),S.branch&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(ts,{size:16,className:"mt-1 text-gray-500 mr-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:S.branch})]})]}),S.skills&&Array.isArray(S.skills)&&S.skills.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[S.skills.slice(0,3).map((P,B)=>r.jsx(at,{variant:"secondary",className:"text-xs",children:P},B)),S.skills.length>3&&r.jsxs(at,{variant:"outline",className:"text-xs",children:["+",S.skills.length-3," more"]})]}),r.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.isAvailableForMentorship?r.jsxs("div",{className:"flex items-center",children:[r.jsx(_g,{size:14,className:"text-yellow-500 mr-1"}),r.jsx("span",{className:"text-sm text-green-600",children:"Available for mentorship"})]}):r.jsx("div",{}),r.jsxs(W,{size:"sm",variant:"ghost",className:"text-blue-600",children:["View Profile ",r.jsx(Xj,{size:14,className:"ml-1"})]})]})]},S.id))}),n.length<t.length||c?r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx(W,{onClick:z,variant:"outline",disabled:!c,children:"Load More Alumni"})}):null]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-screen overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center",children:[x.profilePicture?r.jsx("img",{src:x.profilePicture,alt:x.fullName,className:"w-16 h-16 rounded-full object-cover"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-xl",children:x.fullName?x.fullName.charAt(0).toUpperCase():"A"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:x.fullName}),r.jsxs("p",{className:"text-gray-600",children:[x.currentRole," at ",x.company]})]})]}),r.jsx("button",{onClick:k,className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[x.bio&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"About"}),r.jsx("p",{className:"text-gray-700",children:x.bio})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Professional Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(hn,{size:18,className:"text-gray-500 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:x.currentRole}),r.jsx("p",{className:"text-sm text-gray-600",children:x.company})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(ts,{size:18,className:"text-gray-500 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:x.branch}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Class of ",x.graduationYear]})]})]}),x.location&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(Qs,{size:18,className:"text-gray-500 mr-3 mt-1"}),r.jsx("p",{children:x.location})]}),x.industry&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(hn,{size:18,className:"text-gray-500 mr-3 mt-1"}),r.jsx("p",{children:x.industry})]})]})]}),x.skills&&Array.isArray(x.skills)&&x.skills.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Skills & Expertise"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.skills.map((S,P)=>r.jsx(at,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:S},P))})]}),x.experience&&Array.isArray(x.experience)&&x.experience.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Work Experience"}),r.jsx("div",{className:"space-y-4",children:x.experience.map((S,P)=>r.jsxs("div",{className:"border-l-2 border-gray-200 pl-4",children:[r.jsx("p",{className:"font-medium",children:S.role}),r.jsx("p",{className:"text-gray-600",children:S.company}),r.jsx("p",{className:"text-sm text-gray-500",children:S.duration})]},P))})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-3",children:[x.email&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pa,{size:16,className:"text-gray-500 mr-2"}),r.jsx("a",{href:`mailto:${x.email}`,className:"text-blue-600 hover:underline",children:x.email})]}),x.linkedIn&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vx,{size:16,className:"text-gray-500 mr-2"}),r.jsxs("a",{href:x.linkedIn,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:["LinkedIn Profile ",r.jsx(Lx,{size:12,className:"ml-1"})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Mentorship"}),x.isAvailableForMentorship?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-3 mb-4",children:[r.jsxs("div",{className:"flex items-center text-green-700 mb-2",children:[r.jsx(_g,{size:16,className:"mr-2"}),r.jsx("p",{className:"font-medium",children:"Available for Mentorship"})]}),r.jsx("p",{className:"text-sm text-green-600",children:"This alumnus has indicated they are willing to mentor students."})]}):r.jsx("div",{className:"bg-gray-100 border border-gray-200 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-gray-600",children:"This alumnus may not be actively looking for mentees right now."})}),y[x.id]?r.jsx(W,{disabled:!0,className:"w-full",children:y[x.id]==="pending"?"Mentorship Requested":y[x.id]==="accepted"?"Mentorship Active":"Request Declined"}):r.jsx(W,{className:"w-full",onClick:()=>D(x.id),disabled:!x.isAvailableForMentorship,children:"Request Mentorship"})]}),r.jsxs("div",{children:[r.jsx(W,{variant:"outline",className:"w-full mb-2",children:"Send Message"}),r.jsx(W,{variant:"ghost",className:"w-full text-gray-600",children:"Save Profile"})]})]})]})})]})})]})},Kw=t=>{switch(t){case"networking":return"bg-blue-500";case"workshop":return"bg-purple-500";case"webinar":return"bg-green-500";case"hackathon":return"bg-orange-500";case"reunion":return"bg-indigo-500";default:return"bg-gray-500"}},mre=()=>{var G,M,Y;const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState("upcoming"),[d,m]=p.useState(null),[f,g]=p.useState(!1),[x,b]=p.useState(new Date),[y,w]=p.useState(""),[v,N]=p.useState("all"),[I,V]=p.useState("all"),z=(G=dt.currentUser)==null?void 0:G.uid;(M=dt.currentUser)==null||M.email;const A=()=>{const L=ps(x),X=uf(x),le=Zr(L),ne=df(X),H=[];let te=le;for(;ka(te,ne)||Bn(te,ne);)H.push(te),te=Fn(te,1);return H},C=L=>Bn(L,new Date);p.useEffect(()=>{if(!z)return;l(!0);const L=Ce(ce,"events"),X=Me(L,_t("eventDate","asc")),le=Ot(X,H=>{const te=H.docs.map(ae=>{var ye,ve;return{id:ae.id,...ae.data(),eventDate:(ye=ae.data().eventDate)==null?void 0:ye.toDate(),createdAt:(ve=ae.data().createdAt)==null?void 0:ve.toDate()}});e(te),R(te,y,v,I,c);const J=te.filter(ae=>{var ye;return(ye=ae.attendees)==null?void 0:ye.includes(z)});a(J),l(!1)},H=>{console.error("Error in real-time listener: ",H),l(!1),ne()}),ne=async()=>{try{const te=(await ot(X)).docs.map(ae=>{var ye,ve;return{id:ae.id,...ae.data(),eventDate:(ye=ae.data().eventDate)==null?void 0:ye.toDate(),createdAt:(ve=ae.data().createdAt)==null?void 0:ve.toDate()}});e(te),s(te);const J=te.filter(ae=>{var ye;return(ye=ae.attendees)==null?void 0:ye.includes(z)});a(J),l(!1)}catch(H){console.error("Error fetching events: ",H),l(!1)}};return()=>le()},[z]);const R=(L,X,le,ne,H)=>{let te=[...L];X&&(te=te.filter(J=>{var ae,ye,ve;return((ae=J.title)==null?void 0:ae.toLowerCase().includes(X.toLowerCase()))||((ye=J.description)==null?void 0:ye.toLowerCase().includes(X.toLowerCase()))||((ve=J.creatorEmail)==null?void 0:ve.toLowerCase().includes(X.toLowerCase()))})),le!=="all"&&(te=te.filter(J=>J.category===le)),ne!=="all"&&(te=te.filter(J=>J.eventType===ne)),H==="upcoming"?te=te.filter(J=>J.eventDate&&dx(J.eventDate,new Date)):H==="past"&&(te=te.filter(J=>J.eventDate&&ka(J.eventDate,new Date))),s(te)};p.useEffect(()=>{R(t,y,v,I,c)},[y,v,I,c,t]);const k=async(L,X)=>{if(!(!z||!L))try{const le=it(ce,"events",L),ne=Me(Ce(ce,"events"),Re("__name__","==",L)),H=await ot(ne);if(H.empty){console.error("Event not found");return}const te=H.docs[0].data(),J=te.attendees||[];if(X){if(te.capacity&&J.length>=te.capacity){alert("Sorry, this event has reached its maximum capacity.");return}J.includes(z)||await Yt(le,{attendees:[...J,z]})}else await Yt(le,{attendees:J.filter(ae=>ae!==z)})}catch(le){console.error("Error updating RSVP: ",le),alert("Failed to update your RSVP status. Please try again.")}},D=L=>{m(L),g(!0)},S=L=>{var X;return(X=L.attendees)==null?void 0:X.includes(z)},P=L=>L?Ft(L,"MMMM d, yyyy  h:mm a"):"Date not specified",B=()=>t.filter(L=>L.eventDate&&xc(L.eventDate,x)),O=()=>{b(_O(x,1))},$=()=>{b(tr(x,1))},T=L=>L&&ka(L,new Date),_=L=>L.capacity&&L.attendees&&L.attendees.length>=L.capacity,U=L=>{var le;if(!L.capacity)return"Unlimited";const X=((le=L.attendees)==null?void 0:le.length)||0;return L.capacity-X};return r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Student Events"}),r.jsx("p",{className:"text-gray-500",children:"Discover and join events hosted by alumni and the BVRIT community"})]})}),r.jsxs(ys,{value:c,onValueChange:u,className:"mb-6",children:[r.jsxs(ns,{children:[r.jsx(Be,{value:"upcoming",children:"Upcoming Events"}),r.jsx(Be,{value:"attending",children:"My RSVPs"}),r.jsx(Be,{value:"past",children:"Past Events"}),r.jsx(Be,{value:"calendar",children:"Calendar View"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Cr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"Search events by title, description, or host...",className:"pl-10",value:y,onChange:L=>w(L.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Jt,{value:v,onValueChange:N,children:[r.jsx(Kt,{className:"w-full sm:w-40",children:r.jsx(en,{placeholder:"Category"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Categories"}),r.jsx(pe,{value:"networking",children:"Networking"}),r.jsx(pe,{value:"workshop",children:"Workshop"}),r.jsx(pe,{value:"webinar",children:"Webinar"}),r.jsx(pe,{value:"hackathon",children:"Hackathon"}),r.jsx(pe,{value:"reunion",children:"Reunion"}),r.jsx(pe,{value:"other",children:"Other"})]})]}),r.jsxs(Jt,{value:I,onValueChange:V,children:[r.jsx(Kt,{className:"w-full sm:w-40",children:r.jsx(en,{placeholder:"Event Type"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Types"}),r.jsx(pe,{value:"online",children:"Online"}),r.jsx(pe,{value:"in-person",children:"In-Person"})]})]})]})]}),r.jsx(st,{value:"upcoming",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(L=>r.jsx(T0,{event:L,onRSVP:k,onViewDetails:D,isAttending:S(L),isEventFull:_(L)},L.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"No upcoming events found. Try adjusting your search or filter."})})}),r.jsx(st,{value:"attending",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length>0?i.map(L=>r.jsx(T0,{event:L,onRSVP:k,onViewDetails:D,isAttending:!0,isEventFull:_(L)},L.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"You haven't RSVPed to any events yet. Browse upcoming events to get started!"})})}),r.jsx(st,{value:"past",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(L=>r.jsx(T0,{event:L,onViewDetails:D,isAttending:S(L),isPast:!0},L.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"No past events found. Try adjusting your search or filter."})})}),r.jsx(st,{value:"calendar",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs(W,{variant:"outline",onClick:O,children:[r.jsx(eN,{className:"h-4 w-4 mr-1"}),"Previous"]}),r.jsx("h3",{className:"text-lg font-semibold",children:Ft(x,"MMMM yyyy")}),r.jsxs(W,{variant:"outline",onClick:$,children:["Next",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-6",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((L,X)=>r.jsx("div",{className:"text-center font-medium text-sm py-2",children:L},X)),A().map((L,X)=>{const le=L?t.filter(ne=>ne.eventDate&&ne.eventDate.getDate()===L.getDate()&&ne.eventDate.getMonth()===L.getMonth()&&ne.eventDate.getFullYear()===L.getFullYear()):[];return r.jsx("div",{className:`
                      p-1 min-h-16 border rounded-md relative
                      ${L?"":"bg-gray-50"}
                      ${L&&C(L)?"border-blue-500 border-2":"border-gray-100"}
                      ${xc(L,x)?"":"text-gray-400"}
                    `,children:L&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs font-medium mb-1 p-1",children:Ft(L,"d")}),r.jsxs("div",{className:"space-y-1",children:[le.slice(0,3).map((ne,H)=>r.jsx(fN,{children:r.jsxs(xA,{children:[r.jsx(yA,{asChild:!0,children:r.jsx("div",{className:`
                                      text-xs truncate rounded-sm px-1 py-0.5 cursor-pointer
                                      ${Kw(ne.category).replace("bg-","bg-opacity-80 text-white bg-")}
                                      ${S(ne)?"ring-1 ring-white":""}
                                    `,onClick:()=>D(ne),children:ne.title})}),r.jsxs(pN,{side:"top",children:[r.jsx("p",{className:"font-medium",children:ne.title}),r.jsx("p",{className:"text-xs",children:Ft(ne.eventDate,"h:mm a")}),ne.eventType==="online"?r.jsxs("p",{className:"text-xs flex items-center mt-1",children:[r.jsx(Bl,{className:"h-3 w-3 mr-1"}),"Online"]}):r.jsxs("p",{className:"text-xs flex items-center mt-1",children:[r.jsx(Qs,{className:"h-3 w-3 mr-1"}),ne.location||"Location not specified"]}),S(ne)&&r.jsxs("p",{className:"text-xs flex items-center mt-1 text-green-500",children:[r.jsx(zo,{className:"h-3 w-3 mr-1"}),"You're attending"]})]})]})},H)),le.length>3&&r.jsxs("div",{className:"text-xs text-gray-500 pl-1",children:["+",le.length-3," more"]})]})]})},X)})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h4",{className:"font-medium mb-4 text-gray-700",children:"Events this month"}),r.jsx("div",{className:"space-y-4",children:B().length>0?B().map(L=>r.jsxs("div",{className:"flex p-4 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-blue-100 rounded-lg flex flex-col items-center justify-center mr-4",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:L.eventDate?Ft(L.eventDate,"d"):"--"}),r.jsx("span",{className:"text-blue-600 text-xs",children:L.eventDate?Ft(L.eventDate,"MMM"):"--"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:L.title}),r.jsx("p",{className:"text-sm text-gray-500",children:L.eventDate?Ft(L.eventDate,"h:mm a"):"Time not specified"})]}),r.jsx(at,{className:T(L.eventDate)?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700",children:T(L.eventDate)?"Past":"Upcoming"})]}),r.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[L.eventType==="online"?r.jsx(Bl,{className:"h-4 w-4 mr-1"}):r.jsx(Qs,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:L.eventType==="online"?"Online Event":L.location})]}),r.jsxs("div",{className:"flex justify-between mt-3",children:[r.jsx(at,{variant:"outline",className:"text-xs",children:L.category}),!T(L.eventDate)&&r.jsx(W,{size:"sm",variant:S(L)?"outline":"default",className:S(L)?"":"bg-blue-600 hover:bg-blue-700",onClick:()=>k(L.id,!S(L)),disabled:!S(L)&&_(L),children:S(L)?r.jsxs(r.Fragment,{children:[r.jsx(zo,{className:"h-4 w-4 mr-1"}),"Attending"]}):_(L)?"At Capacity":"RSVP"})]})]})]},L.id)):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No events scheduled for ",Ft(x,"MMMM yyyy"),"."]})})]})]})})]}),r.jsx(bn,{open:f,onOpenChange:g,children:r.jsx(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:d&&r.jsxs(r.Fragment,{children:[r.jsxs(fn,{children:[r.jsx(pn,{children:d.title}),r.jsx(Uo,{children:d.category&&r.jsx(at,{className:`mt-2 ${Kw(d.category).replace("bg-","bg-opacity-80 text-white bg-")}`,children:d.category})})]}),r.jsxs("div",{className:"py-4",children:[r.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[r.jsx(lt,{className:"h-5 w-5 mr-2 text-blue-600"}),r.jsx("span",{children:P(d.eventDate)})]}),r.jsx("div",{className:"flex items-center text-gray-600 mb-4",children:d.eventType==="online"?r.jsxs(r.Fragment,{children:[r.jsx(Bl,{className:"h-5 w-5 mr-2 text-indigo-600"}),r.jsx("span",{children:"Online Event"}),d.eventLink&&r.jsx("a",{href:d.eventLink,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline",children:d.eventLink})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qs,{className:"h-5 w-5 mr-2 text-emerald-600"}),r.jsx("span",{children:d.location||"Location not specified"})]})}),r.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[r.jsx(Pn,{className:"h-5 w-5 mr-2 text-blue-600"}),r.jsxs("span",{children:[((Y=d.attendees)==null?void 0:Y.length)||0," attending",d.capacity&&` (${U(d)} spots left)`]})]}),d.creatorEmail&&r.jsxs("div",{className:"flex items-center text-gray-600 mb-6",children:[r.jsx(AR,{className:"h-5 w-5 mr-2 text-blue-600"}),r.jsxs("span",{children:["Hosted by: ",d.creatorEmail]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[r.jsx("h4",{className:"font-medium mb-2",children:"About this event"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:d.description||"No description provided."})]})]}),r.jsx(An,{children:!T(d.eventDate)&&r.jsx(W,{className:S(d)?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700",onClick:()=>{k(d.id,!S(d)),g(!1)},disabled:!S(d)&&_(d),children:S(d)?r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 mr-2"}),"Cancel RSVP"]}):_(d)?"Event is at capacity":r.jsxs(r.Fragment,{children:[r.jsx(gU,{className:"h-4 w-4 mr-2"}),"RSVP to Event"]})})})]})})})]})},T0=({event:t,onRSVP:e,onViewDetails:n,isAttending:s,isEventFull:i=!1,isPast:a=!1})=>{var l;const o=a||t.eventDate&&ka(t.eventDate,new Date);return r.jsxs(Ct,{className:"overflow-hidden hover:shadow-md transition-shadow duration-200 border-gray-100",children:[r.jsx("div",{className:`h-2 ${Kw(t.category)}`}),r.jsx(Vn,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(Un,{className:"text-lg font-semibold text-gray-800 cursor-pointer hover:text-blue-600",onClick:()=>n(t),children:t.title}),r.jsxs($n,{className:"flex items-center mt-1 text-gray-500",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),t.eventDate?Ft(t.eventDate,"MMMM d, yyyy  h:mm a"):"Date not specified"]})]}),r.jsx(at,{className:o?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700",children:o?"Past":"Upcoming"})]})}),r.jsxs(Bt,{className:"pt-0 pb-4",children:[r.jsx("div",{className:"flex items-center mb-3 text-sm text-gray-600",children:t.eventType==="online"?r.jsxs(r.Fragment,{children:[r.jsx(Bl,{className:"h-4 w-4 mr-1 text-indigo-600"}),r.jsx("span",{children:"Online Event"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qs,{className:"h-4 w-4 mr-1 text-emerald-600"}),r.jsx("span",{className:"truncate",title:t.location,children:t.location||"Location not specified"})]})}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:t.description||"No description provided."}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[((l=t.attendees)==null?void 0:l.length)||0,t.capacity?` / ${t.capacity}`:""]})]}),r.jsx(at,{variant:"outline",className:"text-xs",children:t.category})]})]}),r.jsxs(Ts,{className:"pt-0 pb-4 flex justify-between",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(t),children:"View Details"}),!o&&r.jsx(W,{size:"sm",variant:s?"outline":"default",className:s?"":"bg-blue-600 hover:bg-blue-700",onClick:()=>e(t.id,!s),disabled:!s&&i,children:s?r.jsxs(r.Fragment,{children:[r.jsx(zo,{className:"h-4 w-4 mr-1"}),"Attending"]}):i?"At Capacity":"RSVP"})]})]})};var Qw=["Enter"," "],fre=["ArrowDown","PageUp","Home"],Q6=["ArrowUp","PageDown","End"],pre=[...fre,...Q6],gre={ltr:[...Qw,"ArrowRight"],rtl:[...Qw,"ArrowLeft"]},xre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xf="Menu",[Em,yre,vre]=Px(xf),[kc,Z6]=Xr(xf,[vre,il,fd]),Hy=il(),X6=fd(),[bre,Tc]=kc(xf),[wre,yf]=kc(xf),J6=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=t,l=Hy(e),[c,u]=p.useState(null),d=p.useRef(!1),m=es(a),f=Wm(i);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(Wx,{...l,children:r.jsx(bre,{scope:e,open:n,onOpenChange:m,content:c,onContentChange:u,children:r.jsx(wre,{scope:e,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:d,dir:f,modal:o,children:s})})})};J6.displayName=xf;var jre="MenuAnchor",m1=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Hy(n);return r.jsx(Um,{...i,...s,ref:e})});m1.displayName=jre;var f1="MenuPortal",[Nre,e5]=kc(f1,{forceMount:void 0}),t5=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:i}=t,a=Tc(f1,e);return r.jsx(Nre,{scope:e,forceMount:n,children:r.jsx(nr,{present:n||a.open,children:r.jsx(ad,{asChild:!0,container:i,children:s})})})};t5.displayName=f1;var Wr="MenuContent",[_re,p1]=kc(Wr),n5=p.forwardRef((t,e)=>{const n=e5(Wr,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=Tc(Wr,t.__scopeMenu),o=yf(Wr,t.__scopeMenu);return r.jsx(Em.Provider,{scope:t.__scopeMenu,children:r.jsx(nr,{present:s||a.open,children:r.jsx(Em.Slot,{scope:t.__scopeMenu,children:o.modal?r.jsx(Cre,{...i,ref:e}):r.jsx(Ere,{...i,ref:e})})})})}),Cre=p.forwardRef((t,e)=>{const n=Tc(Wr,t.__scopeMenu),s=p.useRef(null),i=ht(e,s);return p.useEffect(()=>{const a=s.current;if(a)return Oy(a)},[]),r.jsx(g1,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ere=p.forwardRef((t,e)=>{const n=Tc(Wr,t.__scopeMenu);return r.jsx(g1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),g1=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,onDismiss:g,disableOutsideScroll:x,...b}=t,y=Tc(Wr,n),w=yf(Wr,n),v=Hy(n),N=X6(n),I=yre(n),[V,z]=p.useState(null),A=p.useRef(null),C=ht(e,A,y.onContentChange),R=p.useRef(0),k=p.useRef(""),D=p.useRef(0),S=p.useRef(null),P=p.useRef("right"),B=p.useRef(0),O=x?lf:p.Fragment,$=x?{as:Qi,allowPinchZoom:!0}:void 0,T=U=>{var H,te;const G=k.current+U,M=I().filter(J=>!J.disabled),Y=document.activeElement,L=(H=M.find(J=>J.ref.current===Y))==null?void 0:H.textValue,X=M.map(J=>J.textValue),le=Fre(X,G,L),ne=(te=M.find(J=>J.textValue===le))==null?void 0:te.ref.current;(function J(ae){k.current=ae,window.clearTimeout(R.current),ae!==""&&(R.current=window.setTimeout(()=>J(""),1e3))})(G),ne&&setTimeout(()=>ne.focus())};p.useEffect(()=>()=>window.clearTimeout(R.current),[]),Dy();const _=p.useCallback(U=>{var M,Y;return P.current===((M=S.current)==null?void 0:M.side)&&Ure(U,(Y=S.current)==null?void 0:Y.area)},[]);return r.jsx(_re,{scope:n,searchRef:k,onItemEnter:p.useCallback(U=>{_(U)&&U.preventDefault()},[_]),onItemLeave:p.useCallback(U=>{var G;_(U)||((G=A.current)==null||G.focus(),z(null))},[_]),onTriggerLeave:p.useCallback(U=>{_(U)&&U.preventDefault()},[_]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(U=>{S.current=U},[]),children:r.jsx(O,{...$,children:r.jsx(of,{asChild:!0,trapped:i,onMountAutoFocus:we(a,U=>{var G;U.preventDefault(),(G=A.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(jc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,onDismiss:g,children:r.jsx(MN,{asChild:!0,...N,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:V,onCurrentTabStopIdChange:z,onEntryFocus:we(c,U=>{w.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(qx,{role:"menu","aria-orientation":"vertical","data-state":y5(y.open),"data-radix-menu-content":"",dir:w.dir,...v,...b,ref:C,style:{outline:"none",...b.style},onKeyDown:we(b.onKeyDown,U=>{const M=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Y=U.ctrlKey||U.altKey||U.metaKey,L=U.key.length===1;M&&(U.key==="Tab"&&U.preventDefault(),!Y&&L&&T(U.key));const X=A.current;if(U.target!==X||!pre.includes(U.key))return;U.preventDefault();const ne=I().filter(H=>!H.disabled).map(H=>H.ref.current);Q6.includes(U.key)&&ne.reverse(),Ore(ne)}),onBlur:we(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(R.current),k.current="")}),onPointerMove:we(t.onPointerMove,Sm(U=>{const G=U.target,M=B.current!==U.clientX;if(U.currentTarget.contains(G)&&M){const Y=U.clientX>B.current?"right":"left";P.current=Y,B.current=U.clientX}}))})})})})})})});n5.displayName=Wr;var Sre="MenuGroup",x1=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(Ve.div,{role:"group",...s,ref:e})});x1.displayName=Sre;var kre="MenuLabel",s5=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(Ve.div,{...s,ref:e})});s5.displayName=kre;var fx="MenuItem",jT="menu.itemSelect",Gy=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...i}=t,a=p.useRef(null),o=yf(fx,t.__scopeMenu),l=p1(fx,t.__scopeMenu),c=ht(e,a),u=p.useRef(!1),d=()=>{const m=a.current;if(!n&&m){const f=new CustomEvent(jT,{bubbles:!0,cancelable:!0});m.addEventListener(jT,g=>s==null?void 0:s(g),{once:!0}),Yj(m,f),f.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(r5,{...i,ref:c,disabled:n,onClick:we(t.onClick,d),onPointerDown:m=>{var f;(f=t.onPointerDown)==null||f.call(t,m),u.current=!0},onPointerUp:we(t.onPointerUp,m=>{var f;u.current||(f=m.currentTarget)==null||f.click()}),onKeyDown:we(t.onKeyDown,m=>{const f=l.searchRef.current!=="";n||f&&m.key===" "||Qw.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Gy.displayName=fx;var r5=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=t,o=p1(fx,n),l=X6(n),c=p.useRef(null),u=ht(e,c),[d,m]=p.useState(!1),[f,g]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(Em.ItemSlot,{scope:n,disabled:s,textValue:i??f,children:r.jsx(ON,{asChild:!0,...l,focusable:!s,children:r.jsx(Ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:we(t.onPointerMove,Sm(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(t.onPointerLeave,Sm(x=>o.onItemLeave(x))),onFocus:we(t.onFocus,()=>m(!0)),onBlur:we(t.onBlur,()=>m(!1))})})})}),Tre="MenuCheckboxItem",i5=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...i}=t;return r.jsx(u5,{scope:t.__scopeMenu,checked:n,children:r.jsx(Gy,{role:"menuitemcheckbox","aria-checked":px(n)?"mixed":n,...i,ref:e,"data-state":v1(n),onSelect:we(i.onSelect,()=>s==null?void 0:s(px(n)?!0:!n),{checkForDefaultPrevented:!1})})})});i5.displayName=Tre;var a5="MenuRadioGroup",[Ire,Rre]=kc(a5,{value:void 0,onValueChange:()=>{}}),o5=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...i}=t,a=es(s);return r.jsx(Ire,{scope:t.__scopeMenu,value:n,onValueChange:a,children:r.jsx(x1,{...i,ref:e})})});o5.displayName=a5;var l5="MenuRadioItem",c5=p.forwardRef((t,e)=>{const{value:n,...s}=t,i=Rre(l5,t.__scopeMenu),a=n===i.value;return r.jsx(u5,{scope:t.__scopeMenu,checked:a,children:r.jsx(Gy,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":v1(a),onSelect:we(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});c5.displayName=l5;var y1="MenuItemIndicator",[u5,Are]=kc(y1,{checked:!1}),d5=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...i}=t,a=Are(y1,n);return r.jsx(nr,{present:s||px(a.checked)||a.checked===!0,children:r.jsx(Ve.span,{...i,ref:e,"data-state":v1(a.checked)})})});d5.displayName=y1;var Pre="MenuSeparator",h5=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});h5.displayName=Pre;var Dre="MenuArrow",m5=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Hy(n);return r.jsx(Hx,{...i,...s,ref:e})});m5.displayName=Dre;var Mre="MenuSub",[boe,f5]=kc(Mre),lh="MenuSubTrigger",p5=p.forwardRef((t,e)=>{const n=Tc(lh,t.__scopeMenu),s=yf(lh,t.__scopeMenu),i=f5(lh,t.__scopeMenu),a=p1(lh,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),r.jsx(m1,{asChild:!0,...u,children:r.jsx(r5,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":y5(n.open),...t,ref:Ax(e,i.onTriggerChange),onClick:m=>{var f;(f=t.onClick)==null||f.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(t.onPointerMove,Sm(m=>{a.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:we(t.onPointerLeave,Sm(m=>{var g,x;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const b=(x=n.content)==null?void 0:x.dataset.side,y=b==="right",w=y?-5:5,v=f[y?"left":"right"],N=f[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x:v,y:f.top},{x:N,y:f.top},{x:N,y:f.bottom},{x:v,y:f.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:we(t.onKeyDown,m=>{var g;const f=a.searchRef.current!=="";t.disabled||f&&m.key===" "||gre[s.dir].includes(m.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),m.preventDefault())})})})});p5.displayName=lh;var g5="MenuSubContent",x5=p.forwardRef((t,e)=>{const n=e5(Wr,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=Tc(Wr,t.__scopeMenu),o=yf(Wr,t.__scopeMenu),l=f5(g5,t.__scopeMenu),c=p.useRef(null),u=ht(e,c);return r.jsx(Em.Provider,{scope:t.__scopeMenu,children:r.jsx(nr,{present:s||a.open,children:r.jsx(Em.Slot,{scope:t.__scopeMenu,children:r.jsx(g1,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:we(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:we(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:we(t.onKeyDown,d=>{var g;const m=d.currentTarget.contains(d.target),f=xre[o.dir].includes(d.key);m&&f&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});x5.displayName=g5;function y5(t){return t?"open":"closed"}function px(t){return t==="indeterminate"}function v1(t){return px(t)?"indeterminate":t?"checked":"unchecked"}function Ore(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Lre(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function Fre(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Lre(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Vre(t,e){const{x:n,y:s}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>s!=d>s&&n<(u-l)*(s-c)/(d-c)+l&&(i=!i)}return i}function Ure(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Vre(n,e)}function Sm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $re=J6,Bre=m1,zre=t5,Wre=n5,qre=x1,Hre=s5,Gre=Gy,Yre=i5,Kre=o5,Qre=c5,Zre=d5,Xre=h5,Jre=m5,eie=p5,tie=x5,b1="DropdownMenu",[nie,woe]=Xr(b1,[Z6]),Ms=Z6(),[sie,v5]=nie(b1),b5=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Ms(e),u=p.useRef(null),[d=!1,m]=xi({prop:i,defaultProp:a,onChange:o});return r.jsx(sie,{scope:e,triggerId:Br(),triggerRef:u,contentId:Br(),open:d,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),modal:l,children:r.jsx($re,{...c,open:d,onOpenChange:m,dir:s,modal:l,children:n})})};b5.displayName=b1;var w5="DropdownMenuTrigger",j5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=t,a=v5(w5,n),o=Ms(n);return r.jsx(Bre,{asChild:!0,...o,children:r.jsx(Ve.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Ax(e,a.triggerRef),onPointerDown:we(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:we(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});j5.displayName=w5;var rie="DropdownMenuPortal",N5=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Ms(e);return r.jsx(zre,{...s,...n})};N5.displayName=rie;var _5="DropdownMenuContent",C5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=v5(_5,n),a=Ms(n),o=p.useRef(!1);return r.jsx(Wre,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:e,onCloseAutoFocus:we(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:we(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C5.displayName=_5;var iie="DropdownMenuGroup",aie=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(qre,{...i,...s,ref:e})});aie.displayName=iie;var oie="DropdownMenuLabel",E5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Hre,{...i,...s,ref:e})});E5.displayName=oie;var lie="DropdownMenuItem",S5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Gre,{...i,...s,ref:e})});S5.displayName=lie;var cie="DropdownMenuCheckboxItem",k5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Yre,{...i,...s,ref:e})});k5.displayName=cie;var uie="DropdownMenuRadioGroup",die=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Kre,{...i,...s,ref:e})});die.displayName=uie;var hie="DropdownMenuRadioItem",T5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Qre,{...i,...s,ref:e})});T5.displayName=hie;var mie="DropdownMenuItemIndicator",I5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Zre,{...i,...s,ref:e})});I5.displayName=mie;var fie="DropdownMenuSeparator",R5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Xre,{...i,...s,ref:e})});R5.displayName=fie;var pie="DropdownMenuArrow",gie=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(Jre,{...i,...s,ref:e})});gie.displayName=pie;var xie="DropdownMenuSubTrigger",A5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(eie,{...i,...s,ref:e})});A5.displayName=xie;var yie="DropdownMenuSubContent",P5=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Ms(n);return r.jsx(tie,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P5.displayName=yie;var vie=b5,bie=j5,wie=N5,D5=C5,M5=E5,O5=S5,L5=k5,F5=T5,V5=I5,U5=R5,$5=A5,B5=P5;const w1=vie,j1=bie,jie=p.forwardRef(({className:t,inset:e,children:n,...s},i)=>r.jsxs($5,{ref:i,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,r.jsx(Fr,{className:"ml-auto h-4 w-4"})]}));jie.displayName=$5.displayName;const Nie=p.forwardRef(({className:t,...e},n)=>r.jsx(B5,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Nie.displayName=B5.displayName;const Yy=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>r.jsx(wie,{children:r.jsx(D5,{ref:s,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Yy.displayName=D5.displayName;const mr=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(O5,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));mr.displayName=O5.displayName;const _ie=p.forwardRef(({className:t,children:e,checked:n,...s},i)=>r.jsxs(L5,{ref:i,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(V5,{children:r.jsx(zo,{className:"h-4 w-4"})})}),e]}));_ie.displayName=L5.displayName;const Cie=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(F5,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(V5,{children:r.jsx(ER,{className:"h-2 w-2 fill-current"})})}),e]}));Cie.displayName=F5.displayName;const Eie=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(M5,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Eie.displayName=M5.displayName;const Sie=p.forwardRef(({className:t,...e},n)=>r.jsx(U5,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Sie.displayName=U5.displayName;const kie=od("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qr=p.forwardRef(({className:t,variant:e,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ee(kie({variant:e}),t),...n}));qr.displayName="Alert";const Qp=p.forwardRef(({className:t,...e},n)=>r.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));Qp.displayName="AlertTitle";const Hr=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));Hr.displayName="AlertDescription";const Tie=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState(!0),[o,l]=p.useState(""),[c,u]=p.useState("all"),[d,m]=p.useState("browse"),[f,g]=p.useState("");p.useState(null);const[x,b]=p.useState(!1),[y,w]=p.useState({opportunityId:null,message:"",resume:""}),N=uy().currentUser,{toast:I}=Lm(),V={pending:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",reviewing:"bg-blue-100 text-blue-800 hover:bg-blue-200",accepted:"bg-green-100 text-green-800 hover:bg-green-200",rejected:"bg-red-100 text-red-800 hover:bg-red-200",interview:"bg-purple-100 text-purple-800 hover:bg-purple-200"},z={pending:r.jsx(In,{className:"h-4 w-4 mr-1"}),reviewing:r.jsx(Mi,{className:"h-4 w-4 mr-1"}),accepted:r.jsx(sn,{className:"h-4 w-4 mr-1"}),rejected:r.jsx(Hs,{className:"h-4 w-4 mr-1"}),interview:r.jsx(Pn,{className:"h-4 w-4 mr-1"})};p.useEffect(()=>{const $=(()=>{try{a(!0);const T=Me(Ce(ce,"opportunities"),_t("createdAt","desc"));return Ot(T,U=>{const G=U.docs.map(M=>({id:M.id,...M.data()}));e(G),a(!1)},U=>{console.error("Error getting real-time updates: ",U),a(!1),I({title:"Error",description:"Failed to load opportunities. Please refresh the page.",variant:"destructive"})})}catch(T){console.error("Error setting up opportunities listener: ",T),a(!1),I({title:"Error",description:"Failed to connect to the database. Please refresh the page.",variant:"destructive"})}})();return()=>{$&&$()}},[I]),p.useEffect(()=>{const $=(()=>{if(!N)return null;try{const T=Me(Ce(ce,"applications"),Re("studentId","==",N.uid),_t("appliedAt","desc"));return Ot(T,async U=>{const G=U.docs.map(Y=>({id:Y.id,...Y.data()})),M=await Promise.all(G.map(async Y=>{try{const L=it(ce,"opportunities",Y.opportunityId),X=await Ba(L);return X.exists()?{...Y,opportunity:{id:X.id,...X.data()}}:Y}catch(L){return console.error(`Error getting opportunity ${Y.opportunityId}:`,L),Y}}));s(M)},U=>{console.error("Error getting applications updates: ",U),I({title:"Error",description:"Failed to load your applications. Please refresh the page.",variant:"destructive"})})}catch(T){console.error("Error setting up applications listener: ",T),I({title:"Error",description:"Failed to connect to the database. Please refresh the page.",variant:"destructive"})}})();return()=>{$&&$()}},[N,I]);const A=O=>{const{name:$,value:T}=O.target;w({...y,[$]:T})},C=async()=>{if(!N){I({title:"Authentication Required",description:"Please sign in to apply for opportunities.",variant:"destructive"});return}if(y.opportunityId){if(!y.message.trim()){g("Please provide a message to the recruiter.");return}try{const O=Me(Ce(ce,"applications"),Re("studentId","==",N.uid),Re("opportunityId","==",y.opportunityId));if(!(await ot(O)).empty){g("You have already applied for this opportunity.");return}const T=it(ce,"opportunities",y.opportunityId),_=await Ba(T);if(!_.exists()){g("This opportunity no longer exists.");return}const U=_.data(),G={opportunityId:y.opportunityId,studentId:N.uid,studentName:N.displayName||"Anonymous Student",studentEmail:N.email,message:y.message,resume:y.resume,status:"pending",appliedAt:Mt(),opportunityOwnerId:U.creatorId,companyName:U.company,jobTitle:U.title};await wr(Ce(ce,"applications"),G),await Yt(T,{applications:(U.applications||0)+1}),w({opportunityId:null,message:"",resume:""}),b(!1),g(""),I({title:"Application Submitted",description:"Your application has been submitted successfully!",variant:"default"})}catch(O){console.error("Error applying for opportunity: ",O),g("Failed to submit application. Please try again.")}}},R=O=>n.some($=>$.opportunityId===O),k=t.filter(O=>{var _,U;const $=((_=O.title)==null?void 0:_.toLowerCase().includes(o.toLowerCase()))||((U=O.company)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))||O.description&&O.description.toLowerCase().includes(o.toLowerCase()),T=c==="all"||O.type===c;return $&&T}),D=O=>{if(!O)return"No deadline";try{return(O instanceof Et?O.toDate():typeof O=="string"?new Date(O):O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},S=O=>{if(!O)return!1;try{return(O instanceof Et?O.toDate():typeof O=="string"?new Date(O):O)<new Date}catch{return!1}},P=()=>N?null:r.jsxs(qr,{className:"mb-4",children:[r.jsx(vh,{className:"h-4 w-4"}),r.jsx(Hr,{children:"You are not signed in. Please sign in to apply for opportunities."})]}),B=O=>O.charAt(0).toUpperCase()+O.slice(1);return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center",children:[r.jsx(hn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Student Opportunities"]}),r.jsx("p",{className:"text-gray-600",children:"Explore job and internship opportunities posted by BVRIT alumni and track your applications."}),P()]}),r.jsxs(ys,{value:d,onValueChange:m,className:"mb-8",children:[r.jsxs(ns,{className:"grid w-full md:w-auto grid-cols-2",children:[r.jsx(Be,{value:"browse",children:"Browse Opportunities"}),r.jsx(Be,{value:"applications",onClick:()=>{if(!N){I({title:"Authentication Required",description:"Please sign in to view your applications.",variant:"destructive"}),m("browse");return}},children:"My Applications"})]}),r.jsxs(st,{value:"browse",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:r.jsxs("div",{className:"flex flex-grow gap-3",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Cr,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(me,{placeholder:"Search opportunities...",className:"pl-10",value:o,onChange:O=>l(O.target.value)})]}),r.jsxs(w1,{children:[r.jsx(j1,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"flex items-center",children:[r.jsx(rl,{className:"h-4 w-4 mr-2"}),c==="all"?"All Types":c,r.jsx(Jl,{className:"h-4 w-4 ml-2"})]})}),r.jsxs(Yy,{children:[r.jsx(mr,{onClick:()=>u("all"),children:"All Types"}),r.jsx(mr,{onClick:()=>u("Full-time"),children:"Full-time"}),r.jsx(mr,{onClick:()=>u("Part-time"),children:"Part-time"}),r.jsx(mr,{onClick:()=>u("Internship"),children:"Internship"}),r.jsx(mr,{onClick:()=>u("Contract"),children:"Contract"})]})]})]})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Available Opportunities"}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading opportunities..."})]}):k.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(O=>r.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:O.title}),r.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[r.jsx(pr,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:O.company}),O.location&&r.jsxs("span",{className:"ml-2",children:[" ",O.location]})]})]}),r.jsx(at,{className:`
                        ${O.type==="Full-time"?"bg-green-100 text-green-800 hover:bg-green-200":O.type==="Internship"?"bg-blue-100 text-blue-800 hover:bg-blue-200":O.type==="Part-time"?"bg-purple-100 text-purple-800 hover:bg-purple-200":"bg-orange-100 text-orange-800 hover:bg-orange-200"}
                      `,children:O.type})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:O.description}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:["Deadline: ",D(O.deadline)]}),S(O.deadline)&&r.jsx(at,{variant:"outline",className:"ml-2 text-red-500 border-red-200",children:"Expired"})]}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[O.applications||0," applications"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(qs,{className:"h-4 w-4 mr-1"}),"View Details"]})}),r.jsxs(mn,{className:"max-w-2xl",children:[r.jsx(fn,{children:r.jsx(pn,{children:O.title})}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(pr,{className:"h-4 w-4 mr-2 text-gray-500"}),r.jsx("span",{className:"font-medium",children:O.company}),O.location&&r.jsxs("span",{className:"ml-2 text-gray-600",children:[" ",O.location]})]}),r.jsx(at,{className:`mb-4 ${O.type==="Full-time"?"bg-green-100 text-green-800":O.type==="Internship"?"bg-blue-100 text-blue-800":O.type==="Part-time"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:O.type}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:O.description})]}),O.requirements&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Requirements"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:O.requirements})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Posted By"}),r.jsx("p",{className:"text-gray-700",children:O.creatorName||"Anonymous Alumni"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Deadline"}),r.jsxs("p",{className:"text-gray-700",children:[D(O.deadline),S(O.deadline)&&r.jsx("span",{className:"ml-2 text-red-500",children:"(Expired)"})]})]})]}),(O.applicationLink||O.applicationEmail)&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"External Application"}),O.applicationLink&&r.jsxs("p",{className:"text-gray-700 mb-1",children:["Application Link: ",r.jsxs("a",{href:O.applicationLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[O.applicationLink,r.jsx(Lx,{className:"h-3 w-3 ml-1"})]})]}),O.applicationEmail&&r.jsxs("p",{className:"text-gray-700",children:["Email: ",r.jsx("a",{href:`mailto:${O.applicationEmail}`,className:"text-blue-600 hover:underline",children:O.applicationEmail})]})]})]}),r.jsx(An,{children:R(O.id)?r.jsx(W,{disabled:!0,className:"bg-gray-200 text-gray-600 hover:bg-gray-200 cursor-not-allowed",children:"Already Applied"}):S(O.deadline)?r.jsx(W,{disabled:!0,className:"bg-gray-200 text-gray-600 hover:bg-gray-200 cursor-not-allowed",children:"Deadline Passed"}):r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{if(!N){I({title:"Authentication Required",description:"Please sign in to apply for this opportunity.",variant:"destructive"});return}w({...y,opportunityId:O.id}),b(!0)},children:[r.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Apply Now"]})})]})]}),r.jsx("div",{children:R(O.id)?r.jsxs(at,{className:"bg-blue-100 text-blue-800",children:[r.jsx(sn,{className:"h-3 w-3 mr-1"}),"Applied"]}):S(O.deadline)?r.jsx(at,{variant:"outline",className:"text-red-500 border-red-200",children:"Expired"}):r.jsxs(W,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>{if(!N){I({title:"Authentication Required",description:"Please sign in to apply for this opportunity.",variant:"destructive"});return}w({...y,opportunityId:O.id}),b(!0)},children:[r.jsx(Gh,{className:"h-4 w-4 mr-1"}),"Apply"]})})]})]},O.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No opportunities found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o||c!=="all"?"Try adjusting your search or filters":"No opportunities available at the moment"})]})]})]}),r.jsx(st,{value:"applications",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold mb-6",children:"My Applications"}),N?n.length>0?r.jsx("div",{className:"space-y-6",children:n.map(O=>{var $,T,_,U;return r.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:(($=O.opportunity)==null?void 0:$.title)||O.jobTitle||"Unknown Position"}),r.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[r.jsx(pr,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:((T=O.opportunity)==null?void 0:T.company)||O.companyName||"Unknown Company"})]})]}),r.jsxs(at,{className:V[O.status]||"bg-gray-100 text-gray-800",children:[z[O.status]||null,B(O.status||"pending")]})]}),r.jsxs("div",{className:"text-gray-500 text-sm mb-3",children:["Applied on: ",D(O.appliedAt)]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"font-medium text-sm mb-1",children:"Your Message"}),r.jsx("p",{className:"text-gray-700 text-sm",children:O.message})]}),O.resume&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"font-medium text-sm mb-1",children:"Your Resume"}),r.jsx("p",{className:"text-gray-700 text-sm",children:O.resume})]}),r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(qs,{className:"h-4 w-4 mr-1"}),"View Details"]})}),r.jsxs(mn,{className:"max-w-2xl",children:[r.jsx(fn,{children:r.jsx(pn,{children:"Application Details"})}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:((_=O.opportunity)==null?void 0:_.title)||O.jobTitle||"Unknown Position"}),r.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[r.jsx(pr,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:((U=O.opportunity)==null?void 0:U.company)||O.companyName||"Unknown Company"})]})]}),r.jsxs(at,{className:V[O.status]||"bg-gray-100 text-gray-800",children:[z[O.status]||null,B(O.status||"pending")]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Application Date"}),r.jsx("p",{className:"text-gray-700",children:D(O.appliedAt)})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Status"}),r.jsxs("p",{className:"text-gray-700 flex items-center",children:[z[O.status]||null,B(O.status||"pending")]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Your Message"}),r.jsx("p",{className:"text-gray-700",children:O.message})]}),O.resume&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Your Resume"}),r.jsx("p",{className:"text-gray-700",children:O.resume})]}),O.feedback&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Feedback"}),r.jsx("p",{className:"text-gray-700",children:O.feedback})]})]}),r.jsx(An,{children:r.jsx(mee,{asChild:!0,children:r.jsx(W,{variant:"outline",children:"Close"})})})]})]}),O.status==="rejected"&&r.jsxs(at,{variant:"outline",className:"text-red-500 border-red-200",children:[r.jsx(Hs,{className:"h-3 w-3 mr-1"}),"Not Selected"]})]})]},O.id)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No applications yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't applied to any opportunities yet."}),r.jsx(W,{onClick:()=>m("browse"),className:"bg-blue-600 hover:bg-blue-700",children:"Browse Opportunities"})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(vh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Please sign in to view your applications."})]})]})})]}),r.jsx(bn,{open:x,onOpenChange:b,children:r.jsxs(mn,{className:"max-w-md",children:[r.jsx(fn,{children:r.jsx(pn,{children:"Apply for Opportunity"})}),f&&r.jsxs(qr,{variant:"destructive",className:"mb-4",children:[r.jsx(vh,{className:"h-4 w-4"}),r.jsx(Hr,{children:f})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{children:[r.jsxs(be,{htmlFor:"message",className:"mb-2",children:["Message to Recruiter ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Rs,{id:"message",name:"message",placeholder:"Introduce yourself and explain why you're a good fit for this role",className:"h-32",value:y.message,onChange:A})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"resume",className:"mb-2",children:"Resume URL (optional)"}),r.jsx(me,{id:"resume",name:"resume",placeholder:"Link to your resume (Google Drive, OneDrive, etc.)",value:y.resume,onChange:A})]})]}),r.jsxs(An,{className:"flex justify-between items-center mt-6",children:[r.jsx(W,{variant:"outline",onClick:()=>{b(!1),g("")},children:"Cancel"}),r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:C,children:"Submit Application"})]})]})})]})},z5=()=>{const[t,e]=p.useState(!0),[n,s]=p.useState("all"),[i,a]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,m]=p.useState(null),[f,g]=p.useState([]),[x,b]=p.useState(""),[y,w]=p.useState(null),[v,N]=p.useState([]),[I,V]=p.useState(null),z=[{id:"fsd-genai",name:"Full Stack Development & GenAI",description:"Explore modern web development technologies and generative AI applications. Share projects, discuss frameworks like React, Node.js, and learn about LLMs.",category:"tech",memberCount:124,newPosts:8,icon:r.jsx($u,{className:"h-6 w-6 text-blue-600"}),color:"blue",leader:{name:"Rahul Sharma",title:"Senior Software Engineer at Microsoft",imageUrl:"/api/placeholder/32/32"}},{id:"computer-vision",name:"Computer Vision",description:"Discuss computer vision algorithms, image processing techniques, and applications. Share research papers and collaborate on projects involving OpenCV and deep learning models.",category:"tech",memberCount:78,newPosts:5,icon:r.jsx(Fx,{className:"h-6 w-6 text-purple-600"}),color:"purple",leader:{name:"Priya Desai",title:"AI Researcher at NVIDIA",imageUrl:"/api/placeholder/32/32"}},{id:"cloud-computing",name:"Cloud Computing",description:"Learn about cloud platforms like AWS, Azure, and GCP. Discuss cloud architecture, serverless computing, and best practices for cloud deployments.",category:"tech",memberCount:92,newPosts:12,icon:r.jsx(SR,{className:"h-6 w-6 text-sky-600"}),color:"sky",leader:{name:"Arun Kumar",title:"Cloud Solutions Architect at AWS",imageUrl:"/api/placeholder/32/32"}},{id:"quantum-computing",name:"Quantum Computing",description:"Explore the fundamentals of quantum computing, quantum algorithms, and the latest advancements in quantum hardware. Discuss applications and future implications.",category:"research",memberCount:45,newPosts:3,icon:r.jsx(kR,{className:"h-6 w-6 text-green-600"}),color:"green",leader:{name:"Dr. Vijay Reddy",title:"Quantum Researcher at IBM",imageUrl:"/api/placeholder/32/32"}},{id:"cyber-security",name:"Cyber Security",description:"Discuss network security, ethical hacking, cryptography, and the latest security threats. Share resources and best practices for securing systems and data.",category:"tech",memberCount:86,newPosts:9,icon:r.jsx(Ux,{className:"h-6 w-6 text-red-600"}),color:"red",leader:{name:"Sneha Patel",title:"Security Consultant at Deloitte",imageUrl:"/api/placeholder/32/32"}},{id:"iot",name:"Internet of Things",description:"Discuss IoT devices, protocols, and applications. Share projects involving Arduino, Raspberry Pi, and other embedded systems. Explore IoT architecture and solutions.",category:"tech",memberCount:64,newPosts:7,icon:r.jsx(PR,{className:"h-6 w-6 text-orange-600"}),color:"orange",leader:{name:"Karthik Nair",title:"IoT Specialist at Bosch",imageUrl:"/api/placeholder/32/32"}}],A={"fsd-genai":[{id:"post1",author:{name:"Rahul Sharma",role:"Alumni - Microsoft",imageUrl:"/api/placeholder/32/32"},content:"Just published a new tutorial on building a full-stack app with React and Firebase. Check it out here: [link]. Let me know if you have any questions!",timestamp:"2 hours ago",likes:12,comments:5},{id:"post2",author:{name:"Anusha Reddy",role:"Student - 3rd Year CSE",imageUrl:"/api/placeholder/32/32"},content:"Has anyone worked with NextJS 14? I'm trying to understand server components and would appreciate any resources or tips.",timestamp:"5 hours ago",likes:7,comments:8},{id:"post3",author:{name:"Vikram Singh",role:"Alumni - Google",imageUrl:"/api/placeholder/32/32"},content:"Excited to announce that we're hosting a workshop on LangChain and building RAG applications next weekend. Looking for student volunteers who want to help and learn along the way!",timestamp:"1 day ago",likes:24,comments:15}],"computer-vision":[{id:"post1",author:{name:"Priya Desai",role:"Alumni - NVIDIA",imageUrl:"/api/placeholder/32/32"},content:"Just released our research paper on efficient object detection algorithms for embedded devices. Would love to get feedback from CV enthusiasts!",timestamp:"3 hours ago",likes:15,comments:7}],"cloud-computing":[{id:"post1",author:{name:"Arun Kumar",role:"Alumni - AWS",imageUrl:"/api/placeholder/32/32"},content:"AWS just announced new serverless features that could revolutionize how we build cloud applications. Let's discuss the implications.",timestamp:"1 hour ago",likes:18,comments:9}]},C={"fsd-genai":[{id:"member1",name:"Vikram Singh",role:"Alumni - Google",year:"2015 Batch",imageUrl:"/api/placeholder/32/32"},{id:"member2",name:"Anusha Reddy",role:"Student - CSE",year:"3rd Year",imageUrl:"/api/placeholder/32/32"},{id:"member3",name:"Karan Mehta",role:"Alumni - Amazon",year:"2018 Batch",imageUrl:"/api/placeholder/32/32"},{id:"member4",name:"Shreya Gupta",role:"Student - IT",year:"4th Year",imageUrl:"/api/placeholder/32/32"},{id:"member5",name:"Rohan Kapoor",role:"Alumni - Flipkart",year:"2020 Batch",imageUrl:"/api/placeholder/32/32"}]};p.useEffect(()=>{e(!1),l(z),u(["fsd-genai","computer-vision"]),w({id:"student123",fullName:"Arjun Sharma",year:"3rd",branch:"CSE",imageUrl:"/api/placeholder/32/32"})},[]);const R=()=>i?o.filter(B=>B.name.toLowerCase().includes(i.toLowerCase())||B.description.toLowerCase().includes(i.toLowerCase())):o,k=B=>{m(B),g(A[B.id]||[]),N(C[B.id]||[]),V(B.leader)},D=B=>{c.includes(B)?u(c.filter(O=>O!==B)):u([...c,B])},S=B=>{if(B.preventDefault(),!x.trim())return;const O={id:`new-post-${Date.now()}`,author:{name:y.fullName,role:`Student - ${y.year} Year ${y.branch}`,imageUrl:y.imageUrl},content:x,timestamp:"Just now",likes:0,comments:0};g([O,...f]),b("")},P=B=>{g(f.map(O=>O.id===B?{...O,likes:O.likes+1}:O))};return t?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Loading communities..."})]})}):r.jsx("div",{className:"bg-gradient-to-b from-white to-blue-50 min-h-screen",children:d?r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsx("button",{className:"mb-6 text-blue-600 flex items-center hover:underline",onClick:()=>m(null),children:" Back to Communities"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 mb-6",children:[r.jsx("div",{className:`bg-${d.color}-50 p-6`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`bg-${d.color}-100 p-4 rounded-full mr-4`,children:d.icon}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:d.name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),d.memberCount," members",r.jsx("span",{className:"mx-2",children:""}),r.jsx(bh,{className:"h-4 w-4 mr-1"}),"Led by ",d.leader.name]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700",children:d.description}),r.jsx("div",{className:"flex mt-6 gap-4",children:r.jsx(W,{variant:c.includes(d.id)?"outline":"default",onClick:()=>D(d.id),children:c.includes(d.id)?"Leave Community":"Join Community"})})]})]}),r.jsxs(ys,{defaultValue:"discussions",className:"mb-8",children:[r.jsxs(ns,{className:"grid w-full grid-cols-3",children:[r.jsx(Be,{value:"discussions",children:"Discussions"}),r.jsx(Be,{value:"members",children:"Members"}),r.jsx(Be,{value:"resources",children:"Resources"})]}),r.jsxs(st,{value:"discussions",className:"space-y-6 mt-6",children:[c.includes(d.id)&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsx("form",{onSubmit:S,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden flex-shrink-0",children:y!=null&&y.imageUrl?r.jsx("img",{src:y.imageUrl,alt:y.fullName,className:"w-full h-full object-cover"}):r.jsx(Rt,{className:"w-full h-full p-2 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("textarea",{className:"w-full border border-gray-200 rounded-lg p-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Share something with the community...",rows:3,value:x,onChange:B=>b(B.target.value)}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsx(W,{type:"submit",disabled:!x.trim(),children:"Post"})})]})]})})}),f.length>0?r.jsx("div",{className:"space-y-6",children:f.map(B=>{var O;return r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden flex-shrink-0",children:(O=B.author)!=null&&O.imageUrl?r.jsx("img",{src:B.author.imageUrl,alt:B.author.name,className:"w-full h-full object-cover"}):r.jsx(Rt,{className:"w-full h-full p-2 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:B.author.name}),r.jsx("p",{className:"text-sm text-gray-500",children:B.author.role})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[r.jsx(In,{className:"h-3 w-3 mr-1"}),B.timestamp]})]}),r.jsx("div",{className:"mt-3 text-gray-700",children:B.content}),r.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[r.jsxs("button",{className:"flex items-center text-gray-500 hover:text-blue-600",onClick:()=>P(B.id),children:[r.jsx(ri,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:B.likes})]}),r.jsxs("button",{className:"flex items-center text-gray-500 hover:text-blue-600",children:[r.jsx(ks,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:B.comments})]})]})]})]})},B.id)})}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 border border-gray-100 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ks,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No discussions yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Be the first to start a discussion in this community"}),c.includes(d.id)?r.jsx(W,{children:"Create a post"}):r.jsx(W,{onClick:()=>D(d.id),children:"Join to Participate"})]})]}),r.jsx(st,{value:"members",className:"mt-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Community Leader"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full overflow-hidden",children:I!=null&&I.imageUrl?r.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-full object-cover"}):r.jsx(Rt,{className:"w-full h-full p-3 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:I==null?void 0:I.name}),r.jsx("p",{className:"text-sm text-gray-500",children:I==null?void 0:I.title})]})]})}),r.jsxs("div",{className:"p-6 border-t border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Members (",d.memberCount,")"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(me,{type:"text",placeholder:"Search members",className:"pl-9 h-9 text-sm w-48"})]})]}),r.jsx("div",{className:"space-y-4",children:v.length>0?v.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden",children:B.imageUrl?r.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-full h-full object-cover"}):r.jsx(Rt,{className:"w-full h-full p-2 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:B.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[B.role,"  ",B.year]})]})]}),r.jsx(W,{variant:"outline",size:"sm",children:"Profile"})]},B.id)):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No members found"})})})]})]})}),r.jsx(st,{value:"resources",className:"mt-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Community Resources"}),c.includes(d.id)?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:"Latest Tutorials"}),r.jsxs("ul",{className:"mt-3 space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2 text-blue-600 hover:underline",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsxs("a",{href:"#",children:["Introduction to ",d.name]})]}),r.jsxs("li",{className:"flex items-center gap-2 text-blue-600 hover:underline",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsxs("a",{href:"#",children:["Advanced techniques in ",d.name]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:"Useful Links"}),r.jsxs("ul",{className:"mt-3 space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2 text-blue-600 hover:underline",children:[r.jsx(bh,{className:"h-4 w-4"}),r.jsx("a",{href:"#",children:"Official Documentation"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-blue-600 hover:underline",children:[r.jsx(bh,{className:"h-4 w-4"}),r.jsx("a",{href:"#",children:"Community Github Repository"})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:"Upcoming Events"}),r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Workshop on ",d.name]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Date: May 5, 2025"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Time: 2:00 PM - 4:00 PM"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Location: Virtual (Zoom)"}),r.jsx(W,{size:"sm",className:"mt-2",children:"Register"})]})]}),r.jsxs(W,{className:"w-full mt-2 flex items-center justify-center gap-2",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Add Resource"]})]}):r.jsxs(qr,{className:"bg-blue-50 border-blue-100",children:[r.jsx(Hr,{children:"Join the community to access resources shared by members and community leaders."}),r.jsx(W,{className:"mt-4",onClick:()=>D(d.id),children:"Join Community"})]})]})})]})]}):r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Communities"}),r.jsx("p",{className:"text-gray-600",children:"Connect with alumni and peers in interest-based communities. Share knowledge, ask questions, and grow together."})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx(me,{type:"text",placeholder:"Search communities...",className:"pl-10",value:i,onChange:B=>a(B.target.value)})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(W,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(rl,{className:"h-4 w-4"}),"Filter"]})})]}),r.jsx(ys,{value:n,onValueChange:s,className:"mb-8",children:r.jsxs(ns,{className:"grid w-full md:w-auto grid-cols-3 md:grid-cols-4",children:[r.jsx(Be,{value:"all",className:"px-4",children:"All"}),r.jsx(Be,{value:"joined",className:"px-4",children:"Joined"}),r.jsx(Be,{value:"tech",className:"px-4",children:"Tech"}),r.jsx(Be,{value:"research",className:"px-4",children:"Research"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R().filter(B=>n==="all"||n==="joined"&&c.includes(B.id)||n===B.category).map(B=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[r.jsx("div",{className:`bg-${B.color}-50 p-4`,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:`bg-${B.color}-100 p-3 rounded-full`,children:B.icon}),r.jsxs("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"})," ",B.memberCount," members"]})]})}),r.jsxs("div",{className:"p-5",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:B.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:B.description}),r.jsxs("div",{className:"flex items-center mt-4 mb-5",children:[r.jsx("div",{className:"flex -space-x-2",children:[...Array(3)].map((O,$)=>r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center overflow-hidden",children:r.jsx(Rt,{className:"h-3 w-3 text-gray-500"})},$))}),r.jsxs("p",{className:"text-xs text-gray-500 ml-2",children:[r.jsx("span",{className:"font-medium",children:B.newPosts})," new posts this week"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{className:"flex-1",onClick:()=>k(B),children:"View"}),r.jsx(W,{variant:c.includes(B.id)?"outline":"secondary",className:"flex-1",onClick:()=>D(B.id),children:c.includes(B.id)?"Joined":"Join"})]})]})]},B.id))})]})})},Iie=hO,Rie=mO,Aie=$y,Pie=fO,W5=p.forwardRef(({className:t,...e},n)=>r.jsx(Ly,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));W5.displayName=Ly.displayName;const Die=od("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),q5=p.forwardRef(({side:t="right",className:e,children:n,...s},i)=>r.jsxs(Pie,{children:[r.jsx(W5,{}),r.jsxs(Fy,{ref:i,className:Ee(Die({side:t}),e),...s,children:[n,r.jsxs($y,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));q5.displayName=Fy.displayName;const H5=({className:t,...e})=>r.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});H5.displayName="SheetHeader";const G5=({className:t,...e})=>r.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});G5.displayName="SheetFooter";const Y5=p.forwardRef(({className:t,...e},n)=>r.jsx(Vy,{ref:n,className:Ee("text-lg font-semibold text-foreground",t),...e}));Y5.displayName=Vy.displayName;const K5=p.forwardRef(({className:t,...e},n)=>r.jsx(Uy,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));K5.displayName=Uy.displayName;const Mie=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState(!0),[o,l]=p.useState(null),[c,u]=p.useState(""),[d,m]=p.useState("all"),[f,g]=p.useState("all"),[x,b]=p.useState("all"),[y,w]=p.useState(null),[v,N]=p.useState(!1),[I,V]=p.useState({topic:"",message:""}),[z,A]=p.useState("explore"),[C,R]=p.useState(!1),k=[...new Set(t.map(_=>_.department))],D=[...new Set(t.flatMap(_=>_.expertise))];p.useEffect(()=>{const _=dt.currentUser;if(!_){l("You must be logged in to view mentors and request mentorship"),a(!1);return}const U=Me(Ce(ce,"mentors"),_t("name")),G=Ot(U,L=>{const X=[];L.forEach(le=>{X.push({id:le.id,...le.data()})}),e(X)},L=>{console.error("Error fetching mentors:",L),l("Error loading mentors. Please try again later.")}),M=Me(Ce(ce,"mentorshipRequests"),Re("studentId","==",_.uid),_t("requestDate","desc")),Y=Ot(M,L=>{const X=[];L.forEach(le=>{X.push({id:le.id,...le.data()})}),s(X),a(!1)},L=>{console.error("Error fetching mentorship requests:",L),o||l("Error loading your mentorship requests. Please try again later."),a(!1)});return()=>{G(),Y()}},[o]);const S=async()=>{if(y)try{const _=dt.currentUser;if(!_){l("You must be logged in to request mentorship");return}const U=await Ba(it(ce,"students",_.uid));if(!U.exists()){l("Student profile not found. Please complete your profile first.");return}const G=U.data(),M={mentorId:y.id,mentorName:y.name,studentId:_.uid,studentName:G.name||_.displayName,studentBranch:G.branch||"Not specified",studentYear:G.year||"Not specified",studentPhotoURL:_.photoURL||null,requestDate:Mt(),status:"pending",topic:I.topic,message:I.message};await wr(Ce(ce,"mentorshipRequests"),M),V({topic:"",message:""}),w(null),N(!1),alert("Mentorship request sent successfully!")}catch(_){console.error("Error sending mentorship request:",_),l("Failed to send mentorship request. Please try again.")}},P=async _=>{if(window.confirm("Are you sure you want to cancel this mentorship request?"))try{await Hl(it(ce,"mentorshipRequests",_.id))}catch(U){console.error("Error canceling request:",U),l("Failed to cancel request. Please try again.")}},B=_=>_?new Date(_.seconds*1e3).toLocaleDateString():"N/A",O=()=>t.filter(_=>{if(c){const U=c.toLowerCase(),G=_.name.toLowerCase().includes(U),M=_.department.toLowerCase().includes(U),Y=_.position.toLowerCase().includes(U),L=_.expertise.some(X=>X.toLowerCase().includes(U));if(!(G||M||Y||L))return!1}return!(d!=="all"&&_.department!==d||f!=="all"&&!_.expertise.includes(f))}),$=()=>n.filter(_=>{if(x!=="all"&&_.status!==x)return!1;if(c){const U=c.toLowerCase();return _.mentorName.toLowerCase().includes(U)||_.topic.toLowerCase().includes(U)}return!0}),T=_=>{if(!_)return null;const U=5,G=Math.floor(_);return r.jsxs("div",{className:"flex",children:[[...Array(U)].map((M,Y)=>r.jsx(_g,{className:`h-4 w-4 ${Y<G?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},Y)),r.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",_.toFixed(1),")"]})]})};return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg text-gray-500",children:"Loading mentors and requests..."})}):o?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6",children:[r.jsx(Cg,{className:"h-10 w-10 text-red-500 mb-4"}),r.jsx("div",{className:"text-lg text-red-500 mb-4 font-medium",children:o}),r.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-lg",children:"There was a problem loading the mentorship data. This may be due to network issues or insufficient permissions."}),r.jsx(W,{onClick:()=>window.location.reload(),children:"Try Again"})]}):r.jsxs("div",{className:"p-6 max-w-full",children:[o&&r.jsxs(qr,{variant:"destructive",className:"mb-6",children:[r.jsx(Cg,{className:"h-4 w-4"}),r.jsx(Hr,{children:o})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mentorship Requests"}),r.jsx("p",{className:"text-gray-600",children:"Find mentors and request mentorship"})]}),r.jsxs(ys,{defaultValue:"explore",value:z,onValueChange:A,className:"w-full",children:[r.jsxs(ns,{className:"mb-6",children:[r.jsx(Be,{value:"explore",children:"Explore Mentors"}),r.jsxs(Be,{value:"myrequests",children:["My Requests",n.length>0&&r.jsx(at,{variant:"default",className:"ml-2 bg-blue-600",children:n.length})]})]}),r.jsxs(st,{value:"explore",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsx(me,{placeholder:"Search by name, department, or expertise...",value:c,onChange:_=>u(_.target.value),className:"w-full"})}),r.jsxs("div",{className:"hidden md:flex gap-3",children:[r.jsxs(Jt,{value:d,onValueChange:m,children:[r.jsx(Kt,{className:"w-52",children:r.jsx(en,{placeholder:"Filter by department"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Departments"}),k.map(_=>r.jsx(pe,{value:_,children:_},_))]})]}),r.jsxs(Jt,{value:f,onValueChange:g,children:[r.jsx(Kt,{className:"w-52",children:r.jsx(en,{placeholder:"Filter by expertise"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Areas of Expertise"}),D.map(_=>r.jsx(pe,{value:_,children:_},_))]})]})]}),r.jsxs(Iie,{open:C,onOpenChange:R,children:[r.jsx(Rie,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"flex md:hidden items-center gap-2",children:[r.jsx(rl,{className:"h-4 w-4"}),r.jsx("span",{children:"Filters"})]})}),r.jsxs(q5,{side:"right",children:[r.jsxs(H5,{children:[r.jsx(Y5,{children:"Filter Mentors"}),r.jsx(K5,{children:"Apply filters to find the right mentor"})]}),r.jsxs("div",{className:"py-4 flex flex-col gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Department"}),r.jsxs(Jt,{value:d,onValueChange:m,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Filter by department"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Departments"}),k.map(_=>r.jsx(pe,{value:_,children:_},_))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Area of Expertise"}),r.jsxs(Jt,{value:f,onValueChange:g,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Filter by expertise"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Areas of Expertise"}),D.map(_=>r.jsx(pe,{value:_,children:_},_))]})]})]})]}),r.jsx(G5,{children:r.jsx(Aie,{asChild:!0,children:r.jsx(W,{children:"Apply Filters"})})})]})]})]}),O().length===0?r.jsxs("div",{className:"text-center p-10 border border-dashed rounded-lg",children:[r.jsx(Rb,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No mentors found"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your filters or search terms."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O().map(_=>r.jsxs(Ct,{className:"overflow-hidden",children:[r.jsx(Vn,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:_.photoURL?r.jsx("img",{src:_.photoURL,alt:_.name,className:"h-full w-full object-cover"}):r.jsx(Rt,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx(Un,{className:"text-lg",children:_.name}),r.jsx($n,{children:_.position})]})]}),T(_.rating)]})}),r.jsxs(Bt,{className:"pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-gray-600",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:_.department})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Expertise"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.expertise.map((U,G)=>r.jsx(at,{variant:"outline",className:"text-xs",children:U},G))})]}),r.jsx("div",{className:"mb-3",children:r.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:_.bio})}),r.jsxs("div",{className:"flex items-center gap-2 mb-1 text-sm text-gray-600",children:[r.jsx(In,{className:"h-4 w-4"}),r.jsxs("span",{children:["Availability: ",_.availability]})]})]}),r.jsx(Ts,{className:"border-t pt-3",children:r.jsxs(bn,{open:v&&(y==null?void 0:y.id)===_.id,onOpenChange:U=>{U||w(null),N(U)},children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>{w(_),N(!0)},children:[r.jsx(zi,{className:"h-4 w-4 mr-2"}),"Request Mentorship"]})}),r.jsxs(mn,{className:"sm:max-w-lg",children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Request Mentorship"}),r.jsxs(Uo,{children:["Send a mentorship request to ",_.name]})]}),r.jsxs("div",{className:"flex items-start gap-4 py-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:_.photoURL?r.jsx("img",{src:_.photoURL,alt:_.name,className:"h-full w-full object-cover"}):r.jsx(Rt,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),r.jsx("p",{className:"text-sm text-gray-600",children:_.position}),r.jsx("p",{className:"text-sm text-gray-600",children:_.department})]})]}),r.jsxs("div",{className:"grid gap-4 py-2",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Topic of Mentorship"}),r.jsx(me,{placeholder:"Briefly describe the topic or area you need guidance with",value:I.topic,onChange:U=>V({...I,topic:U.target.value})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(Rs,{placeholder:"Introduce yourself and explain why you're interested in this mentorship",rows:5,value:I.message,onChange:U=>V({...I,message:U.target.value})})]})]}),r.jsxs(An,{className:"mt-4",children:[r.jsx(W,{variant:"outline",onClick:()=>{w(null),N(!1)},children:"Cancel"}),r.jsx(W,{onClick:S,disabled:!I.topic||!I.message,children:"Send Request"})]})]})]})})]},_.id))})]}),r.jsxs(st,{value:"myrequests",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsx(me,{placeholder:"Search by mentor or topic...",value:c,onChange:_=>u(_.target.value),className:"w-full"})}),r.jsx("div",{className:"w-full sm:w-48",children:r.jsxs(Jt,{value:x,onValueChange:b,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Filter by status"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Statuses"}),r.jsx(pe,{value:"pending",children:"Pending"}),r.jsx(pe,{value:"accepted",children:"Accepted"}),r.jsx(pe,{value:"rejected",children:"Rejected"})]})]})})]}),$().length===0?r.jsxs("div",{className:"text-center p-10 border border-dashed rounded-lg",children:[r.jsx(zi,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No mentorship requests yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:c||x!=="all"?"Try adjusting your filters or search terms.":"Find mentors and send requests to get started."}),!c&&x==="all"&&r.jsx(W,{variant:"outline",className:"mt-4",onClick:()=>A("explore"),children:"Explore Mentors"})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:$().map(_=>r.jsxs("div",{className:`p-4 rounded-lg border ${_.status==="pending"?"border-blue-200 bg-blue-50":_.status==="accepted"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(Rt,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:_.mentorName}),r.jsx("div",{className:"mt-1",children:r.jsx(at,{variant:"outline",className:_.status==="pending"?"border-blue-500 text-blue-700":_.status==="accepted"?"border-green-500 text-green-700":"border-red-500 text-red-700",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})})]})]}),r.jsxs("div",{className:"mt-3 md:mt-0 text-right flex flex-col items-end",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Requested: ",B(_.requestDate)]}),r.jsx("div",{className:"mt-2",children:_.status==="pending"&&r.jsx(W,{size:"sm",variant:"outline",onClick:()=>P(_),className:"border-red-300 text-red-700 hover:bg-red-50",children:"Cancel Request"})})]})]}),r.jsxs("div",{className:"mt-3 pl-0 md:pl-14",children:[r.jsxs("h4",{className:"font-medium text-gray-700",children:["Topic: ",_.topic]}),r.jsx("p",{className:"text-gray-600 mt-1",children:_.message}),_.status==="accepted"&&r.jsx("div",{className:"mt-3 p-3 bg-green-100 rounded-md",children:r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx(sn,{className:"inline h-4 w-4 mr-1"}),"Your mentorship request has been accepted! Check your notifications or email for details on next steps."]})}),_.status==="rejected"&&r.jsx("div",{className:"mt-3 p-3 bg-red-100 rounded-md",children:r.jsx("p",{className:"text-sm text-red-800",children:"This mentorship request was declined. The mentor may not have availability at this time or might not be the best fit for your topic."})})]})]},_.id))})]})]})]})},Oie=()=>{const t=bs(),[e,n]=p.useState(!0),[s,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState({fullName:"",rollNumber:"",branch:"",yearOfStudy:"",areasOfInterest:[],technicalSkills:[],linkedInUrl:"",githubUrl:"",resumeUrl:"",profilePicture:"",email:"",lookingFor:[],bio:"",projects:[]}),[u,d]=p.useState(""),[m,f]=p.useState("");p.useState("");const[g,x]=p.useState(null),[b,y]=p.useState(null),[w,v]=p.useState({title:"",description:"",url:""}),[N,I]=p.useState(!1),[V,z]=p.useState(!1),[A,C]=p.useState(""),R=["CSE","IT","ECE","EEE","MECH","CIVIL","AI & ML","DATA SCIENCE","CHEMICAL","OTHER"],k=["1st Year","2nd Year","3rd Year","4th Year"],D=["Mentorship","Internships","Career Guidance","Projects","Research Opportunities"];p.useEffect(()=>{const H=j4(dt,async te=>{te?(o(te),await S(te.uid)):t("/login")});return()=>H()},[t]);const S=async H=>{n(!0);try{const te=it(ce,"students",H);let J=await Ba(te);if(!J.exists()){const ae=Ce(ce,"students"),ye=Me(ae,Re("userId","==",H)),ve=await ot(ye);ve.empty?(console.log("No profile found for this user"),await Ow(te,{userId:H,email:dt.currentUser.email,createdAt:Mt(),updatedAt:Mt()}),J=await Ba(te)):J=ve.docs[0]}if(J.exists()){const ae=J.data();c({fullName:ae.fullName||"",rollNumber:ae.rollNumber||"",branch:ae.branch||"",yearOfStudy:ae.yearOfStudy||"",areasOfInterest:ae.areasOfInterest||[],technicalSkills:ae.technicalSkills||[],linkedInUrl:ae.linkedInUrl||"",githubUrl:ae.githubUrl||"",resumeUrl:ae.resumeUrl||"",profilePicture:ae.profilePicture||"",email:ae.email||dt.currentUser.email,lookingFor:ae.lookingFor||[],bio:ae.bio||"",projects:ae.projects||[]})}}catch(te){console.error("Error fetching user profile:",te),C("Failed to load profile data. Please try again later.")}finally{n(!1)}},P=()=>{u.trim()!==""&&!l.areasOfInterest.includes(u.trim())&&(c({...l,areasOfInterest:[...l.areasOfInterest,u.trim()]}),d(""))},B=H=>{c({...l,areasOfInterest:l.areasOfInterest.filter(te=>te!==H)})},O=()=>{m.trim()!==""&&!l.technicalSkills.includes(m.trim())&&(c({...l,technicalSkills:[...l.technicalSkills,m.trim()]}),f(""))},$=H=>{c({...l,technicalSkills:l.technicalSkills.filter(te=>te!==H)})},T=H=>{l.lookingFor.includes(H)?c({...l,lookingFor:l.lookingFor.filter(te=>te!==H)}):c({...l,lookingFor:[...l.lookingFor,H]})},_=()=>{w.title.trim()!==""&&w.description.trim()!==""&&(c({...l,projects:[...l.projects,{...w,id:Date.now().toString()}]}),v({title:"",description:"",url:""}),I(!1))},U=H=>{c({...l,projects:l.projects.filter(te=>te.id!==H)})},G=H=>{H.target.files[0]&&x(H.target.files[0])},M=H=>{H.target.files[0]&&y(H.target.files[0])},Y=async()=>{if(!b)return null;try{const H=Bp(zp,`students/${a.uid}/profile-picture`);return await Fw(H,b),await Vw(H)}catch(H){throw console.error("Error uploading profile picture:",H),H}},L=async()=>{if(!g)return null;try{const H=Bp(zp,`students/${a.uid}/resume`);return await Fw(H,g),await Vw(H)}catch(H){throw console.error("Error uploading resume:",H),H}},X=async()=>{if(a){C(""),z(!1);try{const H=it(ce,"students",a.uid);let te={...l,updatedAt:Mt()};if(b){const J=await Y();J&&(te.profilePicture=J)}if(g){const J=await L();J&&(te.resumeUrl=J)}await Yt(H,te),i(!1),z(!0),x(null),y(null),setTimeout(()=>{z(!1)},3e3)}catch(H){console.error("Error updating profile:",H),C("Failed to update profile. Please try again.")}}},le=async()=>{if(!(!a||!l.resumeUrl))try{const H=Bp(zp,`students/${a.uid}/resume`);await LZ(H);const te=it(ce,"students",a.uid);await Yt(te,{resumeUrl:kQ()}),c({...l,resumeUrl:""})}catch(H){console.error("Error deleting resume:",H),C("Failed to delete resume. Please try again.")}},ne=()=>{if(!l.fullName)return"ST";const H=l.fullName.split(" "),te=H[0]?H[0][0]:"",J=H.length>1?H[H.length-1][0]:"";return`${te}${J}`.toUpperCase()};return e?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-xl",children:"Loading profile data..."})}):r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-8 relative",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-32 rounded-t-xl"}),r.jsxs("div",{className:"px-8 pb-8 pt-16 relative",children:[r.jsxs("div",{className:"absolute -top-12 left-8",children:[l.profilePicture?r.jsx("img",{src:l.profilePicture,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white object-cover"}):r.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center border-4 border-white",children:r.jsx("span",{className:"text-blue-600 font-bold text-2xl",children:ne()})}),s&&r.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 p-2 rounded-full text-white cursor-pointer",children:[r.jsx(xU,{className:"h-4 w-4"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M})]})]}),r.jsx("div",{className:"absolute top-4 right-4",children:s?r.jsxs(W,{onClick:X,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:[r.jsx(zl,{className:"h-4 w-4 mr-2"}),"Save Profile"]}):r.jsxs(W,{onClick:()=>i(!0),className:"flex items-center bg-blue-600 hover:bg-blue-700",children:[r.jsx(ec,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),r.jsxs("div",{className:"mt-4",children:[s?r.jsx("input",{type:"text",value:l.fullName,onChange:H=>c({...l,fullName:H.target.value}),className:"text-2xl font-bold mb-1 w-full border-b border-gray-300 focus:outline-none focus:border-blue-500",placeholder:"Full Name"}):r.jsx("h2",{className:"text-2xl font-bold mb-1",children:l.fullName||"Complete Your Profile"}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pa,{className:"h-4 w-4 mr-1"}),l.email]}),l.branch&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(OE,{className:"h-4 w-4 mr-1"}),l.branch]}),l.yearOfStudy&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),l.yearOfStudy]}),l.rollNumber&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Rb,{className:"h-4 w-4 mr-1"}),l.rollNumber]})]}),s?r.jsx("textarea",{value:l.bio,onChange:H=>c({...l,bio:H.target.value}),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Write a short bio about yourself..."}):l.bio&&r.jsx("p",{className:"text-gray-700 mb-4",children:l.bio}),r.jsx("div",{className:"flex gap-4 mt-4",children:s?r.jsxs("div",{className:"space-y-4 w-full",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:l.linkedInUrl,onChange:H=>c({...l,linkedInUrl:H.target.value}),className:"flex-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"LinkedIn URL"})}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:l.githubUrl,onChange:H=>c({...l,githubUrl:H.target.value}),className:"flex-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"GitHub URL"})})]}):r.jsxs(r.Fragment,{children:[l.linkedInUrl&&r.jsx("a",{href:l.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-100 hover:bg-blue-200 text-blue-600 p-2 rounded-full",children:r.jsx(Rt,{className:"h-5 w-5"})}),l.githubUrl&&r.jsx("a",{href:l.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 p-2 rounded-full",children:r.jsx(Rt,{className:"h-5 w-5"})})]})})]})]})]}),V&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Profile updated successfully!"}),A&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:A}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[r.jsx(Rb,{className:"h-5 w-5 text-blue-600 mr-2"}),"Education & Basic Details"]}),s?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roll Number"}),r.jsx("input",{type:"text",value:l.rollNumber,onChange:H=>c({...l,rollNumber:H.target.value}),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your roll number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),r.jsxs("select",{value:l.branch,onChange:H=>c({...l,branch:H.target.value}),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Branch"}),R.map(H=>r.jsx("option",{value:H,children:H},H))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year of Study"}),r.jsxs("select",{value:l.yearOfStudy,onChange:H=>c({...l,yearOfStudy:H.target.value}),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Year"}),k.map(H=>r.jsx("option",{value:H,children:H},H))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Looking For"}),r.jsx("div",{className:"space-y-2",children:D.map(H=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`looking-for-${H}`,checked:l.lookingFor.includes(H),onChange:()=>T(H),className:"mr-2"}),r.jsx("label",{htmlFor:`looking-for-${H}`,children:H})]},H))})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm text-gray-500",children:"Roll Number"}),r.jsx("p",{className:"font-medium",children:l.rollNumber||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm text-gray-500",children:"Branch"}),r.jsx("p",{className:"font-medium",children:l.branch||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm text-gray-500",children:"Year of Study"}),r.jsx("p",{className:"font-medium",children:l.yearOfStudy||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm text-gray-500",children:"Looking For"}),l.lookingFor.length>0?r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:l.lookingFor.map(H=>r.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs",children:H},H))}):r.jsx("p",{className:"font-medium",children:"Not specified"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[r.jsx(_g,{className:"h-5 w-5 text-blue-600 mr-2"}),"Areas of Interest"]}),s?r.jsxs("div",{children:[r.jsxs("div",{className:"flex mb-4",children:[r.jsx("input",{type:"text",value:u,onChange:H=>d(H.target.value),className:"flex-1 p-3 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add an interest",onKeyPress:H=>H.key==="Enter"&&P()}),r.jsx("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-r-md",children:r.jsx(kl,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.areasOfInterest.map((H,te)=>r.jsxs("div",{className:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full flex items-center",children:[H,r.jsx("button",{onClick:()=>B(H),className:"ml-2 text-blue-600",children:r.jsx(er,{className:"h-4 w-4"})})]},te))})]}):r.jsx("div",{className:"flex flex-wrap gap-2",children:l.areasOfInterest.length>0?l.areasOfInterest.map((H,te)=>r.jsx("span",{className:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full",children:H},te)):r.jsx("p",{className:"text-gray-500",children:"No areas of interest specified"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[r.jsx(Mi,{className:"h-5 w-5 text-blue-600 mr-2"}),"Technical Skills"]}),s?r.jsxs("div",{children:[r.jsxs("div",{className:"flex mb-4",children:[r.jsx("input",{type:"text",value:m,onChange:H=>f(H.target.value),className:"flex-1 p-3 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a skill",onKeyPress:H=>H.key==="Enter"&&O()}),r.jsx("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-r-md",children:r.jsx(kl,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.technicalSkills.map((H,te)=>r.jsxs("div",{className:"bg-green-100 text-green-600 px-3 py-1 rounded-full flex items-center",children:[H,r.jsx("button",{onClick:()=>$(H),className:"ml-2 text-green-600",children:r.jsx(er,{className:"h-4 w-4"})})]},te))})]}):r.jsx("div",{className:"flex flex-wrap gap-2",children:l.technicalSkills.length>0?l.technicalSkills.map((H,te)=>r.jsx("span",{className:"bg-green-100 text-green-600 px-3 py-1 rounded-full",children:H},te)):r.jsx("p",{className:"text-gray-500",children:"No technical skills specified"})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[r.jsx(Mi,{className:"h-5 w-5 text-blue-600 mr-2"}),"Resume"]}),s?r.jsxs("div",{className:"space-y-4",children:[l.resumeUrl&&r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-5 w-5 text-gray-500 mr-2"}),r.jsx("span",{children:"Current Resume"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("a",{href:l.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm",children:"View"}),r.jsx("button",{onClick:le,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm",children:"Delete"})]})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center",children:[r.jsx(tc,{className:"h-8 w-8 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"mb-2 text-sm text-gray-500",children:"Upload a new resume (PDF preferred)"}),r.jsx("input",{type:"file",id:"resume-upload",className:"hidden",accept:".pdf,.doc,.docx",onChange:G}),r.jsx("label",{htmlFor:"resume-upload",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md inline-block cursor-pointer",children:"Browse Files"}),g&&r.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",g.name]})]})]}):r.jsx("div",{children:l.resumeUrl?r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-5 w-5 text-blue-500 mr-2"}),r.jsx("span",{children:"Resume uploaded"})]}),r.jsxs("a",{href:l.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm flex items-center",children:[r.jsx(Mi,{className:"h-4 w-4 mr-1"}),"View Resume"]})]}):r.jsx("p",{className:"text-gray-500",children:"No resume uploaded yet"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[r.jsx(OE,{className:"h-5 w-5 text-blue-600 mr-2"}),"Projects"]}),s?r.jsxs("div",{className:"space-y-6",children:[l.projects.map((H,te)=>r.jsxs("div",{className:"border rounded-md p-4 relative",children:[r.jsx("button",{onClick:()=>U(H.id),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:r.jsx(_U,{className:"h-4 w-4"})}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),r.jsx("input",{type:"text",value:H.title,onChange:J=>{const ae=[...l.projects];ae[te].title=J.target.value,c({...l,projects:ae})},className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:H.description,onChange:J=>{const ae=[...l.projects];ae[te].description=J.target.value,c({...l,projects:ae})},className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project URL (Optional)"}),r.jsx("input",{type:"text",value:H.url||"",onChange:J=>{const ae=[...l.projects];ae[te].url=J.target.value,c({...l,projects:ae})},className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]})]},te)),N?r.jsxs("div",{className:"border rounded-md p-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Add New Project"}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),r.jsx("input",{type:"text",value:w.title,onChange:H=>v({...w,title:H.target.value}),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project title"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:w.description,onChange:H=>v({...w,description:H.target.value}),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe your project"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project URL (Optional)"}),r.jsx("input",{type:"text",value:w.url,onChange:H=>v({...w,url:H.target.value}),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs(W,{onClick:_,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(kl,{className:"h-4 w-4 mr-1"}),"Add Project"]}),r.jsx(W,{onClick:()=>{I(!1),v({title:"",description:"",url:""})},variant:"outline",className:"border-gray-300",children:"Cancel"})]})]}):r.jsxs(W,{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(kl,{className:"h-4 w-4 mr-1"}),"Add New Project"]})]}):r.jsx("div",{className:"space-y-6",children:l.projects.length>0?l.projects.map((H,te)=>r.jsxs("div",{className:"border rounded-md p-4 hover:shadow-md transition-shadow",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:H.title}),r.jsx("p",{className:"text-gray-600 mb-3",children:H.description}),H.url&&r.jsxs("a",{href:H.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center text-sm",children:[r.jsx(GitHub,{className:"h-4 w-4 mr-1"}),"View Project"]})]},te)):r.jsx("p",{className:"text-gray-500",children:"No projects added yet"})})]})]})},Lie=()=>{const t=bs(),[e,n]=p.useState("profile"),[s,i]=p.useState(null),[a,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[m,f]=p.useState({type:"",text:""}),[g,x]=p.useState({fullName:"",rollNumber:"",branch:"",year:"",areasOfInterest:[],technicalSkills:[],linkedInUrl:"",githubUrl:"",lookingFor:[],profileVisibility:"all",emailVisibility:"mentors",allowMentorshipRequests:!0,allowEventNotifications:!0,allowOpportunityNotifications:!0,allowCommunityNotifications:!0}),[b,y]=p.useState({currentPassword:"",newPassword:"",confirmPassword:"",newEmail:""});p.useEffect(()=>{(async()=>{var $,T,_,U,G,M;if(!dt.currentUser){t("/login");return}i(dt.currentUser);try{const Y=it(ce,"students",dt.currentUser.uid);let L=await Ba(Y);if(!L.exists()){const le=Ce(ce,"students"),ne=Me(le,Re("userId","==",dt.currentUser.uid)),H=await ot(ne);if(!H.empty)L=H.docs[0];else{f({type:"error",text:"Profile not found. Please complete your profile setup."}),t("/profile/setup");return}}const X=L.data();o(X),x({fullName:X.fullName||"",rollNumber:X.rollNumber||"",branch:X.branch||"",year:X.year||"",areasOfInterest:X.areasOfInterest||[],technicalSkills:X.technicalSkills||[],linkedInUrl:X.linkedInUrl||"",githubUrl:X.githubUrl||"",lookingFor:X.lookingFor||[],profileVisibility:(($=X.settings)==null?void 0:$.profileVisibility)||"all",emailVisibility:((T=X.settings)==null?void 0:T.emailVisibility)||"mentors",allowMentorshipRequests:((_=X.settings)==null?void 0:_.allowMentorshipRequests)!==!1,allowEventNotifications:((U=X.settings)==null?void 0:U.allowEventNotifications)!==!1,allowOpportunityNotifications:((G=X.settings)==null?void 0:G.allowOpportunityNotifications)!==!1,allowCommunityNotifications:((M=X.settings)==null?void 0:M.allowCommunityNotifications)!==!1}),y({...b,newEmail:dt.currentUser.email})}catch(Y){console.error("Error fetching profile:",Y),f({type:"error",text:"Failed to load profile data. Please try again."})}finally{c(!1)}})()},[t]);const w=O=>{const{name:$,value:T,type:_,checked:U}=O.target;x(_==="checkbox"?{...g,[$]:U}:{...g,[$]:T})},v=(O,$)=>{g[O].includes($)?x({...g,[O]:g[O].filter(T=>T!==$)}):x({...g,[O]:[...g[O],$]})},N=O=>{const{name:$,value:T}=O.target;y({...b,[$]:T})},I=async()=>{if(s){d(!0),f({type:"",text:""});try{const O=it(ce,"students",s.uid);await Yt(O,{fullName:g.fullName,rollNumber:g.rollNumber,branch:g.branch,year:g.year,areasOfInterest:g.areasOfInterest,technicalSkills:g.technicalSkills,linkedInUrl:g.linkedInUrl,githubUrl:g.githubUrl,lookingFor:g.lookingFor,settings:{profileVisibility:g.profileVisibility,emailVisibility:g.emailVisibility,allowMentorshipRequests:g.allowMentorshipRequests,allowEventNotifications:g.allowEventNotifications,allowOpportunityNotifications:g.allowOpportunityNotifications,allowCommunityNotifications:g.allowCommunityNotifications,lastUpdated:new Date}}),f({type:"success",text:"Profile settings updated successfully!"})}catch(O){console.error("Error updating settings:",O),f({type:"error",text:"Failed to update settings. Please try again."})}finally{d(!1)}}},V=async()=>{if(s){d(!0),f({type:"",text:""});try{if(b.newEmail===s.email){f({type:"info",text:"New email is the same as current email."}),d(!1);return}if(!b.newEmail.endsWith("@bvrit.ac.in")){f({type:"error",text:"Email must end with @bvrit.ac.in"}),d(!1);return}const O=Ea.credential(s.email,b.currentPassword);await n0(s,O),await fH(s,b.newEmail),f({type:"success",text:"Email updated successfully! Please verify your new email address."}),y({...b,currentPassword:""})}catch(O){console.error("Error updating email:",O),O.code==="auth/wrong-password"?f({type:"error",text:"Incorrect current password."}):O.code==="auth/email-already-in-use"?f({type:"error",text:"Email already in use by another account."}):f({type:"error",text:"Failed to update email. Please try again."})}finally{d(!1)}}},z=async()=>{if(s){d(!0),f({type:"",text:""});try{if(b.newPassword!==b.confirmPassword){f({type:"error",text:"New passwords do not match."}),d(!1);return}if(b.newPassword.length<8){f({type:"error",text:"Password must be at least 8 characters long."}),d(!1);return}const O=Ea.credential(s.email,b.currentPassword);await n0(s,O),await pH(s,b.newPassword),f({type:"success",text:"Password updated successfully!"}),y({...b,currentPassword:"",newPassword:"",confirmPassword:""})}catch(O){console.error("Error updating password:",O),O.code==="auth/wrong-password"?f({type:"error",text:"Incorrect current password."}):f({type:"error",text:"Failed to update password. Please try again."})}finally{d(!1)}}},[A,C]=p.useState(!1),[R,k]=p.useState(""),D=()=>{C(!0)},S=()=>{C(!1),k("")},P=async()=>{if(s){d(!0),f({type:"",text:""});try{const O=Ea.credential(s.email,R);await n0(s,O);const $=Ce(ce,"students",s.uid,"mentorships"),T=await ot($);for(const G of T.docs)await Hl(G.ref);const _=Ce(ce,"students",s.uid,"notifications"),U=await ot(_);for(const G of U.docs)await Hl(G.ref);await Hl(it(ce,"students",s.uid)),await vH(s),t("/")}catch(O){console.error("Error deleting account:",O),O.code==="auth/wrong-password"?f({type:"error",text:"Incorrect password."}):f({type:"error",text:"Failed to delete account. Please try again."}),C(!1),k("")}finally{d(!1)}}},B=async()=>{try{await yH(dt),t("/login")}catch(O){console.error("Error signing out:",O),f({type:"error",text:"Failed to sign out. Please try again."})}};return l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-xl",children:"Loading settings..."})}):r.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"}),m.text&&r.jsxs("div",{className:`p-4 mb-6 rounded-lg flex items-center justify-between ${m.type==="error"?"bg-red-100 text-red-700":m.type==="success"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[r.jsxs("div",{className:"flex items-center",children:[m.type==="error"&&r.jsx(er,{className:"w-5 h-5 mr-2"}),m.type==="success"&&r.jsx(sn,{className:"w-5 h-5 mr-2"}),m.type==="info"&&r.jsx(AR,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:m.text})]}),r.jsx("button",{onClick:()=>f({type:"",text:""}),className:"text-gray-600 hover:text-gray-800",children:r.jsx(er,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex border-b mb-6",children:[r.jsxs("button",{onClick:()=>n("profile"),className:`py-3 px-6 font-medium ${e==="profile"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:[r.jsx(Rt,{className:"w-4 h-4 inline mr-2"}),"Profile Settings"]}),r.jsxs("button",{onClick:()=>n("notifications"),className:`py-3 px-6 font-medium ${e==="notifications"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:[r.jsx(Ox,{className:"w-4 h-4 inline mr-2"}),"Notifications"]}),r.jsxs("button",{onClick:()=>n("privacy"),className:`py-3 px-6 font-medium ${e==="privacy"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:[r.jsx(TR,{className:"w-4 h-4 inline mr-2"}),"Privacy"]}),r.jsxs("button",{onClick:()=>n("security"),className:`py-3 px-6 font-medium ${e==="security"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:[r.jsx(Ux,{className:"w-4 h-4 inline mr-2"}),"Security"]})]}),e==="profile"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",name:"fullName",value:g.fullName,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),r.jsx("input",{type:"text",name:"rollNumber",value:g.rollNumber,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),r.jsxs("select",{name:"branch",value:g.branch,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Select Branch"}),r.jsx("option",{value:"CSE",children:"Computer Science (CSE)"}),r.jsx("option",{value:"IT",children:"Information Technology (IT)"}),r.jsx("option",{value:"ECE",children:"Electronics & Communications (ECE)"}),r.jsx("option",{value:"EEE",children:"Electrical & Electronics (EEE)"}),r.jsx("option",{value:"MECH",children:"Mechanical Engineering"}),r.jsx("option",{value:"CIVIL",children:"Civil Engineering"}),r.jsx("option",{value:"CHEM",children:"Chemical Engineering"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year of Study"}),r.jsxs("select",{name:"year",value:g.year,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Select Year"}),r.jsx("option",{value:"1",children:"1st Year"}),r.jsx("option",{value:"2",children:"2nd Year"}),r.jsx("option",{value:"3",children:"3rd Year"}),r.jsx("option",{value:"4",children:"4th Year"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Areas of Interest"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Web Development","Mobile Development","AI/ML","Data Science","Cloud Computing","IoT","Cybersecurity","UI/UX Design","Blockchain","DevOps","Quantum Computing","AR/VR"].map(O=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`interest-${O}`,checked:g.areasOfInterest.includes(O),onChange:()=>v("areasOfInterest",O),className:"mr-2"}),r.jsx("label",{htmlFor:`interest-${O}`,className:"text-sm",children:O})]},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technical Skills"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["JavaScript","Python","Java","C++","React","Angular","Vue","Node.js","Express","Django","Flask","SpringBoot","AWS","Azure","GCP","Docker","Kubernetes","MongoDB","PostgreSQL","MySQL"].map(O=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`skill-${O}`,checked:g.technicalSkills.includes(O),onChange:()=>v("technicalSkills",O),className:"mr-2"}),r.jsx("label",{htmlFor:`skill-${O}`,className:"text-sm",children:O})]},O))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile URL"}),r.jsx("input",{type:"text",name:"linkedInUrl",value:g.linkedInUrl,onChange:w,placeholder:"https://linkedin.com/in/username",className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub Profile URL"}),r.jsx("input",{type:"text",name:"githubUrl",value:g.githubUrl,onChange:w,placeholder:"https://github.com/username",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I'm Looking For"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:["Mentorship","Internships","Career Guidance","Project Collaboration","Full-time Job"].map(O=>r.jsx("button",{type:"button",onClick:()=>v("lookingFor",O),className:`px-4 py-2 rounded-full text-sm ${g.lookingFor.includes(O)?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:O},O))})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(W,{onClick:I,disabled:u,className:"bg-blue-600 hover:bg-blue-700 flex items-center",children:[u?"Saving...":"Save Changes",r.jsx(zl,{className:"ml-2 h-4 w-4"})]})})]}),e==="notifications"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-lg font-medium mb-4",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Mentorship Requests"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications when alumni respond to your mentorship requests"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"allowMentorshipRequests",checked:g.allowMentorshipRequests,onChange:w,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Event Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications about upcoming events and webinars"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"allowEventNotifications",checked:g.allowEventNotifications,onChange:w,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Opportunity Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications about new job and internship opportunities"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"allowOpportunityNotifications",checked:g.allowOpportunityNotifications,onChange:w,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Community Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications about activity in your communities"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"allowCommunityNotifications",checked:g.allowCommunityNotifications,onChange:w,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(W,{onClick:I,disabled:u,className:"bg-blue-600 hover:bg-blue-700 flex items-center",children:[u?"Saving...":"Save Preferences",r.jsx(zl,{className:"ml-2 h-4 w-4"})]})})]}),e==="privacy"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-lg font-medium mb-4",children:"Privacy Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Choose who can see your profile information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"visibility-all",name:"profileVisibility",value:"all",checked:g.profileVisibility==="all",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"visibility-all",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"All BVRIT Members"})," - Students and Alumni can view your profile"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"visibility-alumni",name:"profileVisibility",value:"alumni",checked:g.profileVisibility==="alumni",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"visibility-alumni",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Alumni Only"})," - Only alumni can view your profile"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"visibility-none",name:"profileVisibility",value:"none",checked:g.profileVisibility==="none",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"visibility-none",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Private"})," - Only you can view your profile"]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Visibility"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Choose who can see your email address"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"email-all",name:"emailVisibility",value:"all",checked:g.emailVisibility==="all",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"email-all",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"All BVRIT Members"})," - Students and Alumni can see your email"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"email-mentors",name:"emailVisibility",value:"mentors",checked:g.emailVisibility==="mentors",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"email-mentors",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Mentors Only"})," - Only alumni mentors can see your email"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"email-none",name:"emailVisibility",value:"none",checked:g.emailVisibility==="none",onChange:w,className:"mr-2"}),r.jsxs("label",{htmlFor:"email-none",className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Private"})," - No one can see your email"]})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(W,{onClick:I,disabled:u,className:"bg-blue-600 hover:bg-blue-700 flex items-center",children:[u?"Saving...":"Save Privacy Settings",r.jsx(zl,{className:"ml-2 h-4 w-4"})]})})]}),e==="security"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-lg font-medium mb-4",children:"Security Settings"}),r.jsxs("div",{className:"border rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Change Email Address"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),r.jsx("input",{type:"password",name:"currentPassword",value:b.currentPassword,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Email Address"}),r.jsx("input",{type:"email",name:"newEmail",value:b.newEmail,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must end with @bvrit.ac.in"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(W,{onClick:V,disabled:u,className:"bg-blue-600 hover:bg-blue-700 flex items-center",children:[u?"Updating...":"Update Email",r.jsx(Pa,{className:"ml-2 h-4 w-4"})]})})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Change Password"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),r.jsx("input",{type:"password",name:"currentPassword",value:b.currentPassword,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),r.jsx("input",{type:"password",name:"newPassword",value:b.newPassword,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),r.jsx("input",{type:"password",name:"confirmPassword",value:b.confirmPassword,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(W,{onClick:z,disabled:u,className:"bg-blue-600 hover:bg-blue-700 flex items-center",children:[u?"Updating...":"Update Password",r.jsx(Hh,{className:"ml-2 h-4 w-4"})]})})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 border-red-200 bg-red-50",children:[r.jsx("h3",{className:"text-md font-medium mb-2 text-red-700",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Deleting your account will permanently remove all your data. This action cannot be undone."}),A?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter Your Password to Confirm"}),r.jsx("input",{type:"password",value:R,onChange:O=>k(O.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{onClick:P,disabled:u,className:"bg-red-600 hover:bg-red-700 flex items-center",children:[u?"Processing...":"Confirm Deletion",r.jsx(Zi,{className:"ml-2 h-4 w-4"})]}),r.jsx(W,{onClick:S,className:"bg-gray-600 hover:bg-gray-700",children:"Cancel"})]})]}):r.jsxs(W,{onClick:D,className:"bg-red-600 hover:bg-red-700 flex items-center",children:["Delete Account",r.jsx(Zi,{className:"ml-2 h-4 w-4"})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(W,{onClick:B,className:"bg-gray-600 hover:bg-gray-700 flex items-center",children:["Sign Out",r.jsx(bh,{className:"ml-2 h-4 w-4"})]})})]})]})},NT=()=>{const t=bs(),[e,n]=p.useState("home"),[s,i]=p.useState(!0),[a,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[m,f]=p.useState([]),[g,x]=p.useState([]),[b,y]=p.useState([]),[w,v]=p.useState([]),[N,I]=p.useState([]),[V,z]=p.useState([]),[A,C]=p.useState([]),[R,k]=p.useState({sentRequestsCount:0,activeMentorshipsCount:0,upcomingMeetingsCount:0,eventsRegisteredCount:0,pendingApplicationsCount:0});p.useEffect(()=>{const $=dt.onAuthStateChanged(T=>{if(!T){t("/login");return}(async()=>{const U=Me(Ce(ce,"students"),Re("userId","==",T.uid));try{const G=await ot(U);G.empty?t("/student/create-profile"):o({id:G.docs[0].id,...G.docs[0].data()})}catch(G){console.error("Error getting student profile:",G)}finally{i(!1)}})()});return()=>$()},[t]),p.useEffect(()=>{if(!a)return;const $=Me(Ce(ce,"notifications"),Re("recipientId","==",a.userId),_t("timestamp","desc"),Ki(10)),T=Ot($,_=>{const U=_.docs.map(G=>({id:G.id,...G.data(),read:G.data().readAt!==null,time:D(G.data().timestamp)}));f(U)});return()=>T()},[a]),p.useEffect(()=>{if(!a)return;const $=Me(Ce(ce,"mentorshipRequests"),Re("studentId","==",a.userId),_t("createdAt","desc")),T=Ot($,async _=>{const U=[];let G=0;for(const M of _.docs){const Y=M.data();try{const L=Me(Ce(ce,"alumni_profiles"),Re("userId","==",Y.mentorId)),X=await ot(L);if(!X.empty){const le=X.docs[0].data(),ne={id:M.id,alumni:le.fullName,company:le.company,position:le.jobTitle,requestType:Y.type,status:Y.status,date:D(Y.createdAt),alumniId:Y.mentorId};U.push(ne),Y.status==="pending"&&G++}}catch(L){console.error("Error getting alumni details:",L)}}x(U),k(M=>({...M,sentRequestsCount:G}))});return()=>T()},[a]),p.useEffect(()=>{if(!a)return;const $=Me(Ce(ce,"mentorships"),Re("studentId","==",a.userId),Re("status","==","active")),T=Ot($,async _=>{const U=[];for(const G of _.docs){const M=G.data();try{const Y=Me(Ce(ce,"alumni_profiles"),Re("userId","==",M.mentorId)),L=await ot(Y);if(!L.empty){const X=L.docs[0].data();U.push({id:G.id,mentor:X.fullName,company:X.company,position:X.jobTitle,topic:M.topic,startDate:D(M.createdAt)})}}catch(Y){console.error("Error getting alumni details for mentorship:",Y)}}y(U),k(G=>({...G,activeMentorshipsCount:U.length}))});return()=>T()},[a]),p.useEffect(()=>{if(!a)return;const $=new Date;$.setHours(0,0,0,0);const T=Me(Ce(ce,"meetings"),Re("studentId","==",a.userId),Re("startTime",">=",$),_t("startTime","asc"),Ki(5)),_=Ot(T,async U=>{const G=[];for(const M of U.docs){const Y=M.data();try{const L=Me(Ce(ce,"alumni_profiles"),Re("userId","==",Y.alumniId)),X=await ot(L);if(!X.empty){const le=X.docs[0].data(),ne=Y.startTime.toDate();G.push({id:M.id,with:le.fullName,topic:Y.topic,date:ne.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),time:ne.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),platform:Y.platform||"Virtual Meeting"})}}catch(L){console.error("Error getting alumni details for meeting:",L)}}v(G),k(M=>({...M,upcomingMeetingsCount:G.length}))});return()=>_()},[a]),p.useEffect(()=>{if(!a)return;const $=new Date;$.setHours(0,0,0,0);const T=Me(Ce(ce,"eventRegistrations"),Re("userId","==",a.userId)),_=async()=>{try{const M=(await ot(T)).docs.map(X=>X.data().eventId),Y=[];for(const X of M){const le=await ot(Me(Ce(ce,"events"),Re("__name__","==",X),Re("eventDate",">=",$)));if(!le.empty){const ne=le.docs[0].data();let H="BVRIT Alumni";if(ne.creatorId){const te=Me(Ce(ce,"alumni_profiles"),Re("userId","==",ne.creatorId)),J=await ot(te);J.empty||(H=J.docs[0].data().fullName)}Y.push({id:le.docs[0].id,title:ne.title,date:D(ne.eventDate),hostedBy:H,venue:ne.venue||"Online",attendees:ne.attendeeCount||0})}}const L=Y.sort((X,le)=>new Date(X.date)-new Date(le.date));I(L),k(X=>({...X,eventsRegisteredCount:L.length}))}catch(G){console.error("Error loading events:",G)}};_();const U=setInterval(_,3e5);return()=>clearInterval(U)},[a]),p.useEffect(()=>{if(!a)return;const $=Me(Ce(ce,"applications"),Re("studentId","==",a.userId),_t("appliedAt","desc")),T=Ot($,async _=>{const U=[];let G=0;for(const M of _.docs){const Y=M.data();try{const L=await ot(Me(Ce(ce,"opportunities"),Re("__name__","==",Y.opportunityId)));if(!L.empty){const X=L.docs[0].data(),le={id:M.id,title:X.title,company:X.company,type:X.type||"Job",status:Y.status,appliedDate:D(Y.appliedAt)};U.push(le),(le.status==="pending"||le.status==="under_review")&&G++}}catch(L){console.error("Error getting opportunity details:",L)}}z(U),k(M=>({...M,pendingApplicationsCount:G}))});return()=>T()},[a]),p.useEffect(()=>{if(!a)return;const $=Me(Ce(ce,"communityMembers"),Re("userId","==",a.userId)),T=async()=>{try{const G=(await ot($)).docs.map(Y=>Y.data().communityId),M=[];for(const Y of G){const L=await ot(Me(Ce(ce,"communities"),Re("__name__","==",Y)));if(!L.empty){const X=L.docs[0].data();let le="Alumni Leader";if(X.creatorId){const ye=Me(Ce(ce,"alumni_profiles"),Re("userId","==",X.creatorId)),ve=await ot(ye);ve.empty||(le=ve.docs[0].data().fullName)}const ne=Me(Ce(ce,"communityMembers"),Re("communityId","==",Y)),H=await ot(ne),te=new Date;te.setDate(te.getDate()-7);const J=Me(Ce(ce,"communityPosts"),Re("communityId","==",Y),Re("createdAt",">=",te)),ae=await ot(J);M.push({id:Y,name:X.name,description:X.description,leader:le,members:H.size,newPosts:ae.size})}}C(M)}catch(U){console.error("Error loading communities:",U)}};T();const _=setInterval(T,3e5);return()=>clearInterval(_)},[a]);const D=$=>$?($.toDate?$.toDate():new Date($)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",S=m.filter($=>!$.read).length,P=async()=>{const $=ce.batch();m.forEach(T=>{if(!T.read){const _=it(ce,"notifications",T.id);$.update(_,{readAt:Mt()})}});try{await $.commit(),f(m.map(T=>({...T,read:!0})))}catch(T){console.error("Error marking notifications as read:",T)}},B=()=>{d(!u)},O=$=>{n($),d(!1)};return s||!a?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Loading your dashboard..."})]})}):r.jsxs("div",{className:"flex min-h-screen bg-gradient-to-b from-white to-blue-50",children:[u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:B}),r.jsx("div",{className:`${u?"translate-x-0":"-translate-x-full lg:translate-x-0"} transition-transform duration-300 fixed lg:relative w-64 bg-white shadow-md h-full z-30 lg:flex lg:flex-shrink-0`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"p-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"BVRIT Connect"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Student Dashboard"})]}),r.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-700",onClick:B,children:r.jsx(er,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"mt-6 flex-1 overflow-y-auto",children:r.jsx("ul",{children:[{id:"home",name:"Home",icon:r.jsx(RR,{className:"w-5 h-5"})},{id:"alumni",name:"Alumni Directory",icon:r.jsx(Pn,{className:"w-5 h-5"})},{id:"events",name:"Events",icon:r.jsx(lt,{className:"w-5 h-5"})},{id:"opportunities",name:"Opportunities Board",icon:r.jsx(hn,{className:"w-5 h-5"})},{id:"communities",name:"Communities",icon:r.jsx(qs,{className:"w-5 h-5"})},{id:"mentorship",name:"Mentorship Requests",icon:r.jsx(Mo,{className:"w-5 h-5"})},{id:"communication",name:"Communication",icon:r.jsx(zi,{className:"w-5 h-5"})},{id:"profile",name:"Profile",icon:r.jsx(Rt,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:r.jsx(nN,{className:"w-5 h-5"})}].map($=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>O($.id),className:`flex items-center w-full p-3 px-6 ${e===$.id?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:[$.icon,r.jsx("span",{className:"ml-3",children:$.name})]})},$.id))})})]})}),r.jsxs("div",{className:"flex-1 w-full",children:[r.jsxs("header",{className:"bg-white shadow-sm py-4 px-4 md:px-8 flex justify-between items-center sticky top-0 z-10",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{className:"mr-4 p-1 rounded-md text-gray-700 hover:bg-gray-100 lg:hidden",onClick:B,children:r.jsx(tN,{className:"h-6 w-6"})}),r.jsx("div",{className:"text-lg font-semibold text-gray-800",children:e.charAt(0).toUpperCase()+e.slice(1)})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>c(!l),className:"relative p-2 rounded-full hover:bg-gray-100",children:[r.jsx(Ox,{className:"h-6 w-6 text-gray-600"}),S>0&&r.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:S})]}),l&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-20",children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsx("h3",{className:"font-semibold",children:"Notifications"}),r.jsx("button",{onClick:P,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:m.length>0?m.map($=>r.jsxs("div",{className:`p-3 border-b hover:bg-gray-50 ${$.read?"":"bg-blue-50"}`,children:[r.jsx("p",{className:"text-sm",children:$.content}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$.time})]},$.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"})})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[a.profilePictureUrl?r.jsx("img",{src:a.profilePictureUrl,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Rt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("div",{className:"font-medium text-sm",children:a.fullName}),r.jsxs("div",{className:"text-xs text-gray-500",children:[a.branch,"  ",a.year," Year"]})]})]})]})]}),r.jsxs("main",{className:"p-4 md:p-8",children:[e==="home"&&r.jsxs("div",{className:"space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Mentorship Requests"}),r.jsx("h3",{className:"text-xl md:text-3xl font-bold mt-1",children:R.sentRequestsCount})]}),r.jsx("div",{className:"p-2 md:p-3 bg-blue-50 rounded-full",children:r.jsx(ks,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-500"})})]}),r.jsx("div",{className:"mt-3 md:mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-xs md:text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("mentorship"),children:["Manage requests",r.jsx(Fr,{className:"h-3 w-3 md:h-4 md:w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Mentorships"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:R.activeMentorshipsCount})]}),r.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:r.jsx(ts,{className:"h-6 w-6 text-green-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("mentorship"),children:["View active mentorships",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming Meetings"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:R.upcomingMeetingsCount})]}),r.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:r.jsx(lt,{className:"h-6 w-6 text-purple-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("communication"),children:["View calendar",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applications"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:R.pendingApplicationsCount})]}),r.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:r.jsx(hn,{className:"h-6 w-6 text-red-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("opportunities"),children:["Track applications",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Active Mentorships"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("alumni"),children:"Find more mentors"})]}),r.jsx("div",{className:"p-6",children:b.length>0?r.jsx("div",{className:"space-y-4",children:b.map($=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:r.jsx(ts,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h4",{className:"font-medium",children:$.mentor}),r.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[$.company,"  ",$.position]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",$.topic]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(In,{className:"h-3 w-3 mr-1"}),"Since ",$.startDate]})]})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Mo,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No active mentorships"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Connect with alumni mentors to get started"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("alumni"),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Find Mentors"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("communication"),children:"Schedule new"})]}),r.jsx("div",{className:"p-6",children:w.length>0?r.jsx("div",{className:"space-y-4",children:w.map($=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-purple-100 rounded-full p-3 mr-4",children:r.jsx(In,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:$.topic}),r.jsxs("p",{className:"text-sm text-gray-600",children:["with ",$.with]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),$.date,r.jsx("span",{className:"mx-2",children:""}),r.jsx(In,{className:"h-3 w-3 mr-1"}),$.time,r.jsx("span",{className:"mx-2",children:""}),$.platform]})]})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(lt,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No upcoming meetings"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Schedule a meeting with a mentor"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("communication"),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Mentorship Requests"})}),r.jsx("div",{className:"p-6",children:g.length>0?r.jsx("div",{className:"space-y-4",children:g.slice(0,3).map($=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:`rounded-full p-3 mr-4 ${$.status==="accepted"?"bg-green-100":$.status==="rejected"?"bg-red-100":"bg-yellow-100"}`,children:r.jsx(ks,{className:`h-5 w-5 ${$.status==="accepted"?"text-green-600":$.status==="rejected"?"text-red-600":"text-yellow-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h4",{className:"font-medium",children:$.alumni}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${$.status==="accepted"?"bg-green-100 text-green-700":$.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:$.status.charAt(0).toUpperCase()+$.status.slice(1)})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[$.company,"  ",$.position]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Request Type: ",$.requestType]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(In,{className:"h-3 w-3 mr-1"}),"Sent on: ",$.date]})]})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Mo,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No mentorship requests"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Reach out to alumni for guidance and support"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Events"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("events"),children:"View all"})]}),r.jsx("div",{className:"p-6",children:N.length>0?r.jsx("div",{className:"space-y-4",children:N.map($=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-red-100 rounded-full p-3 mr-4",children:r.jsx(lt,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:$.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Hosted by: ",$.hostedBy]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),$.date,r.jsx("span",{className:"mx-2",children:""}),r.jsx(pr,{className:"h-3 w-3 mr-1"}),$.venue,r.jsx("span",{className:"mx-2",children:""}),r.jsx(Pn,{className:"h-3 w-3 mr-1"}),$.attendees," attendees"]})]})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(lt,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No upcoming events"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Register for events to network with alumni"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("events"),children:[r.jsx(lt,{className:"h-4 w-4 mr-2"}),"Browse Events"]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Applications"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("opportunities"),children:"Find opportunities"})]}),r.jsx("div",{className:"p-6",children:V.length>0?r.jsx("div",{className:"space-y-4",children:V.map($=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:r.jsx(hn,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h4",{className:"font-medium",children:$.title}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${$.status==="accepted"?"bg-green-100 text-green-700":$.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:$.status.split("_").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" ")})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[$.company,"  ",$.type]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(In,{className:"h-3 w-3 mr-1"}),"Applied: ",$.appliedDate]})]})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(hn,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No applications yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Apply for opportunities posted by alumni"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("opportunities"),children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),"Browse Opportunities"]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Communities"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("communities"),children:"Explore all"})]}),r.jsx("div",{className:"p-6",children:A.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map($=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:r.jsx(qs,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("span",{className:"text-xs font-medium bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:[$.members," Members"]})]}),r.jsx("h3",{className:"font-semibold text-gray-900",children:$.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:$.description}),r.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[$.newPosts," new posts this week"]}),r.jsx(W,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>t(`/communities/${$.id}`),children:"View Community"})]},$.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(qs,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No communities joined"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Join communities to connect with alumni and peers"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("communities"),children:[r.jsx(qs,{className:"h-4 w-4 mr-2"}),"Explore Communities"]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"BVRIT Connect Assistant"})}),r.jsx("div",{className:"p-6",children:r.jsx(CN,{})})]})]}),e==="alumni"&&r.jsx(hre,{}),e==="events"&&r.jsx(mre,{}),e==="opportunities"&&r.jsx(Tie,{}),e==="communities"&&r.jsx(z5,{}),e==="mentorship"&&r.jsx(Mie,{}),e==="profile"&&r.jsx(Oie,{}),e==="settings"&&r.jsx(Lie,{})]})]})]})},Fie=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState(""),[o,l]=p.useState(!0),[c,u]=p.useState(null),[d,m]=p.useState({branch:"",year:"",skills:""}),[f,g]=p.useState(!1),[x,b]=p.useState(null);bs();const y=["Computer Science Engineering","Information Technology","Electronics and Communication Engineering","Electrical and Electronics Engineering","Mechanical Engineering","Civil Engineering"],w=["1st Year","2nd Year","3rd Year","4th Year"];p.useEffect(()=>{(async()=>{l(!0);try{const R=Ce(ce,"students"),k=Me(R,_t("fullName"),Ki(10)),D=await ot(k),S=[];D.forEach(P=>{S.push({id:P.id,...P.data()})}),D.docs.length>0&&u(D.docs[D.docs.length-1]),e(S),s(S),l(!1)}catch(R){console.error("Error fetching students:",R),l(!1)}})()},[]);const v=async()=>{if(c)try{const C=Ce(ce,"students"),R=Me(C,_t("fullName"),KD(c),Ki(10)),k=await ot(R),D=[];if(k.forEach(S=>{D.push({id:S.id,...S.data()})}),k.docs.length>0){u(k.docs[k.docs.length-1]),e(P=>[...P,...D]);const S=[...t,...D];N(S,i,d)}}catch(C){console.error("Error loading more students:",C)}};p.useEffect(()=>{N(t,i,d)},[i,d,t]);const N=(C,R,k)=>{let D=[...C];if(R){const S=R.toLowerCase();D=D.filter(P=>P.fullName&&P.fullName.toLowerCase().includes(S)||P.branch&&P.branch.toLowerCase().includes(S)||P.skills&&Array.isArray(P.skills)&&P.skills.some(B=>B.toLowerCase().includes(S)))}k.branch&&(D=D.filter(S=>S.branch===k.branch)),k.year&&(D=D.filter(S=>S.year===k.year)),k.skills&&(D=D.filter(S=>S.skills&&Array.isArray(S.skills)&&S.skills.some(P=>P.toLowerCase().includes(k.skills.toLowerCase())))),s(D)},I=()=>{m({branch:"",year:"",skills:""}),a("")},V=C=>{b(C)},z=()=>{b(null)},A=C=>{window.location.href=`mailto:${C}`};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Student Directory"}),r.jsx("p",{className:"text-gray-600",children:"Browse and connect with BVRIT students, find project collaborators, and discover student talent."})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx(me,{type:"text",placeholder:"Search by name, branch or skills...",value:i,onChange:C=>a(C.target.value),className:"pl-10 pr-4 py-2 w-full"})]}),r.jsxs(W,{variant:"outline",onClick:()=>g(!f),className:"flex items-center gap-2",children:[r.jsx(rl,{size:16}),"Filters"]}),f&&r.jsx(W,{onClick:()=>g(!1),className:"md:hidden w-full",children:"Apply Filters"})]}),f&&r.jsxs("div",{className:"pt-4 border-t mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),r.jsxs("select",{value:d.branch,onChange:C=>m({...d,branch:C.target.value}),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[r.jsx("option",{value:"",children:"All Branches"}),y.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsxs("select",{value:d.year,onChange:C=>m({...d,year:C.target.value}),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[r.jsx("option",{value:"",children:"All Years"}),w.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills"}),r.jsx(me,{type:"text",placeholder:"e.g. React, Python, Machine Learning",value:d.skills,onChange:C=>m({...d,skills:C.target.value}),className:"w-full"})]}),r.jsx("div",{className:"col-span-1 md:col-span-3 flex justify-end",children:r.jsx(W,{variant:"ghost",onClick:I,className:"text-sm",children:"Reset Filters"})})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-600 border-b-blue-600 border-gray-200 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading students..."})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[n.length," ",n.length===1?"Result":"Results"]}),n.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 mb-2",children:"No students found matching your criteria"}),r.jsx(W,{variant:"outline",onClick:I,className:"mt-2",children:"Reset Filters"})]}):r.jsxs("div",{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:n.map(C=>r.jsxs("div",{onClick:()=>V(C),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md cursor-pointer transition-shadow",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:C.profilePicture?r.jsx("img",{src:C.profilePicture,alt:C.fullName,className:"w-14 h-14 rounded-full object-cover"}):r.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:C.fullName?C.fullName.charAt(0).toUpperCase():"S"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-semibold text-lg",children:C.fullName}),r.jsx("p",{className:"text-gray-600 text-sm",children:C.year||"N/A"})]})]}),r.jsx("div",{className:"space-y-2 mb-4",children:C.branch&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(ts,{size:16,className:"mt-1 text-gray-500 mr-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:C.branch})]})}),C.skills&&Array.isArray(C.skills)&&C.skills.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[C.skills.slice(0,3).map((R,k)=>r.jsx(at,{variant:"secondary",className:"text-xs",children:R},k)),C.skills.length>3&&r.jsxs(at,{variant:"outline",className:"text-xs",children:["+",C.skills.length-3," more"]})]}),r.jsx("div",{className:"mt-4 flex justify-end items-center",children:r.jsxs(W,{size:"sm",variant:"ghost",className:"text-blue-600",children:["View Profile ",r.jsx(Xj,{size:14,className:"ml-1"})]})})]},C.id))}),n.length<t.length||c?r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx(W,{onClick:v,variant:"outline",disabled:!c,children:"Load More Students"})}):null]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-screen overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center",children:[x.profilePicture?r.jsx("img",{src:x.profilePicture,alt:x.fullName,className:"w-16 h-16 rounded-full object-cover"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-xl",children:x.fullName?x.fullName.charAt(0).toUpperCase():"S"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:x.fullName}),r.jsxs("p",{className:"text-gray-600",children:[x.branch,"  ",x.year]})]})]}),r.jsx("button",{onClick:z,className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[x.bio&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"About"}),r.jsx("p",{className:"text-gray-700",children:x.bio})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Academic Information"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(ts,{size:18,className:"text-gray-500 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:x.branch}),r.jsx("p",{className:"text-sm text-gray-600",children:x.year})]})]})})]}),x.skills&&Array.isArray(x.skills)&&x.skills.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Skills"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.skills.map((C,R)=>r.jsx(at,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:C},R))})]}),x.interests&&Array.isArray(x.interests)&&x.interests.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.interests.map((C,R)=>r.jsx(at,{variant:"outline",className:"text-gray-700 hover:bg-gray-100",children:C},R))})]}),x.projects&&Array.isArray(x.projects)&&x.projects.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Projects"}),r.jsx("div",{className:"space-y-4",children:x.projects.map((C,R)=>r.jsxs("div",{className:"border-l-2 border-gray-200 pl-4",children:[r.jsx("p",{className:"font-medium",children:C.title}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:C.description}),r.jsx("div",{className:"flex flex-wrap gap-1",children:C.technologies.map((k,D)=>r.jsx(at,{variant:"secondary",className:"text-xs",children:k},D))})]},R))})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),r.jsx("div",{className:"space-y-3",children:x.email&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pa,{size:16,className:"text-gray-500 mr-2"}),r.jsx("a",{href:`mailto:${x.email}`,className:"text-blue-600 hover:underline",children:x.email})]})})]}),r.jsxs("div",{children:[r.jsxs(W,{className:"w-full mb-2",onClick:()=>x.email&&A(x.email),children:[r.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Contact Student"]}),r.jsxs(W,{variant:"outline",className:"w-full mb-2",children:[r.jsx(zi,{className:"w-4 h-4 mr-2"}),"Message"]}),r.jsxs(W,{variant:"ghost",className:"w-full text-gray-600",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"View Full Profile"]})]})]})]})})]})})]})},Q5=t=>{switch(t){case"networking":return"bg-blue-500";case"workshop":return"bg-purple-500";case"webinar":return"bg-green-500";case"hackathon":return"bg-orange-500";case"reunion":return"bg-indigo-500";default:return"bg-gray-500"}},Vie=()=>{var Z,se;const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState("all"),[d,m]=p.useState(!1),[f,g]=p.useState(!1),[x,b]=p.useState(null),[y,w]=p.useState(""),[v,N]=p.useState(""),[I,V]=p.useState(""),[z,A]=p.useState(""),[C,R]=p.useState(""),[k,D]=p.useState("online"),[S,P]=p.useState(""),[B,O]=p.useState(""),[$,T]=p.useState("networking"),[_,U]=p.useState(new Date),[G,M]=p.useState(""),[Y,L]=p.useState("all"),X=(Z=dt.currentUser)==null?void 0:Z.uid,le=(se=dt.currentUser)==null?void 0:se.email,ne=()=>{const K=ps(_),he=uf(_),de=Zr(K),_e=df(he),$e=[];let ze=de;for(;ka(ze,_e)||Bn(ze,_e);)$e.push(ze),ze=Fn(ze,1);return $e},H=K=>Bn(K,new Date);p.useEffect(()=>{if(!X)return;l(!0);const K=Ce(ce,"events"),he=Me(K,_t("eventDate","asc")),de=Ot(he,_e=>{const $e=_e.docs.map(We=>{var Dn,Ls;return{id:We.id,...We.data(),eventDate:(Dn=We.data().eventDate)==null?void 0:Dn.toDate(),createdAt:(Ls=We.data().createdAt)==null?void 0:Ls.toDate()}});e($e),s($e);const ze=$e.filter(We=>We.createdBy===X);a(ze),l(!1)},_e=>{console.error("Error fetching events: ",_e),l(!1)});return()=>de()},[X]),p.useEffect(()=>{let K=[...t];G&&(K=K.filter(he=>he.title.toLowerCase().includes(G.toLowerCase())||he.description.toLowerCase().includes(G.toLowerCase()))),Y!=="all"&&(K=K.filter(he=>he.category===Y)),s(K)},[G,Y,t]);const te=async()=>{if(console.log("Date:",I,"Time:",z),!y||!I||!z){console.log("Missing required fields:",{title:!y,date:!I,time:!z}),alert("Please fill all required fields");return}try{const K=`${I}T${z}`,he=new Date(K);await wr(Ce(ce,"events"),{title:y,description:v,eventDate:Et.fromDate(he),location:C,eventType:k,eventLink:k==="online"?S:"",capacity:Number(B)||50,category:$,attendees:[],createdBy:X,creatorId:X,creatorEmail:le,createdAt:Mt()}),ve(),m(!1)}catch(K){console.error("Error creating event: ",K),alert("Failed to create event. Please try again.")}},J=async K=>{if(K&&window.confirm("Are you sure you want to delete this event?"))try{await Hl(it(ce,"events",K))}catch(he){console.error("Error deleting event: ",he),alert("Failed to delete event. Please try again.")}},ae=async(K,he)=>{if(!(!X||!K))try{const de=it(ce,"events",K),_e=await ot(Me(Ce(ce,"events"),Re("__name__","==",K)));if(_e.empty){console.error("Event not found");return}const ze=_e.docs[0].data().attendees||[];he?ze.includes(X)||await Yt(de,{attendees:[...ze,X]}):await Yt(de,{attendees:ze.filter(We=>We!==X)})}catch(de){console.error("Error updating RSVP: ",de),alert("Failed to update your RSVP status. Please try again.")}},ye=K=>{var he;b(K),w(K.title),N(K.description||""),V(K.eventDate?Ft(K.eventDate,"yyyy-MM-dd"):""),A(K.eventDate?Ft(K.eventDate,"HH:mm"):""),R(K.location||""),D(K.eventType||"online"),P(K.eventLink||""),O(((he=K.capacity)==null?void 0:he.toString())||"50"),T(K.category||"networking"),g(!0)},ve=()=>{w(""),N(""),V(""),A(""),R(""),D("online"),P(""),O("50"),T("networking"),b(null)},Ue=K=>{var he;return(he=K.attendees)==null?void 0:he.includes(X)},Oe=()=>t.filter(K=>K.eventDate&&xc(K.eventDate,_)),Vt=()=>{U(_O(_,1))},re=()=>{U(tr(_,1))},qe=K=>K&&ka(K,new Date),q=K=>K.createdBy===X;return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Events Dashboard"}),r.jsx("p",{className:"text-gray-500",children:"Create and manage events for BVRIT students"})]}),r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{ve(),m(!0)},children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Create New Event"]})]}),r.jsxs(ys,{value:c,onValueChange:u,className:"mb-6",children:[r.jsxs(ns,{children:[r.jsx(Be,{value:"all",children:"All Events"}),r.jsx(Be,{value:"my",children:"My Events"}),r.jsx(Be,{value:"attending",children:"Attending"}),r.jsx(Be,{value:"calendar",children:"Calendar View"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Cr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"Search events...",className:"pl-10",value:G,onChange:K=>M(K.target.value)})]}),r.jsxs(Jt,{value:Y,onValueChange:L,children:[r.jsx(Kt,{className:"w-full sm:w-48",children:r.jsx(en,{placeholder:"Filter by category"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Categories"}),r.jsx(pe,{value:"networking",children:"Networking"}),r.jsx(pe,{value:"workshop",children:"Workshop"}),r.jsx(pe,{value:"webinar",children:"Webinar"}),r.jsx(pe,{value:"hackathon",children:"Hackathon"}),r.jsx(pe,{value:"reunion",children:"Reunion"}),r.jsx(pe,{value:"other",children:"Other"})]})]})]}),r.jsx(st,{value:"all",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(K=>r.jsx(I0,{event:K,onRSVP:ae,onEdit:ye,onDelete:J,isAttending:Ue(K),isMyEvent:q(K)},K.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"No events found. Try adjusting your search or filter."})})}),r.jsx(st,{value:"my",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length>0?i.map(K=>r.jsx(I0,{event:K,onRSVP:ae,onEdit:ye,onDelete:J,isAttending:Ue(K),isMyEvent:!0,showAttendees:!0},K.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"You haven't created any events yet."})})}),r.jsx(st,{value:"attending",children:o?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(uu,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.filter(K=>Ue(K)).length>0?n.filter(K=>Ue(K)).map(K=>r.jsx(I0,{event:K,onRSVP:ae,onEdit:ye,onDelete:J,isAttending:!0,isMyEvent:q(K)},K.id)):r.jsx("div",{className:"col-span-3 text-center py-12 text-gray-500",children:"You're not attending any events yet."})})}),r.jsx(st,{value:"calendar",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs(W,{variant:"outline",onClick:Vt,children:[r.jsx(eN,{className:"h-4 w-4 mr-1"}),"Previous"]}),r.jsx("h3",{className:"text-lg font-semibold",children:Ft(_,"MMMM yyyy")}),r.jsxs(W,{variant:"outline",onClick:re,children:["Next",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-6",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((K,he)=>r.jsx("div",{className:"text-center font-medium text-sm py-2",children:K},he)),ne().map((K,he)=>{const de=K?t.filter(_e=>_e.eventDate&&_e.eventDate.getDate()===K.getDate()&&_e.eventDate.getMonth()===K.getMonth()&&_e.eventDate.getFullYear()===K.getFullYear()):[];return r.jsx("div",{className:`
                      p-1 min-h-16 border rounded-md relative
                      ${K?"":"bg-gray-50"}
                      ${K&&H(K)?"border-blue-500 border-2":"border-gray-100"}
                      ${xc(K,_)?"":"text-gray-400"}
                    `,children:K&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs font-medium mb-1 p-1",children:Ft(K,"d")}),r.jsxs("div",{className:"space-y-1",children:[de.slice(0,3).map((_e,$e)=>r.jsx(fN,{children:r.jsxs(xA,{children:[r.jsx(yA,{asChild:!0,children:r.jsx("div",{className:`
                                      text-xs truncate rounded-sm px-1 py-0.5 cursor-pointer
                                      ${Q5(_e.category).replace("bg-","bg-opacity-80 text-white bg-")}
                                    `,children:_e.title})}),r.jsxs(pN,{side:"top",children:[r.jsx("p",{className:"font-medium",children:_e.title}),r.jsx("p",{className:"text-xs",children:Ft(_e.eventDate,"h:mm a")}),_e.eventType==="online"?r.jsxs("p",{className:"text-xs flex items-center mt-1",children:[r.jsx(Bl,{className:"h-3 w-3 mr-1"}),"Online"]}):r.jsxs("p",{className:"text-xs flex items-center mt-1",children:[r.jsx(Qs,{className:"h-3 w-3 mr-1"}),_e.location||"Location not specified"]})]})]})},$e)),de.length>3&&r.jsxs("div",{className:"text-xs text-gray-500 pl-1",children:["+",de.length-3," more"]})]})]})},he)})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h4",{className:"font-medium mb-4 text-gray-700",children:"Events this month"}),r.jsx("div",{className:"space-y-4",children:Oe().length>0?Oe().map(K=>r.jsxs("div",{className:"flex p-4 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-blue-100 rounded-lg flex flex-col items-center justify-center mr-4",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:K.eventDate?Ft(K.eventDate,"d"):"--"}),r.jsx("span",{className:"text-blue-600 text-xs",children:K.eventDate?Ft(K.eventDate,"MMM"):"--"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:K.title}),r.jsx("p",{className:"text-sm text-gray-500",children:K.eventDate?Ft(K.eventDate,"h:mm a"):"Time not specified"})]}),r.jsx(at,{className:qe(K.eventDate)?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700",children:qe(K.eventDate)?"Past":"Upcoming"})]}),r.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[K.eventType==="online"?r.jsx(Bl,{className:"h-4 w-4 mr-1"}):r.jsx(Qs,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:K.eventType==="online"?"Online Event":K.location})]}),r.jsxs("div",{className:"flex justify-between mt-3",children:[r.jsx(at,{variant:"outline",className:"text-xs",children:K.category}),!qe(K.eventDate)&&r.jsx(W,{size:"sm",variant:Ue(K)?"outline":"default",className:Ue(K)?"":"bg-blue-600 hover:bg-blue-700",onClick:()=>ae(K.id,!Ue(K)),children:Ue(K)?r.jsxs(r.Fragment,{children:[r.jsx(zo,{className:"h-4 w-4 mr-1"}),"Attending"]}):"RSVP"})]})]})]},K.id)):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No events scheduled for ",Ft(_,"MMMM yyyy"),"."]})})]})]})})]}),r.jsx(bn,{open:d,onOpenChange:m,children:r.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsx(fn,{children:r.jsx(pn,{children:"Create New Event"})}),r.jsxs("div",{className:"grid gap-6 py-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"title",children:"Event Title*"}),r.jsx(me,{id:"title",value:y,onChange:K=>w(K.target.value),placeholder:"Enter event title",required:!0})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"description",children:"Description"}),r.jsx(Rs,{id:"description",value:v,onChange:K=>N(K.target.value),placeholder:"Describe your event",rows:4})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"date",children:"Date*"}),r.jsx(me,{id:"date",type:"date",value:I,onChange:K=>V(K.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"time",children:"Time*"}),r.jsx(me,{id:"time",type:"time",value:z,onChange:K=>A(K.target.value),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"category",children:"Category"}),r.jsxs(Jt,{value:$,onValueChange:T,children:[r.jsx(Kt,{id:"category",children:r.jsx(en,{placeholder:"Select category"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"networking",children:"Networking"}),r.jsx(pe,{value:"workshop",children:"Workshop"}),r.jsx(pe,{value:"webinar",children:"Webinar"}),r.jsx(pe,{value:"hackathon",children:"Hackathon"}),r.jsx(pe,{value:"reunion",children:"Reunion"}),r.jsx(pe,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"eventType",children:"Event Type"}),r.jsxs(Jt,{value:k,onValueChange:D,children:[r.jsx(Kt,{id:"eventType",children:r.jsx(en,{placeholder:"Select event type"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"online",children:"Online"}),r.jsx(pe,{value:"in-person",children:"In-Person"})]})]})]}),k==="online"?r.jsxs("div",{children:[r.jsx(be,{htmlFor:"eventLink",children:"Meeting Link"}),r.jsx(me,{id:"eventLink",value:S,onChange:K=>P(K.target.value),placeholder:"Enter meeting link"})]}):r.jsxs("div",{children:[r.jsx(be,{htmlFor:"location",children:"Location"}),r.jsx(me,{id:"location",value:C,onChange:K=>R(K.target.value),placeholder:"Enter event location"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"capacity",children:"Max Capacity"}),r.jsx(me,{id:"capacity",type:"number",value:B,onChange:K=>O(K.target.value),placeholder:"Enter maximum number of attendees"})]})]}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:te,children:"Create Event"})]})]})})]})},I0=({event:t,onRSVP:e,onEdit:n,onDelete:s,isAttending:i,isMyEvent:a,showAttendees:o=!1})=>{var c;const l=t.eventDate&&ka(t.eventDate,new Date);return r.jsxs(Ct,{className:"overflow-hidden hover:shadow-md transition-shadow duration-200 border-gray-100",children:[r.jsx("div",{className:`h-2 ${Q5(t.category)}`}),r.jsx(Vn,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(Un,{className:"text-lg font-semibold text-gray-800",children:t.title}),r.jsxs($n,{className:"flex items-center mt-1 text-gray-500",children:[r.jsx(lt,{className:"h-4 w-4 mr-1 text-blue-600"}),t.eventDate?Ft(t.eventDate,"MMMM d, yyyy  h:mm a"):"Date not specified"]})]}),r.jsx(at,{className:l?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700",children:l?"Past":"Upcoming"})]})}),r.jsxs(Bt,{className:"pb-2",children:[r.jsx("div",{className:"flex items-center mb-3 text-sm text-gray-600",children:t.eventType==="online"?r.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full bg-indigo-50",children:[r.jsx(Bl,{className:"h-4 w-4 mr-1 text-indigo-600"}),r.jsx("span",{className:"text-indigo-700",children:"Online Event"})]}):r.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full bg-emerald-50",children:[r.jsx(Qs,{className:"h-4 w-4 mr-1 text-emerald-600"}),r.jsx("span",{className:"text-emerald-700",children:t.location||"Location not specified"})]})}),r.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-3",children:t.description||"No description provided."}),o&&r.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2 text-blue-600"}),r.jsxs("span",{children:[((c=t.attendees)==null?void 0:c.length)||0," attendees"]})]})]}),r.jsxs(Ts,{className:"flex justify-between pt-2 border-t border-gray-100",children:[r.jsx(at,{variant:"outline",className:"text-xs px-2 py-1",children:t.category}),r.jsxs("div",{className:"flex gap-2",children:[a&&r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-blue-50",onClick:()=>n(t),children:r.jsx(ec,{className:"h-4 w-4 text-blue-600"})}),r.jsx(W,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-red-50",onClick:()=>s(t.id),children:r.jsx(Zi,{className:"h-4 w-4 text-red-500"})})]}),!l&&r.jsx(W,{size:"sm",variant:i?"outline":"default",className:i?"border-green-500 text-green-600 hover:bg-green-50":"bg-blue-600 hover:bg-blue-700",onClick:()=>e(t.id,!i),children:i?r.jsxs(r.Fragment,{children:[r.jsx(zo,{className:"h-4 w-4 mr-1"}),"Attending"]}):"RSVP"})]})]})]})},Uie=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[i,a]=p.useState(""),[o,l]=p.useState("all"),[c,u]=p.useState(!1),[d,m]=p.useState(!1),[f,g]=p.useState(null),[x,b]=p.useState(""),[y,w]=p.useState("allOpportunities"),[v,N]=p.useState(!1),[I,V]=p.useState({opportunityId:null,message:"",resume:""}),A=uy().currentUser,{toast:C}=Lm(),[R,k]=p.useState({title:"",company:"",location:"",type:"Full-time",description:"",requirements:"",deadline:"",applicationLink:"",applicationEmail:""}),[D,S]=p.useState(!1),[P,B]=p.useState(null);p.useEffect(()=>{const X=(()=>{try{s(!0);const le=Me(Ce(ce,"opportunities"),_t("createdAt","desc"));return Ot(le,H=>{const te=H.docs.map(J=>({id:J.id,...J.data()}));e(te),s(!1)},H=>{console.error("Error getting real-time updates: ",H),s(!1),C({title:"Error",description:"Failed to load opportunities. Please refresh the page.",variant:"destructive"})})}catch(le){console.error("Error setting up opportunities listener: ",le),s(!1),C({title:"Error",description:"Failed to connect to the database. Please refresh the page.",variant:"destructive"})}})();return()=>{X&&X()}},[C]);const O=L=>{const{name:X,value:le}=L.target;k({...R,[X]:le})},$=async()=>{if(!A){C({title:"Authentication Required",description:"Please sign in to post opportunities.",variant:"destructive"});return}if(!R.title||!R.company||!R.description){b("Please fill out all required fields (Title, Company, and Description)");return}try{const L={...R,creatorId:A.uid,creatorName:A.displayName||"Anonymous",creatorPhoto:A.photoURL||"",applications:0,active:!0,createdAt:Mt()};D&&P?(await Yt(it(ce,"opportunities",P),L),C({title:"Success",description:"Your opportunity has been updated.",variant:"default"})):(await wr(Ce(ce,"opportunities"),L),C({title:"Success",description:"Your opportunity has been posted.",variant:"default"})),k({title:"",company:"",location:"",type:"Full-time",description:"",requirements:"",deadline:"",applicationLink:"",applicationEmail:""}),b(""),u(!1),S(!1),B(null)}catch(L){console.error("Error creating opportunity: ",L),b("Failed to save opportunity. Please try again."),C({title:"Error",description:"Failed to save opportunity. Please try again.",variant:"destructive"})}},T=L=>{k({title:L.title,company:L.company,location:L.location||"",type:L.type||"Full-time",description:L.description,requirements:L.requirements||"",deadline:L.deadline||"",applicationLink:L.applicationLink||"",applicationEmail:L.applicationEmail||""}),S(!0),B(L.id),u(!0)},_=async()=>{if(f)try{await Hl(it(ce,"opportunities",f)),m(!1),g(null),C({title:"Success",description:"Opportunity has been deleted.",variant:"default"})}catch(L){console.error("Error deleting opportunity: ",L),C({title:"Error",description:"Failed to delete opportunity. Please try again.",variant:"destructive"})}},U=L=>A&&L.createdBy===A.uid,G=t.filter(L=>{const X=L.title.toLowerCase().includes(i.toLowerCase())||L.company.toLowerCase().includes(i.toLowerCase())||L.description&&L.description.toLowerCase().includes(i.toLowerCase()),le=o==="all"||L.type===o,ne=y==="allOpportunities"||y==="myOpportunities"&&L.createdBy===(A==null?void 0:A.uid);return X&&le&&ne}),M=L=>{if(!L)return"No deadline";try{return(L.toDate?L.toDate():new Date(L)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},Y=()=>A?null:r.jsxs(qr,{className:"mb-4",children:[r.jsx(vh,{className:"h-4 w-4"}),r.jsx(Hr,{children:"You are not signed in. Some features may be limited."})]});return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center",children:[r.jsx(hn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Opportunities Board"]}),r.jsx("p",{className:"text-gray-600",children:"Create and manage opportunities for BVRIT students or browse opportunities posted by alumni."}),Y()]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[r.jsxs("div",{className:"flex flex-grow gap-3",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Cr,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(me,{placeholder:"Search opportunities...",className:"pl-10",value:i,onChange:L=>a(L.target.value)})]}),r.jsxs(w1,{children:[r.jsx(j1,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"flex items-center",children:[r.jsx(rl,{className:"h-4 w-4 mr-2"}),o==="all"?"All Types":o,r.jsx(Jl,{className:"h-4 w-4 ml-2"})]})}),r.jsxs(Yy,{children:[r.jsx(mr,{onClick:()=>l("all"),children:"All Types"}),r.jsx(mr,{onClick:()=>l("Full-time"),children:"Full-time"}),r.jsx(mr,{onClick:()=>l("Part-time"),children:"Part-time"}),r.jsx(mr,{onClick:()=>l("Internship"),children:"Internship"}),r.jsx(mr,{onClick:()=>l("Contract"),children:"Contract"})]})]})]}),r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{if(!A){C({title:"Authentication Required",description:"Please sign in to post opportunities.",variant:"destructive"});return}S(!1),B(null),k({title:"",company:"",location:"",type:"Full-time",description:"",requirements:"",deadline:"",applicationLink:"",applicationEmail:""}),b(""),u(!0)},children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Post New Opportunity"]})]})}),r.jsxs("div",{className:"flex border-b mb-6",children:[r.jsx("button",{className:`px-4 py-2 ${y==="allOpportunities"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500"}`,onClick:()=>w("allOpportunities"),children:"Browse All Opportunities"}),r.jsx("button",{className:`px-4 py-2 ${y==="myOpportunities"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500"}`,onClick:()=>{if(!A){C({title:"Authentication Required",description:"Please sign in to view your opportunities.",variant:"destructive"});return}w("myOpportunities")},children:"My Posted Opportunities"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold mb-6",children:y==="myOpportunities"?"Your Posted Opportunities":"Browse All Opportunities"}),n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading opportunities..."})]}):G.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:G.map(L=>r.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:L.title}),r.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[r.jsx(pr,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:L.company}),L.location&&r.jsxs("span",{className:"ml-2",children:[" ",L.location]})]})]}),r.jsx(at,{className:`
                    ${L.type==="Full-time"?"bg-green-100 text-green-800 hover:bg-green-200":L.type==="Internship"?"bg-blue-100 text-blue-800 hover:bg-blue-200":L.type==="Part-time"?"bg-purple-100 text-purple-800 hover:bg-purple-200":"bg-orange-100 text-orange-800 hover:bg-orange-200"}
                  `,children:L.type})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:L.description}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:["Deadline: ",M(L.deadline)]})]}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[L.applications||0," applications"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(Fx,{className:"h-4 w-4 mr-1"}),"View Details"]})}),r.jsxs(mn,{className:"max-w-2xl",children:[r.jsx(fn,{children:r.jsx(pn,{children:L.title})}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(pr,{className:"h-4 w-4 mr-2 text-gray-500"}),r.jsx("span",{className:"font-medium",children:L.company}),L.location&&r.jsxs("span",{className:"ml-2 text-gray-600",children:[" ",L.location]})]}),r.jsx(at,{className:`mb-4 ${L.type==="Full-time"?"bg-green-100 text-green-800":L.type==="Internship"?"bg-blue-100 text-blue-800":L.type==="Part-time"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:L.type}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:L.description})]}),L.requirements&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Requirements"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:L.requirements})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Applications"}),r.jsxs("p",{className:"text-gray-700",children:[L.applications||0," students applied"]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Deadline"}),r.jsx("p",{className:"text-gray-700",children:M(L.deadline)})]})]}),(L.applicationLink||L.applicationEmail)&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"How to Apply"}),L.applicationLink&&r.jsxs("p",{className:"text-gray-700 mb-1",children:["Application Link: ",r.jsxs("a",{href:L.applicationLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[L.applicationLink,r.jsx(Lx,{className:"h-3 w-3 ml-1"})]})]}),L.applicationEmail&&r.jsxs("p",{className:"text-gray-700",children:["Email: ",r.jsx("a",{href:`mailto:${L.applicationEmail}`,className:"text-blue-600 hover:underline",children:L.applicationEmail})]})]})]}),r.jsx(An,{children:U(L)?r.jsxs(r.Fragment,{children:[r.jsxs(W,{variant:"outline",onClick:()=>T(L),children:[r.jsx(ec,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs(W,{variant:"destructive",onClick:()=>{g(L.id),m(!0)},children:[r.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Delete"]})]}):r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{if(!A){C({title:"Authentication Required",description:"Please sign in to apply for this opportunity.",variant:"destructive"});return}V({...I,opportunityId:L.id}),N(!0)},children:[r.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Apply Now"]})})]})]}),r.jsx("div",{className:"flex space-x-2",children:U(L)?r.jsxs(r.Fragment,{children:[r.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>T(L),children:[r.jsx(ec,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(W,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>{g(L.id),m(!0)},children:[r.jsx(Zi,{className:"h-4 w-4 mr-1"}),"Delete"]})]}):r.jsxs(W,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>{if(!A){C({title:"Authentication Required",description:"Please sign in to apply for this opportunity.",variant:"destructive"});return}V({...I,opportunityId:L.id}),N(!0)},children:[r.jsx(Gh,{className:"h-4 w-4 mr-1"}),"Apply"]})})]})]},L.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No opportunities found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:i||o!=="all"?"Try adjusting your search or filters":y==="myOpportunities"?"You haven't posted any opportunities yet":"No opportunities available at the moment"}),!i&&o==="all"&&y==="myOpportunities"&&A&&r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>u(!0),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Post New Opportunity"]})]})]}),r.jsx(bn,{open:c,onOpenChange:u,children:r.jsxs(mn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(fn,{children:r.jsx(pn,{children:D?"Edit Opportunity":"Post New Opportunity"})}),x&&r.jsxs(qr,{variant:"destructive",className:"mb-4",children:[r.jsx(vh,{className:"h-4 w-4"}),r.jsx(Hr,{children:x})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(be,{htmlFor:"title",className:"mb-2",children:["Job Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{id:"title",name:"title",placeholder:"e.g. Frontend Developer Intern",value:R.title,onChange:O})]}),r.jsxs("div",{children:[r.jsxs(be,{htmlFor:"company",className:"mb-2",children:["Company ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(me,{id:"company",name:"company",placeholder:"e.g. Google",value:R.company,onChange:O})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"location",className:"mb-2",children:"Location"}),r.jsx(me,{id:"location",name:"location",placeholder:"e.g. Hyderabad, Remote",value:R.location,onChange:O})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"type",className:"mb-2",children:"Job Type"}),r.jsxs(Jt,{name:"type",value:R.type,onValueChange:L=>k({...R,type:L}),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select job type"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"Full-time",children:"Full-time"}),r.jsx(pe,{value:"Part-time",children:"Part-time"}),r.jsx(pe,{value:"Internship",children:"Internship"}),r.jsx(pe,{value:"Contract",children:"Contract"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs(be,{htmlFor:"description",className:"mb-2",children:["Job Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Rs,{id:"description",name:"description",placeholder:"Enter detailed job description, responsibilities, etc.",className:"h-32",value:R.description,onChange:O})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"requirements",className:"mb-2",children:"Requirements"}),r.jsx(Rs,{id:"requirements",name:"requirements",placeholder:"Enter skills, qualifications, experience required",className:"h-24",value:R.requirements,onChange:O})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx(be,{htmlFor:"deadline",className:"mb-2",children:"Application Deadline"}),r.jsx(me,{id:"deadline",name:"deadline",type:"date",value:R.deadline,onChange:O})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"applicationLink",className:"mb-2",children:"Application Link"}),r.jsx(me,{id:"applicationLink",name:"applicationLink",placeholder:"e.g. https://company.com/apply",value:R.applicationLink,onChange:O})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"applicationEmail",className:"mb-2",children:"Application Email"}),r.jsx(me,{id:"applicationEmail",name:"applicationEmail",placeholder:"e.g. careers@company.com",value:R.applicationEmail,onChange:O})]})]})]}),r.jsxs(An,{className:"flex justify-between items-center mt-6",children:[r.jsx(W,{variant:"outline",onClick:()=>{u(!1),b("")},children:"Cancel"}),r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:$,children:D?"Update Opportunity":"Post Opportunity"})]})]})}),r.jsx(bn,{open:d,onOpenChange:m,children:r.jsxs(mn,{className:"max-w-md",children:[r.jsx(fn,{children:r.jsx(pn,{children:"Confirm Deletion"})}),r.jsx("div",{className:"py-4",children:r.jsx("p",{className:"text-gray-700",children:"Are you sure you want to delete this opportunity? This action cannot be undone."})}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),r.jsx(W,{variant:"destructive",onClick:_,children:"Delete"})]})]})})]})},$ie=()=>{var Vt;const[t,e]=p.useState(!0),[n,s]=p.useState("managed"),[i,a]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,m]=p.useState([]),[f,g]=p.useState(null),[x,b]=p.useState([]),[y,w]=p.useState(""),[v,N]=p.useState(null),[I,V]=p.useState([]),[z,A]=p.useState([]),[C,R]=p.useState(!1),[k,D]=p.useState({name:"",description:"",category:"tech"}),[S,P]=p.useState([]),[B,O]=p.useState(""),[$,T]=p.useState([]),[_,U]=p.useState({totalMembers:0,activeMembers:0,postsLastWeek:0,upcomingEvents:0}),G=[{id:"fsd-genai",name:"Full Stack Development & GenAI",description:"Explore modern web development technologies and generative AI applications. Share projects, discuss frameworks like React, Node.js, and learn about LLMs.",category:"tech",memberCount:124,newPosts:8,icon:r.jsx($u,{className:"h-6 w-6 text-blue-600"}),color:"blue",leader:{id:"alumni123",name:"Rahul Sharma",title:"Senior Software Engineer at Microsoft",imageUrl:"/api/placeholder/32/32"}},{id:"computer-vision",name:"Computer Vision",description:"Discuss computer vision algorithms, image processing techniques, and applications. Share research papers and collaborate on projects involving OpenCV and deep learning models.",category:"tech",memberCount:78,newPosts:5,icon:r.jsx(Fx,{className:"h-6 w-6 text-purple-600"}),color:"purple",leader:{id:"alumni456",name:"Priya Desai",title:"AI Researcher at NVIDIA",imageUrl:"/api/placeholder/32/32"}},{id:"cloud-computing",name:"Cloud Computing",description:"Learn about cloud platforms like AWS, Azure, and GCP. Discuss cloud architecture, serverless computing, and best practices for cloud deployments.",category:"tech",memberCount:92,newPosts:12,icon:r.jsx(SR,{className:"h-6 w-6 text-sky-600"}),color:"sky",leader:{id:"alumni123",name:"Arun Kumar",title:"Cloud Solutions Architect at AWS",imageUrl:"/api/placeholder/32/32"}},{id:"quantum-computing",name:"Quantum Computing",description:"Explore the fundamentals of quantum computing, quantum algorithms, and the latest advancements in quantum hardware. Discuss applications and future implications.",category:"research",memberCount:45,newPosts:3,icon:r.jsx(kR,{className:"h-6 w-6 text-green-600"}),color:"green",leader:{id:"alumni789",name:"Dr. Vijay Reddy",title:"Quantum Researcher at IBM",imageUrl:"/api/placeholder/32/32"}},{id:"cyber-security",name:"Cyber Security",description:"Discuss network security, ethical hacking, cryptography, and the latest security threats. Share resources and best practices for securing systems and data.",category:"tech",memberCount:86,newPosts:9,icon:r.jsx(Ux,{className:"h-6 w-6 text-red-600"}),color:"red",leader:{id:"alumni321",name:"Sneha Patel",title:"Security Consultant at Deloitte",imageUrl:"/api/placeholder/32/32"}},{id:"iot",name:"Internet of Things",description:"Discuss IoT devices, protocols, and applications. Share projects involving Arduino, Raspberry Pi, and other embedded systems. Explore IoT architecture and solutions.",category:"tech",memberCount:64,newPosts:7,icon:r.jsx(PR,{className:"h-6 w-6 text-orange-600"}),color:"orange",leader:{id:"alumni567",name:"Karthik Nair",title:"IoT Specialist at Bosch",imageUrl:"/api/placeholder/32/32"}}],M={"fsd-genai":[{id:"post1",author:{name:"Rahul Sharma",role:"Alumni - Microsoft",imageUrl:"/api/placeholder/32/32"},content:"Just published a new tutorial on building a full-stack app with React and Firebase. Check it out here: [link]. Let me know if you have any questions!",timestamp:"2 hours ago",likes:12,comments:5},{id:"post2",author:{name:"Anusha Reddy",role:"Student - 3rd Year CSE",imageUrl:"/api/placeholder/32/32"},content:"Has anyone worked with NextJS 14? I'm trying to understand server components and would appreciate any resources or tips.",timestamp:"5 hours ago",likes:7,comments:8},{id:"post3",author:{name:"Vikram Singh",role:"Alumni - Google",imageUrl:"/api/placeholder/32/32"},content:"Excited to announce that we're hosting a workshop on LangChain and building RAG applications next weekend. Looking for student volunteers who want to help and learn along the way!",timestamp:"1 day ago",likes:24,comments:15}]},Y={"fsd-genai":[{id:"member1",name:"Vikram Singh",role:"Alumni - Google",year:"2015 Batch",imageUrl:"/api/placeholder/32/32"},{id:"member2",name:"Anusha Reddy",role:"Student - CSE",year:"3rd Year",imageUrl:"/api/placeholder/32/32"},{id:"member3",name:"Karan Mehta",role:"Alumni - Amazon",year:"2018 Batch",imageUrl:"/api/placeholder/32/32"},{id:"member4",name:"Shreya Gupta",role:"Student - IT",year:"4th Year",imageUrl:"/api/placeholder/32/32"},{id:"member5",name:"Rohan Kapoor",role:"Alumni - Flipkart",year:"2020 Batch",imageUrl:"/api/placeholder/32/32"}]},L={"fsd-genai":[{id:"approval1",name:"Manish Kumar",role:"Student - ECE",year:"2nd Year",imageUrl:"/api/placeholder/32/32",requestDate:"2 days ago"},{id:"approval2",name:"Divya Shah",role:"Student - IT",year:"3rd Year",imageUrl:"/api/placeholder/32/32",requestDate:"1 day ago"}]},X={"fsd-genai":[{id:"announcement1",content:"We'll be hosting a workshop on React and Firebase next Saturday at 2 PM. Please register through the events page!",timestamp:"3 days ago"},{id:"announcement2",content:"Our community just crossed 100 members! Thanks to everyone for making this a vibrant learning space.",timestamp:"1 week ago"}]},le={"fsd-genai":[{id:"event1",title:"Workshop: Building Full Stack Applications with React & Firebase",date:"May 15, 2025",time:"2:00 PM - 4:00 PM",location:"Virtual (Zoom)",description:"Learn how to build modern web applications using React and Firebase. This hands-on workshop will cover everything from setup to deployment.",attendees:45},{id:"event2",title:"Webinar: Introduction to Large Language Models",date:"May 22, 2025",time:"6:00 PM - 7:30 PM",location:"Virtual (Microsoft Teams)",description:"Explore the fundamentals of LLMs, their applications, and how you can use them in your projects. Perfect for beginners in AI.",attendees:32}]},ne={"fsd-genai":{totalMembers:124,activeMembers:87,postsLastWeek:23,upcomingEvents:2},"computer-vision":{totalMembers:78,activeMembers:54,postsLastWeek:15,upcomingEvents:1}};p.useEffect(()=>{e(!1),l(G),N({id:"alumni123",fullName:"Rahul Sharma",graduationYear:"2015",branch:"CSE",company:"Microsoft",jobTitle:"Senior Software Engineer",imageUrl:"/api/placeholder/32/32"});const re=G.filter(qe=>qe.leader&&qe.leader.id==="alumni123");u(re),m(["fsd-genai","computer-vision","cloud-computing"])},[]);const H=()=>i?o.filter(re=>re.name.toLowerCase().includes(i.toLowerCase())||re.description.toLowerCase().includes(i.toLowerCase())):o,te=re=>{g(re),b(M[re.id]||[]),V(Y[re.id]||[]),A(L[re.id]||[]),P(X[re.id]||[]),T(le[re.id]||[]),U(ne[re.id]||{totalMembers:0,activeMembers:0,postsLastWeek:0,upcomingEvents:0})},J=re=>{d.includes(re)?m(d.filter(qe=>qe!==re)):m([...d,re])},ae=re=>{if(re.preventDefault(),!y.trim())return;const qe={id:`new-post-${Date.now()}`,author:{name:v.fullName,role:`Alumni - ${v.company}`,imageUrl:v.imageUrl},content:y,timestamp:"Just now",likes:0,comments:0};b([qe,...x]),w("")},ye=re=>{b(x.map(qe=>qe.id===re?{...qe,likes:qe.likes+1}:qe))},ve=()=>{const re={id:k.name.toLowerCase().replace(/\s+/g,"-"),name:k.name,description:k.description,category:k.category,memberCount:1,newPosts:0,icon:r.jsx($u,{className:"h-6 w-6 text-blue-600"}),color:"blue",leader:{id:v.id,name:v.fullName,title:`${v.jobTitle} at ${v.company}`,imageUrl:v.imageUrl}};l([...o,re]),u([...c,re]),m([...d,re.id]),D({name:"",description:"",category:"tech"}),R(!1)},Ue=re=>{if(re.preventDefault(),!B.trim())return;const qe={id:`announcement-${Date.now()}`,content:B,timestamp:"Just now"};P([qe,...S]),O("")},Oe=(re,qe)=>{const q=z.filter(Z=>Z.id!==re);if(A(q),qe){const Z=z.find(se=>se.id===re);Z&&(V([...I,Z]),U({..._,totalMembers:_.totalMembers+1}))}};return t?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Loading communities..."})]})}):r.jsx("div",{className:"bg-gradient-to-b from-white to-blue-50 min-h-screen",children:f?r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsx("button",{className:"mb-6 text-blue-600 flex items-center hover:underline",onClick:()=>g(null),children:" Back to Communities"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 mb-6",children:[r.jsx("div",{className:`bg-${f.color}-50 p-6`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`bg-${f.color}-100 p-4 rounded-full mr-4`,children:f.icon}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),f.memberCount," members",r.jsx("span",{className:"mx-2",children:""}),r.jsx(bh,{className:"h-4 w-4 mr-1"}),c.some(re=>re.id===f.id)?"You are the community leader":`Led by ${(Vt=f.leader)==null?void 0:Vt.name}`]})]})]}),c.some(re=>re.id===f.id)&&r.jsxs(W,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(nN,{className:"h-4 w-4"}),"Community Settings"]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700",children:f.description}),c.some(re=>re.id===f.id)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:_.totalMembers}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-green-700",children:_.activeMembers}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-700",children:_.postsLastWeek}),r.jsx("p",{className:"text-sm text-gray-600",children:"Posts Last Week"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:_.upcomingEvents}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming Events"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.some(re=>re.id===f.id)&&r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 mb-6",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"Pending Approvals"}),z.length>0&&r.jsxs("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full",children:[z.length," New"]})]}),r.jsx("div",{className:"p-4",children:z.length===0?r.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No pending approval requests"}):r.jsx("div",{className:"space-y-4",children:z.map(re=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mr-3",children:r.jsx("img",{src:re.imageUrl,alt:re.name,className:"h-full w-full object-cover"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-800",children:re.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[re.role,"  ",re.year]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1",onClick:()=>Oe(re.id,!1),children:r.jsx(Zi,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"ghost",className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-1",onClick:()=>Oe(re.id,!0),children:r.jsx(sn,{className:"h-4 w-4"})})]})]},re.id))})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 mb-6",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsx("h2",{className:"font-semibold text-gray-800",children:"Announcements"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("form",{onSubmit:Ue,className:"mb-4",children:[r.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",placeholder:"Post an announcement for the community...",rows:3,value:B,onChange:re=>O(re.target.value)}),r.jsx(W,{type:"submit",className:"w-full",disabled:!B.trim(),children:"Post Announcement"})]}),r.jsx("div",{className:"divide-y divide-gray-100",children:S.map(re=>r.jsxs("div",{className:"py-3",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-1",children:re.content}),r.jsx("p",{className:"text-xs text-gray-500",children:re.timestamp})]},re.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"Upcoming Events"}),r.jsx(W,{size:"sm",variant:"ghost",className:"text-blue-600 text-xs",children:"+ Add Event"})]}),r.jsx("div",{className:"p-4",children:$.length===0?r.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No upcoming events"}):r.jsx("div",{className:"space-y-4",children:$.map(re=>r.jsxs("div",{className:"border border-gray-100 rounded-lg p-3",children:[r.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:re.title}),r.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-600",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),re.date,r.jsx("span",{className:"mx-1",children:""}),r.jsx(In,{className:"h-3 w-3 mr-1"}),re.time]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:re.description}),r.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[r.jsx(Pn,{className:"h-3 w-3 inline mr-1"}),re.attendees," attending"]}),r.jsx(W,{size:"sm",variant:"outline",className:"text-xs py-1 h-7",children:"Details"})]})]},re.id))})})]})]}),r.jsxs("div",{className:c.some(re=>re.id===f.id)?"col-span-1 lg:col-span-2":"col-span-3",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 mb-6",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsx("h2",{className:"font-semibold text-gray-800",children:"Discussion"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("form",{onSubmit:ae,className:"mb-6",children:[r.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",placeholder:"Share something with the community...",rows:3,value:y,onChange:re=>w(re.target.value)}),r.jsx("div",{className:"flex justify-end",children:r.jsx(W,{type:"submit",disabled:!y.trim(),children:"Post"})})]}),r.jsx("div",{className:"space-y-6",children:x.map(re=>r.jsx("div",{className:"border-b border-gray-100 pb-6 last:border-b-0 last:pb-0",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mr-3",children:r.jsx("img",{src:re.author.imageUrl,alt:re.author.name,className:"h-full w-full object-cover"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:re.author.name}),r.jsx("span",{className:"mx-2 text-gray-300",children:""}),r.jsx("p",{className:"text-sm text-gray-500",children:re.author.role})]}),r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:re.timestamp}),r.jsx("div",{className:"text-gray-700 mb-3",children:re.content}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsxs("button",{className:"flex items-center hover:text-blue-600",onClick:()=>ye(re.id),children:[r.jsx(ri,{className:"h-4 w-4 mr-1"}),re.likes]}),r.jsx("span",{className:"mx-3",children:""}),r.jsxs("button",{className:"flex items-center hover:text-blue-600",children:[r.jsx(ks,{className:"h-4 w-4 mr-1"}),re.comments," Comments"]})]})]}),re.author.name===v.fullName&&r.jsx("div",{className:"ml-auto",children:r.jsxs(w1,{children:[r.jsx(j1,{className:"outline-none",children:r.jsx(W,{size:"sm",variant:"ghost",children:r.jsx(Jl,{className:"h-4 w-4"})})}),r.jsxs(Yy,{children:[r.jsxs(mr,{className:"flex items-center",children:[r.jsx(ec,{className:"h-4 w-4 mr-2"}),"Edit Post"]}),r.jsxs(mr,{className:"flex items-center text-red-600",children:[r.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Delete Post"]})]})]})})]})},re.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"Members"}),r.jsxs("div",{className:"relative flex-1 max-w-xs ml-4",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(me,{type:"text",placeholder:"Search members...",className:"pl-9 py-1 h-8 text-sm"})]})]}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:I.map(re=>r.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mr-3",children:r.jsx("img",{src:re.imageUrl,alt:re.name,className:"h-full w-full object-cover"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:re.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[re.role,"  ",re.year]})]})]},re.id))})})]})]})]})]}):r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Communities"}),r.jsx("p",{className:"text-gray-600",children:"Manage your communities, share knowledge, and mentor students in your areas of expertise."})]}),r.jsxs(W,{onClick:()=>R(!0),className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Create Community"]})]})}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx(me,{type:"text",placeholder:"Search communities...",className:"pl-10",value:i,onChange:re=>a(re.target.value)})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(W,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(rl,{className:"h-4 w-4"}),"Filter"]})})]}),r.jsx(ys,{value:n,onValueChange:s,className:"mb-8",children:r.jsxs(ns,{className:"grid w-full md:w-auto grid-cols-3 md:grid-cols-4",children:[r.jsx(Be,{value:"managed",className:"px-4",children:"Managed"}),r.jsx(Be,{value:"joined",className:"px-4",children:"Joined"}),r.jsx(Be,{value:"all",className:"px-4",children:"All"}),r.jsx(Be,{value:"tech",className:"px-4",children:"Tech"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H().filter(re=>n==="all"||n==="managed"&&c.some(qe=>qe.id===re.id)||n==="joined"&&d.includes(re.id)||n===re.category).map(re=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[r.jsx("div",{className:`bg-${re.color}-50 p-4`,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:`bg-${re.color}-100 p-3 rounded-full`,children:re.icon}),r.jsxs("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"})," ",re.memberCount," members"]})]})}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:re.name}),c.some(qe=>qe.id===re.id)&&r.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full",children:"Leader"})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:re.description}),r.jsxs("div",{className:"flex items-center mt-4 mb-5",children:[r.jsx("div",{className:"flex -space-x-2",children:[...Array(3)].map((qe,q)=>r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center overflow-hidden",children:r.jsx(Rt,{className:"h-3 w-3 text-gray-500"})},q))}),r.jsxs("p",{className:"text-xs text-gray-500 ml-2",children:[r.jsx("span",{className:"font-medium",children:re.newPosts})," new posts this week"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{className:"flex-1",onClick:()=>te(re),children:c.some(qe=>qe.id===re.id)?"Manage":"View"}),!c.some(qe=>qe.id===re.id)&&r.jsx(W,{variant:d.includes(re.id)?"outline":"secondary",className:"flex-1",onClick:()=>J(re.id),children:d.includes(re.id)?"Joined":"Join"})]})]})]},re.id))}),r.jsx(bn,{open:C,onOpenChange:R,children:r.jsxs(mn,{className:"sm:max-w-md",children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Create New Community"}),r.jsx(Uo,{children:"Create a new community to connect with students and share your expertise."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Community Name"}),r.jsx(me,{type:"text",placeholder:"e.g., Machine Learning",value:k.name,onChange:re=>D({...k,name:re.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe what this community is about...",rows:3,value:k.description,onChange:re=>D({...k,description:re.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Category"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:k.category,onChange:re=>D({...k,category:re.target.value}),children:[r.jsx("option",{value:"tech",children:"Technology"}),r.jsx("option",{value:"research",children:"Research"}),r.jsx("option",{value:"career",children:"Career"}),r.jsx("option",{value:"general",children:"General"})]})]})]}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),r.jsx(W,{onClick:ve,disabled:!k.name.trim()||!k.description.trim(),children:"Create Community"})]})]})})]})})},Bie=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[i,a]=p.useState(!0),[o,l]=p.useState(null),[c,u]=p.useState("all"),[d,m]=p.useState(""),[f,g]=p.useState(null),[x,b]=p.useState(!1),[y,w]=p.useState({date:"",time:"",duration:30,topic:"",notes:""}),[v,N]=p.useState("requests");p.useEffect(()=>{const T=dt.currentUser;if(!T){l("You must be logged in to view mentorship data"),a(!1);return}const _=Me(Ce(ce,"mentorshipRequests"),Re("mentorId","==",T.uid),_t("requestDate","desc")),U=Ot(_,Y=>{const L=[];Y.forEach(X=>{L.push({id:X.id,...X.data()})}),e(L)},Y=>{console.error("Error fetching mentorship requests:",Y),l("Error loading mentorship requests. Please check your permissions."),a(!1)}),G=Me(Ce(ce,"mentorships"),Re("mentorId","==",T.uid),_t("startDate","desc")),M=Ot(G,Y=>{const L=[];Y.forEach(X=>{L.push({id:X.id,...X.data()})}),s(L),a(!1)},Y=>{console.error("Error fetching active mentorships:",Y),Y||l("Error loading mentorships. Please check your permissions."),a(!1)});return()=>{U(),M()}},[]);const I=async T=>{var _;try{const U=it(ce,"mentorshipRequests",T.id);await Yt(U,{status:"accepted"});const G={mentorId:(_=dt.currentUser)==null?void 0:_.uid,studentId:T.studentId,studentName:T.studentName,studentBranch:T.studentBranch,studentYear:T.studentYear,studentPhotoURL:T.studentPhotoURL,startDate:Et.now(),topic:T.topic,sessions:[],status:"active",requestId:T.id};await wr(Ce(ce,"mentorships"),G)}catch(U){console.error("Error accepting request:",U),l("Failed to accept request. Please try again.")}},V=async T=>{try{const _=it(ce,"mentorshipRequests",T.id);await Yt(_,{status:"rejected"})}catch(_){console.error("Error rejecting request:",_),l("Failed to reject request. Please try again.")}},z=async T=>{try{const _=it(ce,"mentorships",T.id);await Yt(_,{status:"completed",completionDate:Et.now()})}catch(_){console.error("Error completing mentorship:",_),l("Failed to complete mentorship. Please try again.")}},A=async T=>{try{const _=it(ce,"mentorships",T.id);await Yt(_,{status:"paused"})}catch(_){console.error("Error pausing mentorship:",_),l("Failed to pause mentorship. Please try again.")}},C=async T=>{if(window.confirm("Are you sure you want to delete this mentorship? This action cannot be undone."))try{await Hl(it(ce,"mentorships",T.id))}catch(_){console.error("Error deleting mentorship:",_),l("Failed to delete mentorship. Please try again.")}},R=async()=>{if(f)try{const T=new Date(`${y.date}T${y.time}`),_={id:Date.now().toString(),date:Et.fromDate(T),duration:y.duration,topic:y.topic,notes:y.notes,status:"scheduled"},U=it(ce,"mentorships",f.id),M=[...f.sessions||[],_];await Yt(U,{sessions:M,lastUpdated:Et.now()}),w({date:"",time:"",duration:30,topic:"",notes:""}),b(!1)}catch(T){console.error("Error adding session:",T),l("Failed to add session. Please try again.")}},k=async(T,_,U)=>{try{const G=it(ce,"mentorships",T.id),M=T.sessions.map(Y=>Y.id===_?{...Y,status:U}:Y);await Yt(G,{sessions:M,lastUpdated:Et.now()})}catch(G){console.error("Error updating session status:",G),l("Failed to update session status. Please try again.")}},D=()=>t.filter(T=>{if(c!=="all"&&T.status!==c)return!1;if(d){const _=d.toLowerCase();return T.studentName.toLowerCase().includes(_)||T.topic.toLowerCase().includes(_)}return!0}),S=()=>n.filter(T=>{if(c!=="all"&&T.status!==c)return!1;if(d){const _=d.toLowerCase();return T.studentName.toLowerCase().includes(_)||T.topic.toLowerCase().includes(_)}return!0}),P=T=>T?new Date(T.seconds*1e3).toLocaleDateString():"N/A",B=T=>{if(!T.sessions||T.sessions.length===0)return"No scheduled sessions";const _=new Date,U=T.sessions.filter(M=>M.status==="scheduled"&&M.date.toDate()>_).sort((M,Y)=>M.date.seconds-Y.date.seconds);if(U.length===0)return"No upcoming sessions";const G=U[0];return`Next: ${G.date.toDate().toLocaleDateString()} - ${G.topic}`},$=(()=>{const T=t.length,_=t.filter(M=>M.status==="pending").length,U=n.filter(M=>M.status==="active").length,G=n.filter(M=>M.status==="completed").length;return{totalRequests:T,pendingRequests:_,activeMentorshipsCount:U,completedMentorships:G}})();return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg text-gray-500",children:"Loading mentorship data..."})}):o?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6",children:[r.jsx(Cg,{className:"h-10 w-10 text-red-500 mb-4"}),r.jsx("div",{className:"text-lg text-red-500 mb-4 font-medium",children:o}),r.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-lg",children:"There was a problem loading your mentorship data. This may be due to network issues or insufficient permissions."}),r.jsx(W,{onClick:()=>window.location.reload(),children:"Try Again"})]}):r.jsxs("div",{className:"p-6 max-w-full",children:[o&&r.jsxs(qr,{variant:"destructive",className:"mb-6",children:[r.jsx(Cg,{className:"h-4 w-4"}),r.jsx(Hr,{children:o})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mentorship Panel"}),r.jsx("p",{className:"text-gray-600",children:"Manage your mentorship requests and active mentorships"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-700",children:"Pending Requests"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:$.pendingRequests})]}),r.jsx(zi,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-700",children:"Active Mentorships"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:$.activeMentorshipsCount})]}),r.jsx(Mo,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-700",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:$.completedMentorships})]}),r.jsx(sn,{className:"h-8 w-8 text-purple-500"})]})}),r.jsx("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-700",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-amber-800",children:$.totalRequests})]}),r.jsx(Jj,{className:"h-8 w-8 text-amber-500"})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsx(me,{placeholder:"Search by name or topic...",value:d,onChange:T=>m(T.target.value),className:"w-full",icon:r.jsx(Cr,{className:"h-4 w-4"})})}),r.jsx("div",{className:"w-full md:w-48",children:r.jsxs(Jt,{value:c,onValueChange:u,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Filter by status"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Statuses"}),r.jsx(pe,{value:"pending",children:"Pending"}),r.jsx(pe,{value:"active",children:"Active"}),r.jsx(pe,{value:"completed",children:"Completed"}),r.jsx(pe,{value:"paused",children:"Paused"}),r.jsx(pe,{value:"rejected",children:"Rejected"})]})]})})]}),r.jsxs(ys,{defaultValue:"requests",value:v,onValueChange:N,className:"w-full",children:[r.jsxs(ns,{className:"mb-6",children:[r.jsxs(Be,{value:"requests",children:["Mentorship Requests",$.pendingRequests>0&&r.jsx(at,{variant:"default",className:"ml-2 bg-blue-600",children:$.pendingRequests})]}),r.jsxs(Be,{value:"active",children:["Active Mentorships",$.activeMentorshipsCount>0&&r.jsx(at,{variant:"default",className:"ml-2 bg-green-600",children:$.activeMentorshipsCount})]})]}),r.jsx(st,{value:"requests",children:D().length===0?r.jsxs("div",{className:"text-center p-10 border border-dashed rounded-lg",children:[r.jsx(zi,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No mentorship requests"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"When students request your mentorship, they'll appear here."})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:D().map(T=>r.jsxs("div",{className:`p-4 rounded-lg border ${T.status==="pending"?"border-blue-200 bg-blue-50":T.status==="accepted"?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:T.studentPhotoURL?r.jsx("img",{src:T.studentPhotoURL,alt:T.studentName,className:"w-full h-full rounded-full object-cover"}):r.jsx(Rt,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:T.studentName}),r.jsxs("p",{className:"text-sm text-gray-600",children:[T.studentBranch,"  ",T.studentYear]}),r.jsx("div",{className:"mt-1",children:r.jsx(at,{variant:"outline",className:T.status==="pending"?"border-blue-500 text-blue-700":T.status==="accepted"?"border-green-500 text-green-700":"border-red-500 text-red-700",children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})})]})]}),r.jsxs("div",{className:"mt-3 md:mt-0 text-right flex flex-col items-end",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Requested: ",P(T.requestDate)]}),r.jsx("div",{className:"mt-2",children:T.status==="pending"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",onClick:()=>I(T),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(sn,{className:"h-4 w-4 mr-1"}),"Accept"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>V(T),className:"border-red-300 text-red-700 hover:bg-red-50",children:[r.jsx(Hs,{className:"h-4 w-4 mr-1"}),"Decline"]})]})})]})]}),r.jsxs("div",{className:"mt-3 pl-0 md:pl-14",children:[r.jsxs("h4",{className:"font-medium text-gray-700",children:["Topic: ",T.topic]}),r.jsx("p",{className:"text-gray-600 mt-1",children:T.message})]})]},T.id))})}),r.jsx(st,{value:"active",children:S().length===0?r.jsxs("div",{className:"text-center p-10 border border-dashed rounded-lg",children:[r.jsx(Mo,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No active mentorships"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"When you accept mentorship requests, they'll appear here."})]}):r.jsx("div",{className:"grid grid-cols-1 gap-6",children:S().map(T=>r.jsxs("div",{className:`p-5 rounded-lg border ${T.status==="active"?"border-green-200":T.status==="completed"?"border-purple-200":"border-amber-200"}`,children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:T.studentPhotoURL?r.jsx("img",{src:T.studentPhotoURL,alt:T.studentName,className:"w-full h-full rounded-full object-cover"}):r.jsx(Rt,{className:"h-6 w-6 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:T.studentName}),r.jsxs("p",{className:"text-sm text-gray-600",children:[T.studentBranch,"  ",T.studentYear]}),r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx(at,{variant:"outline",className:T.status==="active"?"border-green-500 text-green-700":T.status==="completed"?"border-purple-500 text-purple-700":"border-amber-500 text-amber-700",children:T.status.charAt(0).toUpperCase()+T.status.slice(1)}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Started: ",P(T.startDate)]})]})]})]}),r.jsxs("div",{className:"mt-3 md:mt-0 flex flex-col items-end",children:[T.status==="active"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>g(T),children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),"Schedule Session"]})}),r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsx(pn,{children:"Schedule New Session"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Date"}),r.jsx(me,{type:"date",value:y.date,onChange:_=>w({...y,date:_.target.value})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Time"}),r.jsx(me,{type:"time",value:y.time,onChange:_=>w({...y,time:_.target.value})})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),r.jsxs(Jt,{value:y.duration.toString(),onValueChange:_=>w({...y,duration:parseInt(_)}),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select duration"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"15",children:"15 minutes"}),r.jsx(pe,{value:"30",children:"30 minutes"}),r.jsx(pe,{value:"45",children:"45 minutes"}),r.jsx(pe,{value:"60",children:"60 minutes"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Topic"}),r.jsx(me,{placeholder:"What will you discuss?",value:y.topic,onChange:_=>w({...y,topic:_.target.value})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Notes (Optional)"}),r.jsx(me,{placeholder:"Any preparation or notes for the session",value:y.notes,onChange:_=>w({...y,notes:_.target.value})})]})]}),r.jsx(An,{children:r.jsx(W,{onClick:R,disabled:!y.date||!y.time||!y.topic,children:"Schedule Session"})})]})]}),r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-50",onClick:()=>g(T),children:[r.jsx(sn,{className:"h-4 w-4 mr-1"}),"Complete"]})}),r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsx(pn,{children:"Complete Mentorship"})}),r.jsxs("p",{className:"py-4",children:["Are you sure you want to mark this mentorship with ",r.jsx("strong",{children:T.studentName})," as completed? This will move it to your completed mentorships history."]}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),r.jsx(W,{onClick:()=>{f&&(z(f),g(null))},children:"Complete Mentorship"})]})]})]}),r.jsxs(W,{variant:"outline",size:"sm",className:"border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>A(T),children:[r.jsx(In,{className:"h-4 w-4 mr-1"}),"Pause"]})]}),T.status==="paused"&&r.jsxs(W,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{const _=it(ce,"mentorships",T.id);Yt(_,{status:"active"})},children:[r.jsx(sn,{className:"h-4 w-4 mr-1"}),"Resume Mentorship"]}),r.jsxs(W,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700 mt-2",onClick:()=>C(T),children:[r.jsx(Zi,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),r.jsxs("div",{className:"mt-4 pl-0 md:pl-14",children:[r.jsxs("h4",{className:"font-medium text-gray-700",children:["Topic: ",T.topic]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:B(T)}),T.sessions&&T.sessions.length>0&&r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"link",className:"p-0 mt-1 h-auto",children:["View ",T.sessions.length," session",T.sessions.length!==1?"s":""]})}),r.jsxs(mn,{className:"max-w-3xl",children:[r.jsx(fn,{children:r.jsxs(pn,{children:["Sessions with ",T.studentName]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2 px-3",children:"Date"}),r.jsx("th",{className:"text-left py-2 px-3",children:"Topic"}),r.jsx("th",{className:"text-left py-2 px-3",children:"Duration"}),r.jsx("th",{className:"text-left py-2 px-3",children:"Status"}),r.jsx("th",{className:"text-left py-2 px-3",children:"Actions"})]})}),r.jsx("tbody",{children:T.sessions.sort((_,U)=>U.date.seconds-_.date.seconds).map(_=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-2 px-3",children:[_.date.toDate().toLocaleDateString()," "," ",_.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),r.jsx("td",{className:"py-2 px-3",children:_.topic}),r.jsxs("td",{className:"py-2 px-3",children:[_.duration," min"]}),r.jsx("td",{className:"py-2 px-3",children:r.jsx(at,{variant:"outline",className:_.status==="scheduled"?"border-blue-500 text-blue-700":_.status==="completed"?"border-green-500 text-green-700":"border-red-500 text-red-700",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),r.jsx("td",{className:"py-2 px-3",children:_.status==="scheduled"&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"ghost",className:"h-8 px-2 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>k(T,_.id,"completed"),children:r.jsx(sn,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"ghost",className:"h-8 px-2 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>k(T,_.id,"cancelled"),children:r.jsx(Hs,{className:"h-4 w-4"})})]})})]},_.id))})]})})]})]})]}),T.notes&&r.jsx("div",{className:"mt-3 bg-gray-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-gray-700",children:T.notes})}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{alert(`Chat with ${T.studentName} would open here`)},children:[r.jsx(zi,{className:"h-4 w-4 mr-1"}),"Message"]}),r.jsxs(W,{variant:"outline",size:"sm",className:"text-purple-600 border-purple-200 hover:bg-purple-50",onClick:()=>{alert(`Profile for ${T.studentName} would open here`)},children:[r.jsx(Rt,{className:"h-4 w-4 mr-1"}),"View Profile"]}),r.jsxs(bn,{children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",size:"sm",className:"text-amber-600 border-amber-200 hover:bg-amber-50",children:[r.jsx(pr,{className:"h-4 w-4 mr-1"}),"Add Notes"]})}),r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsxs(pn,{children:["Add Notes for ",T.studentName]})}),r.jsx("div",{className:"py-4",children:r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md h-40",placeholder:"Add your notes here...",defaultValue:T.notes||""})}),r.jsx(An,{children:r.jsx(W,{onClick:()=>{const _=document.querySelector("textarea");if(_){const U=_.value,G=it(ce,"mentorships",T.id);Yt(G,{notes:U})}},children:"Save Notes"})})]})]})]})]})]},T.id))})})]}),r.jsx(bn,{open:x,onOpenChange:b,children:r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsx(pn,{children:"Schedule New Session"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Date"}),r.jsx(me,{type:"date",value:y.date,onChange:T=>w({...y,date:T.target.value})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Time"}),r.jsx(me,{type:"time",value:y.time,onChange:T=>w({...y,time:T.target.value})})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),r.jsxs(Jt,{value:y.duration.toString(),onValueChange:T=>w({...y,duration:parseInt(T)}),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select duration"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"15",children:"15 minutes"}),r.jsx(pe,{value:"30",children:"30 minutes"}),r.jsx(pe,{value:"45",children:"45 minutes"}),r.jsx(pe,{value:"60",children:"60 minutes"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Topic"}),r.jsx(me,{placeholder:"What will you discuss?",value:y.topic,onChange:T=>w({...y,topic:T.target.value})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Notes (Optional)"}),r.jsx(me,{placeholder:"Any preparation or notes for the session",value:y.notes,onChange:T=>w({...y,notes:T.target.value})})]})]}),r.jsx(An,{children:r.jsx(W,{onClick:R,disabled:!y.date||!y.time||!y.topic,children:"Schedule Session"})})]})})]})};var Z5={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.element"),zie=Symbol.for("react.portal"),Wie=Symbol.for("react.fragment"),qie=Symbol.for("react.strict_mode"),Hie=Symbol.for("react.profiler"),Gie=Symbol.for("react.provider"),Yie=Symbol.for("react.context"),Kie=Symbol.for("react.forward_ref"),Qie=Symbol.for("react.suspense"),Zie=Symbol.for("react.memo"),Xie=Symbol.for("react.lazy"),_T=Symbol.iterator;function Jie(t){return t===null||typeof t!="object"?null:(t=_T&&t[_T]||t["@@iterator"],typeof t=="function"?t:null)}var X5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J5=Object.assign,e3={};function vd(t,e,n){this.props=t,this.context=e,this.refs=e3,this.updater=n||X5}vd.prototype.isReactComponent={};vd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t3(){}t3.prototype=vd.prototype;function N1(t,e,n){this.props=t,this.context=e,this.refs=e3,this.updater=n||X5}var _1=N1.prototype=new t3;_1.constructor=N1;J5(_1,vd.prototype);_1.isPureReactComponent=!0;var CT=Array.isArray,n3=Object.prototype.hasOwnProperty,C1={current:null},s3={key:!0,ref:!0,__self:!0,__source:!0};function r3(t,e,n){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)n3.call(e,s)&&!s3.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:vf,type:t,key:a,ref:o,props:i,_owner:C1.current}}function eae(t,e){return{$$typeof:vf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E1(t){return typeof t=="object"&&t!==null&&t.$$typeof===vf}function tae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ET=/\/+/g;function R0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tae(""+t.key):e.toString(36)}function Zp(t,e,n,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vf:case zie:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+R0(o,0):s,CT(i)?(n="",t!=null&&(n=t.replace(ET,"$&/")+"/"),Zp(i,e,n,"",function(u){return u})):i!=null&&(E1(i)&&(i=eae(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ET,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",CT(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+R0(a,l);o+=Zp(a,e,n,c,i)}else if(c=Jie(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+R0(a,l++),o+=Zp(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,n){if(t==null)return t;var s=[],i=0;return Zp(t,s,"","",function(a){return e.call(n,a,i++)}),s}function nae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Os={current:null},Xp={transition:null},sae={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:Xp,ReactCurrentOwner:C1};mt.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!E1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=vd;mt.Fragment=Wie;mt.Profiler=Hie;mt.PureComponent=N1;mt.StrictMode=qie;mt.Suspense=Qie;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sae;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=J5({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=C1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)n3.call(e,c)&&!s3.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:vf,type:t.type,key:i,ref:a,props:s,_owner:o}};mt.createContext=function(t){return t={$$typeof:Yie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gie,_context:t},t.Consumer=t};mt.createElement=r3;mt.createFactory=function(t){var e=r3.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:Kie,render:t}};mt.isValidElement=E1;mt.lazy=function(t){return{$$typeof:Xie,_payload:{_status:-1,_result:t},_init:nae}};mt.memo=function(t,e){return{$$typeof:Zie,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Xp.transition;Xp.transition={};try{t()}finally{Xp.transition=e}};mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};mt.useCallback=function(t,e){return Os.current.useCallback(t,e)};mt.useContext=function(t){return Os.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return Os.current.useDeferredValue(t)};mt.useEffect=function(t,e){return Os.current.useEffect(t,e)};mt.useId=function(){return Os.current.useId()};mt.useImperativeHandle=function(t,e,n){return Os.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return Os.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return Os.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return Os.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return Os.current.useReducer(t,e,n)};mt.useRef=function(t){return Os.current.useRef(t)};mt.useState=function(t){return Os.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return Os.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return Os.current.useTransition()};mt.version="18.2.0";Z5.exports=mt;var hr=Z5.exports;let rae={data:""},iae=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||rae,aae=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oae=/\/\*[^]*?\*\/|  +/g,ST=/\n+/g,po=(t,e)=>{let n="",s="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":s+=a[1]=="f"?po(o,a):a+"{"+po(o,a[1]=="k"?"":e)+"}":typeof o=="object"?s+=po(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=po.p?po.p(a,o):a+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+s},ha={},i3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+i3(t[n]);return e}return t},lae=(t,e,n,s,i)=>{let a=i3(t),o=ha[a]||(ha[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!ha[o]){let c=a!==t?t:(u=>{let d,m,f=[{}];for(;d=aae.exec(u.replace(oae,""));)d[4]?f.shift():d[3]?(m=d[3].replace(ST," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][d[1]]=d[2].replace(ST," ").trim();return f[0]})(t);ha[o]=po(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&ha.g?ha.g:null;return n&&(ha.g=ha[o]),((c,u,d,m)=>{m?u.data=u.data.replace(m,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ha[o],e,s,l),o},cae=(t,e,n)=>t.reduce((s,i,a)=>{let o=e[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":po(l,""):l===!1?"":l}return s+i+(o??"")},"");function Ky(t){let e=this||{},n=t.call?t(e.p):t;return lae(n.unshift?n.raw?cae(n,[].slice.call(arguments,1),e.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):n,iae(e.target),e.g,e.o,e.k)}let a3,Zw,Xw;Ky.bind({g:1});let za=Ky.bind({k:1});function uae(t,e,n,s){po.p=e,a3=t,Zw=n,Xw=s}function fl(t,e){let n=this||{};return function(){let s=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;n.p=Object.assign({theme:Zw&&Zw()},l),n.o=/ *go\d+/.test(c),l.className=Ky.apply(n,s)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Xw&&u[0]&&Xw(l),a3(u,l)}return i}}var dae=t=>typeof t=="function",Jw=(t,e)=>dae(t)?t(e):t,hae=(()=>{let t=0;return()=>(++t).toString()})(),mae=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),fae=20,o3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,fae)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return o3(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},pae=[],A0={toasts:[],pausedAt:void 0},S1=t=>{A0=o3(A0,t),pae.forEach(e=>{e(A0)})},gae=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||hae()}),bf=t=>(e,n)=>{let s=gae(e,t,n);return S1({type:2,toast:s}),s.id},Tn=(t,e)=>bf("blank")(t,e);Tn.error=bf("error");Tn.success=bf("success");Tn.loading=bf("loading");Tn.custom=bf("custom");Tn.dismiss=t=>{S1({type:3,toastId:t})};Tn.remove=t=>S1({type:4,toastId:t});Tn.promise=(t,e,n)=>{let s=Tn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Jw(e.success,i):void 0;return a?Tn.success(a,{id:s,...n,...n==null?void 0:n.success}):Tn.dismiss(s),i}).catch(i=>{let a=e.error?Jw(e.error,i):void 0;a?Tn.error(a,{id:s,...n,...n==null?void 0:n.error}):Tn.dismiss(s)}),t};var xae=za`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yae=za`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vae=za`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bae=fl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yae} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vae} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wae=za`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jae=fl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wae} 1s linear infinite;
`,Nae=za`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_ae=za`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Cae=fl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_ae} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Eae=fl("div")`
  position: absolute;
`,Sae=fl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kae=za`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tae=fl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Iae=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?hr.createElement(Tae,null,e):e:n==="blank"?null:hr.createElement(Sae,null,hr.createElement(jae,{...s}),n!=="loading"&&hr.createElement(Eae,null,n==="error"?hr.createElement(bae,{...s}):hr.createElement(Cae,{...s})))},Rae=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Aae=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Pae="0%{opacity:0;} 100%{opacity:1;}",Dae="0%{opacity:1;} 100%{opacity:0;}",Mae=fl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Oae=fl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Lae=(t,e)=>{let n=t.includes("top")?1:-1,[s,i]=mae()?[Pae,Dae]:[Rae(n),Aae(n)];return{animation:e?`${za(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${za(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};hr.memo(({toast:t,position:e,style:n,children:s})=>{let i=t.height?Lae(t.position||e||"top-center",t.visible):{opacity:0},a=hr.createElement(Iae,{toast:t}),o=hr.createElement(Oae,{...t.ariaProps},Jw(t.message,t));return hr.createElement(Mae,{className:t.className,style:{...i,...n,...t.style}},typeof s=="function"?s({icon:a,message:o}):hr.createElement(hr.Fragment,null,a,o))});uae(hr.createElement);Ky`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Fae=()=>{const t=dt.currentUser,[e,n]=p.useState([]),[s,i]=p.useState(!0),[a,o]=p.useState(""),[l,c]=p.useState("all"),[u,d]=p.useState("all"),[m,f]=p.useState("newest"),[g,x]=p.useState(null),[b,y]=p.useState(!1),[w,v]=p.useState(!1),[N,I]=p.useState(!1),[V,z]=p.useState(""),[A,C]=p.useState("");p.useEffect(()=>{if(!t)return;i(!0);const M=Me(Ce(ce,"mentorshipRequests"),Re("mentorId","==",t.uid),_t("timestamp","desc")),Y=Ot(M,L=>{const X=L.docs.map(le=>{const ne=le.data();return{id:le.id,student:{name:ne.studentName||"Unknown Student",branch:ne.studentBranch||"Unknown Branch",year:ne.studentYear||"Unknown Year",profileImage:ne.studentProfileImage||void 0,id:ne.studentId},requestType:ne.requestType,message:ne.message,status:ne.status,dateRequested:ne.timestamp?new Date(ne.timestamp.toDate()).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Unknown Date",timestamp:ne.timestamp,availabilityTime:ne.availabilityTime,topic:ne.topic,skills:ne.skills||[],mentorId:ne.mentorId,studentId:ne.studentId,acceptMessage:ne.acceptMessage,declineReason:ne.declineReason}});n(X),i(!1)},L=>{console.error("Error fetching requests: ",L),Tn.error("Failed to load requests"),i(!1)});return()=>Y()},[t]);const R=e.filter(M=>{var le;const Y=M.student.name.toLowerCase().includes(a.toLowerCase())||((le=M.topic)==null?void 0:le.toLowerCase().includes(a.toLowerCase()))||M.message.toLowerCase().includes(a.toLowerCase()),L=l==="all"||M.requestType===l,X=u==="all"||M.status===u;return Y&&L&&X}).sort((M,Y)=>m==="newest"?Y.timestamp.seconds-M.timestamp.seconds:m==="oldest"?M.timestamp.seconds-Y.timestamp.seconds:m==="nameAZ"?M.student.name.localeCompare(Y.student.name):m==="nameZA"?Y.student.name.localeCompare(M.student.name):0),k=M=>{x(M),y(!0)},D=()=>{y(!1),v(!0)},S=()=>{y(!1),I(!0)},P=async()=>{if(!(!g||!t))try{const M=it(ce,"mentorshipRequests",g.id);await Yt(M,{status:"Accepted",acceptMessage:V,acceptedAt:Mt()}),await wr(Ce(ce,"mentorships"),{mentorId:t.uid,studentId:g.studentId,studentName:g.student.name,mentorName:t.displayName||"Mentor",requestType:g.requestType,topic:g.topic,skills:g.skills,status:"Active",createdAt:Mt(),originatingRequestId:g.id}),Tn.success("Request accepted successfully"),v(!1),z("")}catch(M){console.error("Error accepting request: ",M),Tn.error("Failed to accept request")}},B=async()=>{if(g)try{const M=it(ce,"mentorshipRequests",g.id);await Yt(M,{status:"Declined",declineReason:A,declinedAt:Mt()}),Tn.success("Request declined"),I(!1),C("")}catch(M){console.error("Error declining request: ",M),Tn.error("Failed to decline request")}},O=async M=>{try{const Y=it(ce,"mentorshipRequests",M);await Yt(Y,{status:"Completed",completedAt:Mt()});const L=Me(Ce(ce,"mentorships"),Re("originatingRequestId","==",M)),X=Ot(L,le=>{le.forEach(async ne=>{const H=it(ce,"mentorships",ne.id);await Yt(H,{status:"Completed",completedAt:Mt()})}),X()});Tn.success("Request marked as completed"),y(!1)}catch(Y){console.error("Error completing request: ",Y),Tn.error("Failed to mark as completed")}},$=e.filter(M=>M.status==="Pending").length,T=e.filter(M=>M.status==="Accepted").length,_=e.filter(M=>M.status==="Declined").length,U=e.filter(M=>M.status==="Completed").length,G=M=>{switch(M){case"Pending":return"bg-blue-100 text-blue-700";case"Accepted":return"bg-green-100 text-green-700";case"Declined":return"bg-red-100 text-red-700";case"Completed":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return t?r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[r.jsx(ks,{className:"h-6 w-6 text-blue-600 mr-2"}),"Request Management"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs(W,{variant:"outline",className:"mr-2",children:[r.jsx(lt,{className:"h-4 w-4 mr-2"}),"Calendar View"]}),r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",children:"View Analytics"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending Requests"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx(ks,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Accepted"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:T})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(sn,{className:"h-6 w-6 text-green-600"})})]})})}),r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Declined"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:_})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:r.jsx(Hs,{className:"h-6 w-6 text-red-600"})})]})})}),r.jsx(Ct,{children:r.jsx(Bt,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:U})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx(sn,{className:"h-6 w-6 text-purple-600"})})]})})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[r.jsx("div",{className:"col-span-1 md:col-span-3 lg:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{placeholder:"Search by student name, topic, or message...",className:"pl-9",value:a,onChange:M=>o(M.target.value)})]})}),r.jsx("div",{children:r.jsxs(Jt,{value:l,onValueChange:c,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Request Type"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Types"}),r.jsx(pe,{value:"Mentorship",children:"Mentorship"}),r.jsx(pe,{value:"Project Collaboration",children:"Project Collaboration"}),r.jsx(pe,{value:"Career Guidance",children:"Career Guidance"}),r.jsx(pe,{value:"Mock Interview",children:"Mock Interview"})]})]})}),r.jsx("div",{children:r.jsxs(Jt,{value:u,onValueChange:d,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Status"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"all",children:"All Status"}),r.jsx(pe,{value:"Pending",children:"Pending"}),r.jsx(pe,{value:"Accepted",children:"Accepted"}),r.jsx(pe,{value:"Declined",children:"Declined"}),r.jsx(pe,{value:"Completed",children:"Completed"})]})]})}),r.jsx("div",{children:r.jsxs(Jt,{value:m,onValueChange:f,children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Sort By"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"newest",children:"Newest First"}),r.jsx(pe,{value:"oldest",children:"Oldest First"}),r.jsx(pe,{value:"nameAZ",children:"Name (A-Z)"}),r.jsx(pe,{value:"nameZA",children:"Name (Z-A)"})]})]})})]})}),r.jsxs(ys,{defaultValue:"all",className:"mb-6",children:[r.jsxs(ns,{className:"grid grid-cols-5 max-w-xl",children:[r.jsx(Be,{value:"all",children:"All"}),r.jsx(Be,{value:"pending",children:"Pending"}),r.jsx(Be,{value:"accepted",children:"Accepted"}),r.jsx(Be,{value:"declined",children:"Declined"}),r.jsx(Be,{value:"completed",children:"Completed"})]}),r.jsx(st,{value:"all",className:"mt-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:s?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Loading requests..."})]}):R.length===0?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(ks,{className:"h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No requests found"}),r.jsx("p",{className:"text-sm",children:"Try changing your search or filter criteria"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Request Type"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Topic"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Date"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Status"}),r.jsx("th",{className:"py-4 px-6 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:R.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:M.student.profileImage?r.jsx("img",{src:M.student.profileImage,alt:M.student.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:M.student.name.split(" ").map(Y=>Y[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[M.student.branch,"  ",M.student.year]})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.requestType})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.topic||"N/A"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.dateRequested})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${G(M.status)}`,children:M.status})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(M),children:"View Details"})})]},M.id))})]})})}),r.jsx(st,{value:"pending",className:"mt-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:s?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Loading requests..."})]}):R.filter(M=>M.status==="Pending").length===0?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(ks,{className:"h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No pending requests"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Request Type"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Topic"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Date"}),r.jsx("th",{className:"py-4 px-6 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:R.filter(M=>M.status==="Pending").map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:M.student.profileImage?r.jsx("img",{src:M.student.profileImage,alt:M.student.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:M.student.name.split(" ").map(Y=>Y[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[M.student.branch,"  ",M.student.year]})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.requestType})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.topic||"N/A"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.dateRequested})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(M),children:"View"}),r.jsx(W,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{x(M),v(!0)},children:"Accept"}),r.jsx(W,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>{x(M),I(!0)},children:"Decline"})]})})]},M.id))})]})})}),r.jsx(st,{value:"accepted",className:"mt-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:s?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Loading requests..."})]}):R.filter(M=>M.status==="Accepted").length===0?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(sn,{className:"h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No accepted requests"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Request Type"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Topic"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Date"}),r.jsx("th",{className:"py-4 px-6 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:R.filter(M=>M.status==="Accepted").map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:M.student.profileImage?r.jsx("img",{src:M.student.profileImage,alt:M.student.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:M.student.name.split(" ").map(Y=>Y[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[M.student.branch,"  ",M.student.year]})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.requestType})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.topic||"N/A"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.dateRequested})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(M),children:"View Details"}),r.jsx(W,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>O(M.id),children:"Mark Completed"})]})})]},M.id))})]})})}),r.jsx(st,{value:"declined",className:"mt-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:s?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Loading requests..."})]}):R.filter(M=>M.status==="Declined").length===0?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(Hs,{className:"h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No declined requests"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Request Type"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Topic"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Date"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Reason"}),r.jsx("th",{className:"py-4 px-6 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:R.filter(M=>M.status==="Declined").map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:M.student.profileImage?r.jsx("img",{src:M.student.profileImage,alt:M.student.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:M.student.name.split(" ").map(Y=>Y[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[M.student.branch,"  ",M.student.year]})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.requestType})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.topic||"N/A"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.dateRequested})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm text-gray-600",children:M.declineReason||"No reason provided"})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(M),children:"View Details"})})]},M.id))})]})})}),r.jsx(st,{value:"completed",className:"mt-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:s?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Loading requests..."})]}):R.filter(M=>M.status==="Completed").length===0?r.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(sn,{className:"h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No completed requests"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Request Type"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Topic"}),r.jsx("th",{className:"py-4 px-6 text-left text-sm font-medium text-gray-700",children:"Date"}),r.jsx("th",{className:"py-4 px-6 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:R.filter(M=>M.status==="Completed").map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:M.student.profileImage?r.jsx("img",{src:M.student.profileImage,alt:M.student.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:M.student.name.split(" ").map(Y=>Y[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[M.student.branch,"  ",M.student.year]})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.requestType})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.topic||"N/A"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm",children:M.dateRequested})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(M),children:"View Details"})})]},M.id))})]})})})]}),r.jsx(bn,{open:b,onOpenChange:y,children:r.jsxs(mn,{className:"max-w-2xl",children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Request Details"}),r.jsx(Uo,{children:"View complete details of the request"})]}),g&&r.jsx("div",{className:"mt-2 space-y-6",children:r.jsxs(Ct,{className:"overflow-hidden border-t-4 border-blue-500",children:[r.jsx(Vn,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(Un,{className:"text-xl",children:g.requestType}),r.jsxs($n,{className:"text-sm flex items-center mt-1",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),g.dateRequested]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${G(g.status)}`,children:g.status})]})}),r.jsx(Bt,{className:"pt-2",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:g.student.profileImage?r.jsx("img",{src:g.student.profileImage,alt:g.student.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-600 font-bold",children:g.student.name.split(" ").map(M=>M[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:g.student.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[g.student.branch,"  ",g.student.year]})]})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Request Details"}),g.topic&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Topic"}),r.jsx("p",{className:"font-medium",children:g.topic})]}),g.availabilityTime&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Availability"}),r.jsx("p",{className:"font-medium",children:g.availabilityTime})]}),g.skills&&g.skills.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Skills"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.skills.map((M,Y)=>r.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:M},Y))})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Message from Student"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:r.jsx("p",{className:"text-sm",children:g.message})})]}),g.status==="Accepted"&&g.acceptMessage&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Your Acceptance Message"}),r.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:r.jsx("p",{className:"text-sm",children:g.acceptMessage})})]}),g.status==="Declined"&&g.declineReason&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Decline Reason"}),r.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100",children:r.jsx("p",{className:"text-sm",children:g.declineReason})})]})]})]})}),r.jsxs(Ts,{className:"flex justify-end space-x-2 border-t pt-4",children:[r.jsx(W,{variant:"outline",onClick:()=>y(!1),children:"Close"}),g.status==="Pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(W,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:S,children:[r.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Decline"]}),r.jsxs(W,{className:"bg-green-600 hover:bg-green-700",onClick:D,children:[r.jsx(sn,{className:"h-4 w-4 mr-2"}),"Accept"]})]}),g.status==="Accepted"&&r.jsxs(W,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>O(g.id),children:[r.jsx(sn,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]})]})]})})]})}),r.jsx(bn,{open:w,onOpenChange:v,children:r.jsxs(mn,{children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Accept Request"}),r.jsxs(Uo,{children:["You're accepting a request from ",g==null?void 0:g.student.name,". This will create a new mentorship."]})]}),r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"accept-message",className:"text-sm font-medium",children:"Message to Student (Optional)"}),r.jsx("textarea",{id:"accept-message",className:"w-full min-h-[100px] p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write a message to the student about next steps...",value:V,onChange:M=>z(M.target.value)})]})}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),r.jsxs(W,{className:"bg-green-600 hover:bg-green-700",onClick:P,children:[r.jsx(sn,{className:"h-4 w-4 mr-2"}),"Accept Request"]})]})]})}),r.jsx(bn,{open:N,onOpenChange:I,children:r.jsxs(mn,{children:[r.jsxs(fn,{children:[r.jsx(pn,{children:"Decline Request"}),r.jsxs(Uo,{children:["You're declining a request from ",g==null?void 0:g.student.name,". Please provide a reason for declining."]})]}),r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"decline-reason",className:"text-sm font-medium",children:["Reason for Declining ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"decline-reason",className:"w-full min-h-[100px] p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Explain why you're declining this request...",value:A,onChange:M=>C(M.target.value),required:!0})]})}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),r.jsxs(W,{className:"bg-red-600 hover:bg-red-700",onClick:B,disabled:!A.trim(),children:[r.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Decline Request"]})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx("p",{className:"text-xl font-medium text-gray-600",children:"Please log in to view your requests"})})},Vae=()=>{const t=dt.currentUser,{toast:e}=Lm(),[n,s]=p.useState("upcoming"),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState([]),[d,m]=p.useState([]),[f,g]=p.useState([]),[x,b]=p.useState([]),[y,w]=p.useState({student:"",studentId:"",topic:"",date:"",time:"",duration:"30 min",platform:"Google Meet",link:"",notes:""});p.useEffect(()=>{if(!t)return;const k=Me(Ce(ce,"users"),Re("role","==","student"));return Ot(k,S=>{const P=S.docs.map(B=>({id:B.id,...B.data()}));b(P)})},[t]),p.useEffect(()=>{if(!t)return;const k=new Date;k.setHours(0,0,0,0);const D=Me(Ce(ce,"meetings"),Re("mentorId","==",t.uid),Re("dateTimestamp",">=",k),_t("dateTimestamp","asc"),_t("timeString","asc"));return Ot(D,P=>{const B=P.docs.map(O=>{const $=O.data();return{id:O.id,...$,date:$.dateString}});u(B)})},[t]),p.useEffect(()=>{if(!t)return;const k=new Date;k.setHours(0,0,0,0);const D=Me(Ce(ce,"meetings"),Re("mentorId","==",t.uid),Re("dateTimestamp","<",k),_t("dateTimestamp","desc"),_t("timeString","desc"));return Ot(D,P=>{const B=P.docs.map(O=>{const $=O.data();return{id:O.id,...$,date:$.dateString}});m(B)})},[t]),p.useEffect(()=>{if(!t)return;const k=Me(Ce(ce,"meetingRequests"),Re("mentorId","==",t.uid),Re("status","==","pending"),_t("requestTimestamp","desc"));return Ot(k,S=>{const P=S.docs.map(B=>{const O=B.data(),$=O.requestTimestamp.toDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return{id:B.id,...O,requestDate:$}});g(P)})},[t]);const v=()=>{w({student:"",studentId:"",topic:"",date:"",time:"",duration:"30 min",platform:"Google Meet",link:"",notes:""}),l(null),a(!0)},N=async k=>{try{const D=it(ce,"meetings",k),S=await Ba(D);if(S.exists()){const P=S.data(),O=P.dateTimestamp.toDate().toISOString().split("T")[0];w({student:P.studentName,studentId:P.studentId,topic:P.topic,date:O,time:P.timeString,duration:P.duration,platform:P.platform,link:P.link||"",notes:P.notes||""}),l(k),a(!0)}}catch(D){console.error("Error fetching meeting data:",D),e({title:"Error",description:"Could not load meeting details. Please try again.",variant:"destructive"})}},I=()=>{a(!1),l(null)},V=k=>{const{id:D,value:S}=k.target;w(P=>({...P,[D]:S}))},z=(k,D)=>{if(k==="student"){const S=x.find(P=>P.displayName===D);w(P=>({...P,student:D,studentId:(S==null?void 0:S.id)||""}))}else w(S=>({...S,[k]:D}))},A=async k=>{k.preventDefault();try{const D=o!==null;if(!y.student||!y.studentId||!y.topic||!y.date||!y.time){e({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}const[S,P,B]=y.date.split("-").map(Number),O=new Date(S,P-1,B),$=O.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),T={mentorId:t.uid,mentorName:t.displayName,studentId:y.studentId,studentName:y.student,topic:y.topic,dateTimestamp:Et.fromDate(O),dateString:$,timeString:y.time,duration:y.duration,platform:y.platform,link:y.link,notes:y.notes,status:"Scheduled",updatedAt:Mt()};D?(await Yt(it(ce,"meetings",o),T),e({title:"Meeting updated",description:"The meeting has been successfully updated."})):(T.createdAt=Mt(),await wr(Ce(ce,"meetings"),T),e({title:"Meeting scheduled",description:"The meeting has been successfully scheduled."})),a(!1),l(null)}catch(D){console.error("Error saving meeting:",D),e({title:"Error",description:"Failed to save the meeting. Please try again.",variant:"destructive"})}},C=async k=>{try{const D=it(ce,"meetings",k);(await Ba(D)).exists()&&(await Yt(D,{status:"Cancelled",updatedAt:Mt()}),e({title:"Meeting cancelled",description:"The meeting has been cancelled successfully."}))}catch(D){console.error("Error cancelling meeting:",D),e({title:"Error",description:"Failed to cancel the meeting. Please try again.",variant:"destructive"})}},R=()=>{const k=o!==null;return r.jsxs(Ct,{className:"p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:k?"Edit Meeting":"Schedule New Meeting"}),r.jsxs("form",{onSubmit:A,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"student",children:"Student"}),r.jsxs(Jt,{value:y.student,onValueChange:D=>z("student",D),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select student"})}),r.jsx(Qt,{children:x.map(D=>r.jsx(pe,{value:D.displayName,children:D.displayName},D.id))})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"topic",children:"Meeting Topic"}),r.jsx(me,{id:"topic",placeholder:"E.g., Career Guidance, Project Review",value:y.topic,onChange:V})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"date",children:"Date"}),r.jsx(me,{id:"date",type:"date",value:y.date,onChange:V})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"time",children:"Time"}),r.jsx(me,{id:"time",type:"time",value:y.time,onChange:V})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"duration",children:"Duration"}),r.jsxs(Jt,{value:y.duration,onValueChange:D=>z("duration",D),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select duration"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"15 min",children:"15 minutes"}),r.jsx(pe,{value:"30 min",children:"30 minutes"}),r.jsx(pe,{value:"45 min",children:"45 minutes"}),r.jsx(pe,{value:"60 min",children:"1 hour"}),r.jsx(pe,{value:"90 min",children:"1.5 hours"})]})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"platform",children:"Meeting Platform"}),r.jsxs(Jt,{value:y.platform,onValueChange:D=>z("platform",D),children:[r.jsx(Kt,{children:r.jsx(en,{placeholder:"Select platform"})}),r.jsxs(Qt,{children:[r.jsx(pe,{value:"Google Meet",children:"Google Meet"}),r.jsx(pe,{value:"Zoom",children:"Zoom"}),r.jsx(pe,{value:"Microsoft Teams",children:"Microsoft Teams"}),r.jsx(pe,{value:"Skype",children:"Skype"})]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx(be,{htmlFor:"link",children:"Meeting Link"}),r.jsx(me,{id:"link",placeholder:"Paste meeting URL",value:y.link,onChange:V})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx(be,{htmlFor:"notes",children:"Meeting Notes/Agenda"}),r.jsx("textarea",{id:"notes",className:"w-full p-2 border rounded-md h-24",placeholder:"Describe the purpose and agenda of the meeting",value:y.notes,onChange:V})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(W,{type:"button",variant:"outline",onClick:I,children:"Cancel"}),r.jsx(W,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:k?"Update Meeting":"Schedule Meeting"})]})]})]})};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chat Scheduling"}),r.jsx("p",{className:"text-gray-600",children:"Schedule and manage your mentorship sessions with students"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700 flex items-center",onClick:v,children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Schedule New Meeting"]})}),i&&r.jsx(R,{}),r.jsxs(Ct,{className:"mb-8 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[r.jsx(lt,{className:"h-5 w-5 text-blue-600 mr-2"}),"Your Schedule Calendar"]}),r.jsxs("div",{className:"bg-gray-100 p-6 rounded-md text-center",children:[r.jsx("p",{className:"text-gray-500",children:"Calendar view will be implemented here"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Google Calendar or similar integration"})]})]}),r.jsxs(ys,{defaultValue:"upcoming",onValueChange:s,children:[r.jsxs(ns,{className:"mb-6",children:[r.jsx(Be,{value:"upcoming",className:"px-6",children:"Upcoming Meetings"}),r.jsx(Be,{value:"pending",className:"px-6",children:"Pending Requests"}),r.jsx(Be,{value:"past",className:"px-6",children:"Past Meetings"})]}),r.jsx(st,{value:"upcoming",children:r.jsx("div",{className:"space-y-4",children:c.length>0?c.map(k=>r.jsxs(Ct,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Rt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:k.studentName})]}),r.jsx("p",{className:"text-gray-700 mb-1",children:k.topic}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),k.dateString]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(In,{className:"h-4 w-4 mr-1"}),k.timeString," (",k.duration,")"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(zi,{className:"h-4 w-4 mr-1"}),k.platform]})]}),k.notes&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",k.notes]})]}),r.jsxs("div",{className:"flex mt-4 md:mt-0 gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>N(k.id),children:[r.jsx(ec,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(W,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>C(k.id),children:[r.jsx(Zi,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}),k.link&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-md flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-blue-700 truncate",children:["Meeting link: ",k.link]}),r.jsx(W,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>window.open(k.link,"_blank"),children:"Join Meeting"})]})]},k.id)):r.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-500",children:"No upcoming meetings scheduled"}),r.jsx(W,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:v,children:"Schedule a Meeting"})]})})}),r.jsx(st,{value:"pending",children:r.jsx("div",{className:"space-y-4",children:f.length>0?f.map(k=>r.jsx(Ct,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Rt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:k.studentName}),r.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-xs px-2 py-1 rounded-full",children:"Awaiting Schedule"})]}),r.jsx("p",{className:"text-gray-700 mb-1",children:k.topic}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Requested on: ",k.requestDate]}),r.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Message:"})," ",k.message]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Preferred Times:"})," ",k.preferredTimes]})]}),r.jsx("div",{className:"flex mt-4 md:mt-0",children:r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",onClick:v,children:"Schedule Meeting"})})]})},k.id)):r.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-gray-500",children:"No pending meeting requests"})})})}),r.jsx(st,{value:"past",children:r.jsx("div",{className:"space-y-4",children:d.length>0?d.map(k=>r.jsx(Ct,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Rt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:k.student}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k.status==="Completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.status})]}),r.jsx("p",{className:"text-gray-700 mb-1",children:k.topic}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(lt,{className:"h-4 w-4 mr-1"}),k.date]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(In,{className:"h-4 w-4 mr-1"}),k.time," (",k.duration,")"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(zi,{className:"h-4 w-4 mr-1"}),k.platform]})]}),k.feedback&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Feedback/Notes:"})," ",k.feedback]})]}),r.jsxs("div",{className:"flex mt-4 md:mt-0 gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",children:"Add Notes"}),r.jsx(W,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:v,children:"Reschedule"})]})]})},k.id)):r.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-gray-500",children:"No past meetings found"})})})})]})]})},Uae=()=>{const[t,e]=p.useState("all"),[n,s]=p.useState("all"),[i,a]=p.useState("all"),[o,l]=p.useState(""),[c,u]=p.useState(!1),[d,m]=p.useState("date"),[f,g]=p.useState("desc"),[x,b]=p.useState([]),[y,w]=p.useState(!0),[v,N]=p.useState(null),[I,V]=p.useState(null),[z,A]=p.useState([]),[C,R]=p.useState({totalSessions:0,totalHours:0,averageRating:0,upcomingSessions:0,uniqueStudents:0}),[k,D]=p.useState(null),[S,P]=p.useState(!1),[B,O]=p.useState({student:"",studentId:"",type:"mentorship",topic:"",date:new Date().toISOString().split("T")[0],time:"12:00",expectedDuration:30,notes:""}),[$,T]=p.useState([]),[_,U]=p.useState(!1);p.useEffect(()=>{const J=j4(dt,ae=>{V(ae)});return()=>J()},[]),p.useEffect(()=>{S&&I&&G()},[S,I]);const G=async()=>{U(!0);try{const J=Ce(ce,"mentorships"),ae=Me(J,Re("mentorId","==",I.uid)),ye=await ot(ae),ve=new Map;ye.docs.forEach(Ue=>{const Oe=Ue.data();Oe.studentId&&Oe.studentName&&ve.set(Oe.studentId,{id:Oe.studentId,name:Oe.studentName})}),T(Array.from(ve.values()))}catch(J){console.error("Error fetching students: ",J),N("Failed to load students. Please try again.")}finally{U(!1)}};p.useEffect(()=>I?(k&&k(),(async()=>{w(!0);try{let ae=Ce(ce,"meetings"),ye=[];if(ye.push(Re("mentorId","==",I.uid)),t==="week"){const Oe=new Date;Oe.setDate(Oe.getDate()-7),ye.push(Re("date",">=",Et.fromDate(Oe)))}else if(t==="month"){const Oe=new Date;Oe.setMonth(Oe.getMonth()-1),ye.push(Re("date",">=",Et.fromDate(Oe)))}n!=="all"&&ye.push(Re("type","==",n)),i!=="all"&&ye.push(Re("status","==",i)),ye.push(_t("date",f));const ve=Me(ae,...ye),Ue=Ot(ve,Oe=>{const Vt=Oe.docs.map(qe=>{var q,Z;return{id:qe.id,...qe.data(),date:((q=qe.data().date)==null?void 0:q.toDate().toISOString().split("T")[0])||"",time:((Z=qe.data().date)==null?void 0:Z.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||""}}),re=o?Vt.filter(qe=>{var q,Z;return((q=qe.student)==null?void 0:q.toLowerCase().includes(o.toLowerCase()))||((Z=qe.topic)==null?void 0:Z.toLowerCase().includes(o.toLowerCase()))}):Vt;b(re),M(re),Y(Vt),w(!1)},Oe=>{console.error("Error fetching communications: ",Oe),N("Failed to load communications. Please try again."),w(!1)});D(()=>Ue)}catch(ae){console.error("Error setting up communications listener: ",ae),N("Failed to set up communications tracker. Please try again."),w(!1)}})(),()=>{k&&k()}):void 0,[I,t,n,i,f]),p.useEffect(()=>{if(!x.length)return;const J=o?x.filter(ae=>{var ye,ve;return((ye=ae.student)==null?void 0:ye.toLowerCase().includes(o.toLowerCase()))||((ve=ae.topic)==null?void 0:ve.toLowerCase().includes(o.toLowerCase()))}):x;M(J)},[o,x]);const M=J=>{const ae=J.filter(q=>q.status==="completed"),ye=J.filter(q=>q.status==="scheduled"),ve=ae.length,Ue=ae.reduce((q,Z)=>q+(Z.duration||0),0)/60,Oe=ae.filter(q=>q.rating>0),Vt=Oe.length?Oe.reduce((q,Z)=>q+Z.rating,0)/Oe.length:0,re=ye.length,qe=new Set(J.map(q=>q.studentId)).size;R({totalSessions:ve,totalHours:Ue,averageRating:Vt,upcomingSessions:re,uniqueStudents:qe})},Y=J=>{const ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ye=Array(12).fill(0);J.forEach(ve=>{if(ve.status==="completed"&&ve.date){const Ue=new Date(ve.date).getMonth();ye[Ue]++}}),A(ae.map((ve,Ue)=>({month:ve,count:ye[Ue]})))},L=J=>{d===J?g(f==="asc"?"desc":"asc"):(m(J),g("desc"))},X=J=>d===J?f==="asc"?r.jsx(Ib,{className:"h-4 w-4"}):r.jsx(Jl,{className:"h-4 w-4"}):null,le=J=>{if(!J)return"";const ae={year:"numeric",month:"short",day:"numeric"};return new Date(J).toLocaleDateString(void 0,ae)},ne=J=>{const{name:ae,value:ye}=J.target;if(O(ve=>({...ve,[ae]:ye})),ae==="student"){const ve=$.find(Ue=>Ue.name===ye);ve&&O(Ue=>({...Ue,studentId:ve.id}))}},H=async J=>{J.preventDefault();try{N(null);const[ae,ye,ve]=B.date.split("-").map(Number),[Ue,Oe]=B.time.split(":").map(Number),Vt=new Date(ae,ye-1,ve,Ue,Oe),re={mentorId:I.uid,studentId:B.studentId,student:B.student,type:B.type,topic:B.topic,date:Et.fromDate(Vt),expectedDuration:parseInt(B.expectedDuration)||30,notes:B.notes,status:"scheduled",createdAt:Mt(),updatedAt:Mt()};await wr(Ce(ce,"meetings"),re),P(!1),O({student:"",studentId:"",type:"mentorship",topic:"",date:new Date().toISOString().split("T")[0],time:"12:00",expectedDuration:30,notes:""})}catch(ae){console.error("Error creating meeting: ",ae),N("Failed to create meeting. Please try again.")}},te=()=>{if(!x.length)return;const ae=[["Student","Type","Topic","Date","Time","Duration","Status","Rating","Notes"].join(","),...x.map(Oe=>[Oe.student,Oe.type,`"${Oe.topic.replace(/"/g,'""')}"`,Oe.date,Oe.time,Oe.duration||0,Oe.status,Oe.rating||0,`"${(Oe.notes||"").replace(/"/g,'""')}"`].join(","))].join(`
`),ye=new Blob([ae],{type:"text/csv;charset=utf-8;"}),ve=document.createElement("a"),Ue=URL.createObjectURL(ye);ve.setAttribute("href",Ue),ve.setAttribute("download",`communications_export_${new Date().toISOString().split("T")[0]}.csv`),ve.style.visibility="hidden",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve)};return I?r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Communication Tracker"}),r.jsx("p",{className:"text-gray-600",children:"Track, analyze, and manage your student interactions and mentorship sessions"})]}),v&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 mb-8",children:[r.jsx("p",{children:v}),r.jsx(W,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>N(null),children:"Dismiss"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Sessions"}),r.jsx(ks,{className:"h-5 w-5 text-blue-600"})]}),r.jsx("p",{className:"text-2xl font-bold",children:C.totalSessions})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Hours Mentored"}),r.jsx(In,{className:"h-5 w-5 text-blue-600"})]}),r.jsx("p",{className:"text-2xl font-bold",children:C.totalHours.toFixed(1)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Rating"}),r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-yellow-500",children:""})})]}),r.jsxs("p",{className:"text-2xl font-bold",children:[C.averageRating.toFixed(1),"/5"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Upcoming"}),r.jsx(lt,{className:"h-5 w-5 text-blue-600"})]}),r.jsx("p",{className:"text-2xl font-bold",children:C.upcomingSessions})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Unique Students"}),r.jsx(Pn,{className:"h-5 w-5 text-blue-600"})]}),r.jsx("p",{className:"text-2xl font-bold",children:C.uniqueStudents})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Jj,{className:"h-5 w-5 text-blue-600 mr-2"}),"Communication Analytics"]}),r.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center",onClick:te,children:[r.jsx(yU,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),r.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:z.map((J,ae)=>r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 rounded-t w-full transition-all cursor-pointer relative group",style:{height:`${J.count>0?J.count*20+20:8}px`},children:J.count>0&&r.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[J.count," sessions"]})}),r.jsx("span",{className:"text-xs text-gray-500 mt-2",children:J.month})]},ae))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Cr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(me,{type:"text",placeholder:"Search by student name or topic...",className:"pl-10",value:o,onChange:J=>l(J.target.value)})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(W,{variant:t==="all"?"default":"outline",className:t==="all"?"bg-blue-600":"",onClick:()=>e("all"),children:"All Time"}),r.jsx(W,{variant:t==="month"?"default":"outline",className:t==="month"?"bg-blue-600":"",onClick:()=>e("month"),children:"Last Month"}),r.jsx(W,{variant:t==="week"?"default":"outline",className:t==="week"?"bg-blue-600":"",onClick:()=>e("week"),children:"Last Week"}),r.jsxs(W,{variant:"outline",onClick:()=>u(!c),className:"flex items-center",children:[r.jsx(rl,{className:"h-4 w-4 mr-2"}),"Filters",c?r.jsx(Ib,{className:"h-4 w-4 ml-2"}):r.jsx(Jl,{className:"h-4 w-4 ml-2"})]})]})]}),c&&r.jsxs("div",{className:"border-t pt-4 mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Communication Type"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",value:n,onChange:J=>s(J.target.value),children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"mentorship",children:"Mentorship"}),r.jsx("option",{value:"project",children:"Project Collaboration"}),r.jsx("option",{value:"career",children:"Career Guidance"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",value:i,onChange:J=>a(J.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By Rating"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",onChange:J=>{m("rating"),g(J.target.value)},children:[r.jsx("option",{value:"desc",children:"Highest First"}),r.jsx("option",{value:"asc",children:"Lowest First"})]})]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs(W,{className:"flex items-center bg-blue-600",onClick:()=>P(!0),children:[r.jsx(kl,{className:"h-4 w-4 mr-2"}),"Schedule New Meeting"]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Communication History"})}),y?r.jsx("div",{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"Loading communications..."})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:r.jsxs("button",{className:"flex items-center focus:outline-none",onClick:()=>L("student"),children:["Student ",X("student")]})}),r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:"Type / Topic"}),r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:r.jsxs("button",{className:"flex items-center focus:outline-none",onClick:()=>L("date"),children:["Date ",X("date")]})}),r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:"Duration"}),r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:"Status"}),r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider py-3 px-6",children:r.jsxs("button",{className:"flex items-center focus:outline-none",onClick:()=>L("rating"),children:["Rating ",X("rating")]})}),r.jsx("th",{className:"relative py-3 px-6",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[x.map(J=>{var ae,ye,ve,Ue;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsx("div",{className:"font-medium text-gray-900",children:J.student})}),r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${J.type==="mentorship"?"bg-purple-100 text-purple-800":J.type==="project"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:((ae=J.type)==null?void 0:ae.charAt(0).toUpperCase())+((ye=J.type)==null?void 0:ye.slice(1))}),r.jsx("span",{className:"text-sm text-gray-500 mt-1",children:J.topic})]})}),r.jsxs("td",{className:"py-4 px-6",children:[r.jsx("div",{className:"text-sm text-gray-900",children:le(J.date)}),r.jsx("div",{className:"text-sm text-gray-500",children:J.time})]}),r.jsx("td",{className:"py-4 px-6",children:J.status==="completed"?r.jsxs("span",{className:"text-sm text-gray-900",children:[J.duration," min"]}):r.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${J.status==="completed"?"bg-green-100 text-green-800":J.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[J.status==="completed"&&r.jsx(sn,{className:"h-3 w-3 mr-1"}),J.status==="cancelled"&&r.jsx(Hs,{className:"h-3 w-3 mr-1"}),J.status==="scheduled"&&r.jsx(In,{className:"h-3 w-3 mr-1"}),((ve=J.status)==null?void 0:ve.charAt(0).toUpperCase())+((Ue=J.status)==null?void 0:Ue.slice(1))]})}),r.jsx("td",{className:"py-4 px-6",children:J.rating>0?r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-yellow-500 mr-1",children:""}),r.jsxs("span",{children:[J.rating,"/5"]})]}):r.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),r.jsx("td",{className:"py-4 px-6 text-right",children:r.jsxs(W,{size:"sm",variant:"outline",className:"flex items-center text-xs",children:[r.jsx(Xj,{className:"h-3 w-3 mr-1"}),"View Details"]})})]},J.id)}),x.length===0&&!y&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:"No communication records found matching your filters."})})]})]})}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r.jsx("span",{className:"font-medium",children:x.length})," communications"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),r.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Schedule New Meeting"}),r.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-500",children:r.jsx(er,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:H,className:"p-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student"}),_?r.jsx("p",{className:"text-sm text-gray-500",children:"Loading students..."}):r.jsxs("select",{name:"student",value:B.student,onChange:ne,className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",required:!0,children:[r.jsx("option",{value:"",children:"Select a student"}),$.map(J=>r.jsx("option",{value:J.name,children:J.name},J.id))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),r.jsxs("select",{name:"type",value:B.type,onChange:ne,className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",required:!0,children:[r.jsx("option",{value:"mentorship",children:"Mentorship"}),r.jsx("option",{value:"project",children:"Project Collaboration"}),r.jsx("option",{value:"career",children:"Career Guidance"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),r.jsx(me,{type:"text",name:"topic",value:B.topic,onChange:ne,placeholder:"What will you discuss?",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx(me,{type:"date",name:"date",value:B.date,onChange:ne,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),r.jsx(me,{type:"time",name:"time",value:B.time,onChange:ne,required:!0})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Duration (minutes)"}),r.jsx(me,{type:"number",name:"expectedDuration",value:B.expectedDuration,onChange:ne,min:"5",max:"240",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Notes (optional)"}),r.jsx("textarea",{name:"notes",value:B.notes,onChange:ne,className:"w-full border border-gray-300 rounded-md py-2 px-3 text-sm",rows:"3",placeholder:"Add any additional details or agenda items"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"}),r.jsxs(W,{type:"submit",className:"bg-blue-600",children:[r.jsx(zl,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})]})]})})]}):r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{children:"Please sign in to access the Communication Tracker."})})},$ae=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState({fullName:"Beere Adbhutha",graduationYear:"2018",branch:"Computer Science Engineering",jobTitle:"Senior Software Engineer",company:"Google",industry:"Technology",location:"Hyderabad, India",about:"Experienced software engineer specializing in web development and cloud computing. Passionate about mentoring students and helping them navigate their career paths in tech.",skills:["React","Node.js","Firebase","Cloud Computing","JavaScript","TypeScript","AWS"],education:[{degree:"B.Tech in Computer Science",institution:"BVRIT Narsapur",year:"2018"},{degree:"M.S. in Computer Science",institution:"Georgia Tech",year:"2021"}],experience:[{role:"Senior Software Engineer",company:"Google",duration:"2021 - Present",description:"Working on cloud infrastructure and web applications."},{role:"Software Engineer",company:"Amazon",duration:"2018 - 2021",description:"Full-stack development for e-commerce platforms."}],willingToMentor:!0,linkedinUrl:"https://linkedin.com/in/adbhutha",githubUrl:"https://github.com/adbhutha10",verificationStatus:"verified"}),i=c=>{const{name:u,value:d}=c.target;s({...n,[u]:d})},a=c=>{const u=c.target.value.split(",").map(d=>d.trim());s({...n,skills:u})},o=()=>{e(!1)},l=()=>{switch(n.verificationStatus){case"verified":return r.jsxs(qr,{className:"bg-green-50 border-green-200 mb-6",children:[r.jsx(sn,{className:"h-5 w-5 text-green-600"}),r.jsx(Qp,{className:"text-green-800 ml-2",children:"Verified Alumni"}),r.jsx(Hr,{className:"text-green-700 ml-7",children:"Your alumni status has been verified. You have full access to all platform features."})]});case"pending":return r.jsxs(qr,{className:"bg-yellow-50 border-yellow-200 mb-6",children:[r.jsx(lt,{className:"h-5 w-5 text-yellow-600"}),r.jsx(Qp,{className:"text-yellow-800 ml-2",children:"Verification Pending"}),r.jsx(Hr,{className:"text-yellow-700 ml-7",children:"Your verification is being processed. This usually takes 1-2 business days."})]});case"rejected":return r.jsxs(qr,{className:"bg-red-50 border-red-200 mb-6",children:[r.jsx(Hs,{className:"h-5 w-5 text-red-600"}),r.jsx(Qp,{className:"text-red-800 ml-2",children:"Verification Failed"}),r.jsx(Hr,{className:"text-red-700 ml-7",children:"We couldn't verify your alumni status. Please resubmit with valid BVRIT graduation documents."})]});default:return null}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile & Verification"}),r.jsx("p",{className:"text-gray-600",children:"Manage your profile information and verification status"})]}),l(),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white relative",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-white flex items-center justify-center text-blue-600 font-bold text-2xl",children:n.fullName.split(" ").map(c=>c[0]).join("")}),r.jsxs("div",{className:"ml-6",children:[r.jsx("h3",{className:"text-2xl font-bold",children:n.fullName}),r.jsxs("p",{className:"text-blue-100",children:[n.jobTitle," at ",n.company]}),r.jsxs("p",{className:"flex items-center text-blue-100 mt-1",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),n.branch,", Class of ",n.graduationYear]}),r.jsxs("p",{className:"flex items-center text-blue-100 mt-1",children:[r.jsx(Qs,{className:"h-4 w-4 mr-1"}),n.location]})]})]}),!t&&r.jsxs(W,{onClick:()=>e(!0),className:"bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(ec,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),t&&r.jsxs(W,{onClick:o,className:"bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(zl,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),r.jsxs("div",{className:"flex gap-4",children:[n.linkedinUrl&&r.jsxs("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-white bg-opacity-20 rounded-lg px-4 py-2 flex items-center hover:bg-opacity-30",children:[r.jsx(Vx,{className:"h-5 w-5 mr-2"}),"LinkedIn"]}),n.githubUrl&&r.jsxs("a",{href:n.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-white bg-opacity-20 rounded-lg px-4 py-2 flex items-center hover:bg-opacity-30",children:[r.jsx(IR,{className:"h-5 w-5 mr-2"}),"GitHub"]}),r.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg px-4 py-2 flex items-center",children:n.willingToMentor?r.jsxs(r.Fragment,{children:[r.jsx(sn,{className:"h-5 w-5 mr-2 text-green-300"}),r.jsx("span",{children:"Available for Mentoring"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Hs,{className:"h-5 w-5 mr-2 text-red-300"}),r.jsx("span",{children:"Not Available for Mentoring"})]})})]})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"About"}),t?r.jsx("textarea",{name:"about",value:n.about,onChange:i,className:"w-full p-3 border rounded-md h-32"}):r.jsx("p",{className:"text-gray-700",children:n.about})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Skills"}),t?r.jsx("input",{type:"text",name:"skills",value:n.skills.join(", "),onChange:a,className:"w-full p-3 border rounded-md",placeholder:"Enter skills separated by commas"}):r.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((c,u)=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:c},u))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Experience"}),t?r.jsxs("div",{className:"space-y-4",children:[n.experience.map((c,u)=>r.jsxs("div",{className:"p-4 border rounded-md",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[r.jsx("input",{type:"text",value:c.role,onChange:d=>{const m=[...n.experience];m[u].role=d.target.value,s({...n,experience:m})},className:"p-2 border rounded",placeholder:"Job Title"}),r.jsx("input",{type:"text",value:c.company,onChange:d=>{const m=[...n.experience];m[u].company=d.target.value,s({...n,experience:m})},className:"p-2 border rounded",placeholder:"Company"})]}),r.jsx("div",{className:"mb-2",children:r.jsx("input",{type:"text",value:c.duration,onChange:d=>{const m=[...n.experience];m[u].duration=d.target.value,s({...n,experience:m})},className:"p-2 border rounded w-full",placeholder:"Duration"})}),r.jsx("textarea",{value:c.description,onChange:d=>{const m=[...n.experience];m[u].description=d.target.value,s({...n,experience:m})},className:"p-2 border rounded w-full",placeholder:"Description",rows:"3"})]},u)),r.jsx(W,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",onClick:()=>{const c=[...n.experience];c.push({role:"",company:"",duration:"",description:""}),s({...n,experience:c})},children:"Add Experience"})]}):r.jsx("div",{className:"space-y-6",children:n.experience.map((c,u)=>r.jsxs("div",{className:"border-b pb-4 last:border-b-0 last:pb-0",children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:c.role}),r.jsx("span",{className:"text-gray-500 text-sm",children:c.duration})]}),r.jsxs("p",{className:"text-gray-700 text-sm mb-2 flex items-center",children:[r.jsx(pr,{className:"h-4 w-4 mr-1 text-gray-500"}),c.company]}),r.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]},u))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Education"}),t?r.jsxs("div",{className:"space-y-4",children:[n.education.map((c,u)=>r.jsxs("div",{className:"p-4 border rounded-md",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[r.jsx("input",{type:"text",value:c.degree,onChange:d=>{const m=[...n.education];m[u].degree=d.target.value,s({...n,education:m})},className:"p-2 border rounded",placeholder:"Degree"}),r.jsx("input",{type:"text",value:c.year,onChange:d=>{const m=[...n.education];m[u].year=d.target.value,s({...n,education:m})},className:"p-2 border rounded",placeholder:"Year"})]}),r.jsx("input",{type:"text",value:c.institution,onChange:d=>{const m=[...n.education];m[u].institution=d.target.value,s({...n,education:m})},className:"p-2 border rounded w-full",placeholder:"Institution"})]},u)),r.jsx(W,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",onClick:()=>{const c=[...n.education];c.push({degree:"",institution:"",year:""}),s({...n,education:c})},children:"Add Education"})]}):r.jsx("div",{className:"space-y-4",children:n.education.map((c,u)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900",children:c.degree}),r.jsxs("p",{className:"text-gray-700 text-sm flex items-center",children:[r.jsx(ts,{className:"h-4 w-4 mr-1 text-gray-500"}),c.institution]})]}),r.jsx("span",{className:"text-gray-500 text-sm",children:c.year})]},u))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Verification Documents"}),n.verificationStatus==="verified"?r.jsxs("div",{className:"p-4 bg-green-50 rounded-md border border-green-200 flex items-center",children:[r.jsx(sn,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("p",{className:"text-green-800",children:"Your alumni status has been successfully verified."})]}):n.verificationStatus==="rejected"?r.jsxs("div",{children:[r.jsxs("div",{className:"p-4 mb-4 bg-red-50 rounded-md border border-red-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Hs,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("p",{className:"text-red-800 font-medium",children:"Verification failed"})]}),r.jsx("p",{className:"text-red-700 ml-7 mb-4",children:"We were unable to verify your alumni status based on the documents provided. Please upload valid graduation certificate or ID card."}),r.jsx("div",{className:"ml-7",children:r.jsxs(W,{className:"bg-red-600 hover:bg-red-700",children:[r.jsx(tc,{className:"h-4 w-4 mr-2"}),"Re-Upload Documents"]})})]}),r.jsxs("div",{className:"border rounded-md p-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Acceptable Documents:"}),r.jsxs("ul",{className:"list-disc pl-5 text-gray-700 text-sm space-y-1",children:[r.jsx("li",{children:"BVRIT Graduation Certificate"}),r.jsx("li",{children:"BVRIT Student ID Card"}),r.jsx("li",{children:"Degree Certificate with BVRIT name"}),r.jsx("li",{children:"Official Transcript from BVRIT"})]})]})]}):r.jsxs("div",{className:"p-4 bg-yellow-50 rounded-md border border-yellow-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(lt,{className:"h-5 w-5 text-yellow-600 mr-2"}),r.jsx("p",{className:"text-yellow-800 font-medium",children:"Verification in progress"})]}),r.jsx("p",{className:"text-yellow-700 ml-7",children:"Your verification is being processed. We'll notify you once it's complete, typically within 1-2 business days."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Mentorship Preferences"}),t?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"willingToMentor",checked:n.willingToMentor,onChange:()=>s({...n,willingToMentor:!n.willingToMentor}),className:"h-4 w-4 mr-2"}),r.jsx("label",{htmlFor:"willingToMentor",children:"Available for Mentoring"})]}),n.willingToMentor&&r.jsxs("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:[r.jsx("h5",{className:"font-medium mb-3",children:"Mentor Preferences"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Preferred Departments"}),r.jsxs("select",{className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"any",children:"Any Department"}),r.jsx("option",{value:"cse",children:"Computer Science"}),r.jsx("option",{value:"it",children:"Information Technology"}),r.jsx("option",{value:"ece",children:"Electronics & Communication"}),r.jsx("option",{value:"eee",children:"Electrical Engineering"}),r.jsx("option",{value:"mech",children:"Mechanical Engineering"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Maximum Students"}),r.jsxs("select",{className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"1",children:"1 Student"}),r.jsx("option",{value:"2",children:"2 Students"}),r.jsx("option",{value:"3",children:"3 Students"}),r.jsx("option",{value:"5",children:"5 Students"}),r.jsx("option",{value:"10",children:"10 Students"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Mentorship Topics"}),r.jsx("textarea",{className:"w-full p-2 border rounded-md",placeholder:"e.g., Career Guidance, Technical Skills, Interview Preparation",rows:"3"})]})]})]})]}):n.willingToMentor?r.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[r.jsxs("p",{className:"flex items-center mb-3",children:[r.jsx(sn,{className:"h-5 w-5 text-blue-600 mr-2"}),r.jsx("span",{className:"font-medium text-blue-800",children:"You are available as a mentor"})]}),r.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"Students can send you mentorship requests based on your expertise and profile information."}),r.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",children:"View Current Mentees"})]}):r.jsx("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:r.jsxs("p",{className:"flex items-center",children:[r.jsx(Hs,{className:"h-5 w-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-700",children:"You are not currently available for mentoring"})]})})]})]})]})]})};var k1="Radio",[Bae,l3]=Xr(k1),[zae,Wae]=Bae(k1),c3=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[m,f]=p.useState(null),g=ht(e,y=>f(y)),x=p.useRef(!1),b=m?u||!!m.closest("form"):!0;return r.jsxs(zae,{scope:n,checked:i,disabled:o,children:[r.jsx(Ve.button,{type:"button",role:"radio","aria-checked":i,"data-state":h3(i),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:we(t.onClick,y=>{i||c==null||c(),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&r.jsx(qae,{control:m,bubbles:!x.current,name:s,value:l,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});c3.displayName=k1;var u3="RadioIndicator",d3=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...i}=t,a=Wae(u3,n);return r.jsx(nr,{present:s||a.checked,children:r.jsx(Ve.span,{"data-state":h3(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});d3.displayName=u3;var qae=t=>{const{control:e,checked:n,bubbles:s=!0,...i}=t,a=p.useRef(null),o=u1(n),l=uN(e);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&m){const f=new Event("click",{bubbles:s});m.call(c,n),c.dispatchEvent(f)}},[o,n,s]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h3(t){return t?"checked":"unchecked"}var Hae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T1="RadioGroup",[Gae,joe]=Xr(T1,[fd,l3]),m3=fd(),f3=l3(),[Yae,Kae]=Gae(T1),p3=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:m,...f}=t,g=m3(n),x=Wm(u),[b,y]=xi({prop:a,defaultProp:i,onChange:m});return r.jsx(Yae,{scope:n,name:s,required:o,disabled:l,value:b,onValueChange:y,children:r.jsx(MN,{asChild:!0,...g,orientation:c,dir:x,loop:d,children:r.jsx(Ve.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...f,ref:e})})})});p3.displayName=T1;var g3="RadioGroupItem",x3=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...i}=t,a=Kae(g3,n),o=a.disabled||s,l=m3(n),c=f3(n),u=p.useRef(null),d=ht(e,u),m=a.value===i.value,f=p.useRef(!1);return p.useEffect(()=>{const g=b=>{Hae.includes(b.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",x)}},[]),r.jsx(ON,{asChild:!0,...l,focusable:!o,active:m,children:r.jsx(c3,{disabled:o,required:a.required,checked:m,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:we(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:we(i.onFocus,()=>{var g;f.current&&((g=u.current)==null||g.click())})})})});x3.displayName=g3;var Qae="RadioGroupIndicator",y3=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,i=f3(n);return r.jsx(d3,{...i,...s,ref:e})});y3.displayName=Qae;var v3=p3,b3=x3,Zae=y3;const w3=p.forwardRef(({className:t,...e},n)=>r.jsx(v3,{className:Ee("grid gap-2",t),...e,ref:n}));w3.displayName=v3.displayName;const Jp=p.forwardRef(({className:t,...e},n)=>r.jsx(b3,{ref:n,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:r.jsx(Zae,{className:"flex items-center justify-center",children:r.jsx(ER,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Jp.displayName=b3.displayName;const Xae=()=>{const[t,e]=p.useState({fullName:"Beere Adbhutha",email:"adbhutha@gmail.com",phone:"+91 9866796510",jobTitle:"Senior Software Engineer",company:"Google",graduationYear:"2020",branch:"Computer Science",location:"Hyderabad, India",linkedIn:"linkedin.com/in/adbhutha",github:"github.com/adbhutha10",bio:"Senior Software Engineer at Google with expertise in building scalable web applications. BVRIT CSE graduate (2020). Passionate about mentoring students in web development and cloud computing."}),[n,s]=p.useState({showEmail:!1,showPhone:!1,showLocationToStudents:!0,profileVisibility:"all",allowStudentRequests:!0,showCurrentCompany:!0,showPreviousCompanies:!0}),[i,a]=p.useState({mentorshipRequests:!0,messageNotifications:!0,eventReminders:!0,communityActivity:!0,emailNotifications:!0,pushNotifications:!0,opportunityApplications:!0,weeklyDigest:!1}),[o,l]=p.useState({twoFactorAuth:!1,passwordLastChanged:"March 15, 2025"}),[c,u]=p.useState("profile"),[d,m]=p.useState(!1),[f,g]=p.useState(!1),[x,b]=p.useState(!1),[y,w]=p.useState(!1),[v,N]=p.useState(""),[I,V]=p.useState(""),[z,A]=p.useState(""),[C,R]=p.useState(!1),[k,D]=p.useState(""),S=_=>{const{name:U,value:G}=_.target;e({...t,[U]:G})},P=(_,U)=>{s({...n,[_]:U})},B=(_,U)=>{a({...i,[_]:U})},O=()=>{w(!0),setTimeout(()=>{w(!1),m(!0),setTimeout(()=>m(!1),3e3)},1e3)},$=()=>{w(!0),setTimeout(()=>{w(!1),b(!1),m(!0),setTimeout(()=>m(!1),3e3),N(""),V(""),A("")},1e3)},T=()=>{w(!0),setTimeout(()=>{w(!1),g(!1),alert("Account deletion process initiated. You will receive an email with further instructions.")},1e3)};return r.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and information"})]}),d&&r.jsxs(qr,{className:"mb-6 bg-green-50 border-green-100",children:[r.jsx(zo,{className:"h-4 w-4 text-green-600"}),r.jsx(Hr,{className:"text-green-700",children:"Your changes have been saved successfully."})]}),r.jsxs(ys,{value:c,onValueChange:u,className:"w-full",children:[r.jsxs(ns,{className:"grid grid-cols-4 mb-8",children:[r.jsxs(Be,{value:"profile",className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"h-4 w-4"})," Profile"]}),r.jsxs(Be,{value:"privacy",className:"flex items-center gap-2",children:[r.jsx(Ux,{className:"h-4 w-4"})," Privacy"]}),r.jsxs(Be,{value:"notifications",className:"flex items-center gap-2",children:[r.jsx(Ox,{className:"h-4 w-4"})," Notifications"]}),r.jsxs(Be,{value:"account",className:"flex items-center gap-2",children:[r.jsx(Hh,{className:"h-4 w-4"})," Account"]})]}),r.jsxs(st,{value:"profile",className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"fullName",children:"Full Name"}),r.jsx(me,{id:"fullName",name:"fullName",value:t.fullName,onChange:S,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"email",children:"Email Address"}),r.jsx(me,{id:"email",name:"email",type:"email",value:t.email,onChange:S,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"phone",children:"Phone Number"}),r.jsx(me,{id:"phone",name:"phone",value:t.phone,onChange:S,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"graduationYear",children:"Graduation Year"}),r.jsx(me,{id:"graduationYear",name:"graduationYear",value:t.graduationYear,onChange:S,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"branch",children:"Branch/Department"}),r.jsx(me,{id:"branch",name:"branch",value:t.branch,onChange:S,className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"location",children:"Location"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(Qs,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx(me,{id:"location",name:"location",value:t.location,onChange:S})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"jobTitle",children:"Current Job Title"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(hn,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx(me,{id:"jobTitle",name:"jobTitle",value:t.jobTitle,onChange:S})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"company",children:"Current Company"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(pr,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx(me,{id:"company",name:"company",value:t.company,onChange:S})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"linkedIn",children:"LinkedIn Profile"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(Vx,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx(me,{id:"linkedIn",name:"linkedIn",value:t.linkedIn,onChange:S})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"github",children:"GitHub Profile"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(IR,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx(me,{id:"github",name:"github",value:t.github,onChange:S})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx(be,{htmlFor:"bio",children:"Professional Bio"}),r.jsx(Rs,{id:"bio",name:"bio",value:t.bio,onChange:S,className:"mt-1 h-32",placeholder:"Tell students about your professional journey and expertise"})]}),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsx(W,{onClick:O,disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:y?"Saving...":"Save Changes"})})]}),r.jsxs(st,{value:"privacy",className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Privacy Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Profile Visibility"}),r.jsxs(w3,{value:n.profileVisibility,onValueChange:_=>P("profileVisibility",_),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Jp,{value:"all",id:"visibility-all"}),r.jsx(be,{htmlFor:"visibility-all",children:"Visible to all platform users"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Jp,{value:"students",id:"visibility-students"}),r.jsx(be,{htmlFor:"visibility-students",children:"Visible only to BVRIT students"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Jp,{value:"none",id:"visibility-none"}),r.jsx(be,{htmlFor:"visibility-none",children:"Private (visible only to approved connections)"})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Contact Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show email address to"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow students to see your email address"})]}),r.jsx(Hn,{checked:n.showEmail,onCheckedChange:_=>P("showEmail",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show phone number to"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow students to see your phone number"})]}),r.jsx(Hn,{checked:n.showPhone,onCheckedChange:_=>P("showPhone",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show location"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Make your current location visible"})]}),r.jsx(Hn,{checked:n.showLocationToStudents,onCheckedChange:_=>P("showLocationToStudents",_)})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Work Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show current company"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Display your current employer"})]}),r.jsx(Hn,{checked:n.showCurrentCompany,onCheckedChange:_=>P("showCurrentCompany",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show work history"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Display your previous companies and roles"})]}),r.jsx(Hn,{checked:n.showPreviousCompanies,onCheckedChange:_=>P("showPreviousCompanies",_)})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Mentorship Settings"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Allow mentorship requests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Students can send you mentorship requests"})]}),r.jsx(Hn,{checked:n.allowStudentRequests,onCheckedChange:_=>P("allowStudentRequests",_)})]})]})]}),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsx(W,{onClick:O,disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:y?"Saving...":"Save Changes"})})]}),r.jsxs(st,{value:"notifications",className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Notification Channels"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),r.jsx(Hn,{checked:i.emailNotifications,onCheckedChange:_=>B("emailNotifications",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications on your device"})]}),r.jsx(Hn,{checked:i.pushNotifications,onCheckedChange:_=>B("pushNotifications",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Weekly Digest"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive a weekly summary of activities"})]}),r.jsx(Hn,{checked:i.weeklyDigest,onCheckedChange:_=>B("weeklyDigest",_)})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Notification Types"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Mentorship Requests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"When students request your mentorship"})]}),r.jsx(Hn,{checked:i.mentorshipRequests,onCheckedChange:_=>B("mentorshipRequests",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Messages"}),r.jsx("p",{className:"text-sm text-gray-500",children:"When you receive new messages"})]}),r.jsx(Hn,{checked:i.messageNotifications,onCheckedChange:_=>B("messageNotifications",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Event Reminders"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Reminders about events you're hosting or attending"})]}),r.jsx(Hn,{checked:i.eventReminders,onCheckedChange:_=>B("eventReminders",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Community Activity"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Updates on communities you manage or belong to"})]}),r.jsx(Hn,{checked:i.communityActivity,onCheckedChange:_=>B("communityActivity",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Opportunity Applications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"When students apply to opportunities you posted"})]}),r.jsx(Hn,{checked:i.opportunityApplications,onCheckedChange:_=>B("opportunityApplications",_)})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsx(W,{onClick:O,disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:y?"Saving...":"Save Changes"})})]}),r.jsxs(st,{value:"account",className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Account Settings"}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Security"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Password"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Last changed: ",o.passwordLastChanged]})]}),r.jsxs(bn,{open:x,onOpenChange:b,children:[r.jsx(di,{asChild:!0,children:r.jsx(W,{variant:"outline",size:"sm",children:"Change Password"})}),r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsx(pn,{children:"Change Password"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(be,{htmlFor:"currentPassword",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(me,{id:"currentPassword",type:C?"text":"password",value:v,onChange:_=>N(_.target.value),className:"mt-1 pr-10"}),r.jsx("button",{type:"button",onClick:()=>R(!C),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500",children:C?r.jsx(TR,{size:18}):r.jsx(Fx,{size:18})})]})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"newPassword",children:"New Password"}),r.jsx(me,{id:"newPassword",type:"password",value:I,onChange:_=>V(_.target.value),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(be,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsx(me,{id:"confirmPassword",type:"password",value:z,onChange:_=>A(_.target.value),className:"mt-1"})]})]}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),r.jsx(W,{onClick:$,disabled:y||!v||!I||I!==z,className:"bg-blue-600 hover:bg-blue-700",children:y?"Updating...":"Update Password"})]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),r.jsx(Hn,{checked:o.twoFactorAuth,onCheckedChange:_=>l({...o,twoFactorAuth:_})})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Help & Support"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(W,{variant:"outline",className:"w-full flex items-center justify-center gap-2 h-10",children:[r.jsx(vU,{size:18}),"Contact Support"]}),r.jsxs(W,{className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 h-10",children:[r.jsx(Pa,{size:18}),"Email Feedback"]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Account Actions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(W,{variant:"outline",className:"w-full flex items-center justify-center gap-2 border-orange-300 text-orange-700 hover:bg-orange-50 h-10",children:[r.jsx(wU,{size:18}),"Log Out"]}),r.jsxs(bn,{open:f,onOpenChange:g,children:[r.jsx(di,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"w-full flex items-center justify-center gap-2 border-red-300 text-red-700 hover:bg-red-50 h-10",children:[r.jsx(Zi,{size:18}),"Delete Account"]})}),r.jsxs(mn,{children:[r.jsx(fn,{children:r.jsx(pn,{className:"text-red-600",children:"Delete Your Account"})}),r.jsxs("div",{className:"py-4",children:[r.jsx("p",{className:"mb-4 text-gray-700",children:"This action is permanent and cannot be undone. All your data including profile, mentorship history, and communications will be permanently removed."}),r.jsxs("div",{className:"mb-4",children:[r.jsx(be,{htmlFor:"deleteConfirmation",children:'Please type "DELETE" to confirm'}),r.jsx(me,{id:"deleteConfirmation",value:k,onChange:_=>D(_.target.value),className:"mt-1"})]})]}),r.jsxs(An,{children:[r.jsx(W,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(W,{onClick:T,disabled:y||k!=="DELETE",className:"bg-red-600 hover:bg-red-700",children:y?"Processing...":"Permanently Delete Account"})]})]})]})]})]})]})]})]})]})},kT=()=>{const t=bs(),[e,n]=p.useState("home");p.useState(!0);const[s,i]=p.useState(null),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState([]),[m,f]=p.useState([]),[g,x]=p.useState([]),[b,y]=p.useState([]),[w,v]=p.useState([]),[N,I]=p.useState([]),[V,z]=p.useState([]),[A,C]=p.useState({pendingRequestsCount:0,studentsmentored:0,upcomingMeetingsCount:0,eventsRegisteredCount:0}),R=()=>{c(!l)},k=T=>{n(T),window.innerWidth<1024&&c(!1)};p.useEffect(()=>{const T=dt.onAuthStateChanged(_=>{if(!_){t("/login");return}(async()=>{const G=Me(Ce(ce,"alumni_profiles"),Re("userId","==",_.uid));try{const M=await ot(G);M.empty?t("/alumni/create-profile"):i({id:M.docs[0].id,...M.docs[0].data()})}catch(M){console.error("Error getting alumni profile:",M)}})()});return()=>T()},[t]),p.useEffect(()=>{if(!s)return;const T=Me(Ce(ce,"notifications"),Re("recipientId","==",s.userId),_t("timestamp","desc"),Ki(10)),_=Ot(T,U=>{const G=U.docs.map(M=>({id:M.id,...M.data(),read:M.data().readAt!==null,time:D(M.data().timestamp)}));d(G)});return()=>_()},[s]),p.useEffect(()=>{if(!s)return;const T=Me(Ce(ce,"mentorshipRequests"),Re("mentorId","==",s.userId),Re("status","==","pending"),_t("createdAt","desc")),_=Ot(T,async U=>{const G=[];for(const M of U.docs){const Y=M.data();try{const L=Me(Ce(ce,"students"),Re("userId","==",Y.studentId)),X=await ot(L);if(!X.empty){const le=X.docs[0].data();G.push({id:M.id,student:le.fullName,branch:le.branch,year:`${le.year}${S(le.year)} Year`,requestType:Y.type,date:D(Y.createdAt),studentId:Y.studentId})}}catch(L){console.error("Error getting student details:",L)}}f(G),C(M=>({...M,pendingRequestsCount:G.length}))});return()=>_()},[s]),p.useEffect(()=>{if(!s)return;const T=Me(Ce(ce,"mentorships"),Re("mentorId","==",s.userId),_t("updatedAt","desc"),Ki(5)),_=Ot(T,async U=>{const G=[];let M=0;for(const Y of U.docs){const L=Y.data();try{const X=Me(Ce(ce,"students"),Re("userId","==",L.studentId)),le=await ot(X);if(!le.empty){const ne=le.docs[0].data();G.push({id:Y.id,student:ne.fullName,topic:L.topic,status:L.status,date:D(L.updatedAt||L.createdAt)}),(L.status==="active"||L.status==="completed")&&M++}}catch(X){console.error("Error getting student details for mentorship:",X)}}x(G),C(Y=>({...Y,studentsmentored:M}))});return()=>_()},[s]),p.useEffect(()=>{if(!s)return;const T=new Date;T.setHours(0,0,0,0);const _=Me(Ce(ce,"meetings"),Re("alumniId","==",s.userId),Re("startTime",">=",T),_t("startTime","asc"),Ki(5)),U=Ot(_,async G=>{const M=[];for(const Y of G.docs){const L=Y.data();try{const X=Me(Ce(ce,"students"),Re("userId","==",L.studentId)),le=await ot(X);if(!le.empty){const ne=le.docs[0].data(),H=L.startTime.toDate();M.push({id:Y.id,with:ne.fullName,topic:L.topic,date:H.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),time:H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})}}catch(X){console.error("Error getting student details for meeting:",X)}}y(M),C(Y=>({...Y,upcomingMeetingsCount:M.length}))});return()=>U()},[s]),p.useEffect(()=>{if(!s)return;const T=new Date;T.setHours(0,0,0,0);const _=Me(Ce(ce,"events"),Re("creatorId","==",s.userId),Re("eventDate",">=",T),_t("eventDate","asc")),U=Me(Ce(ce,"eventRegistrations"),Re("userId","==",s.userId)),G=async()=>{try{const L=(await ot(_)).docs.map(te=>({id:te.id,title:te.data().title,date:D(te.data().eventDate),status:"Hosting",attendees:te.data().attendeeCount||0})),le=(await ot(U)).docs.map(te=>te.data().eventId),ne=[];for(const te of le){const J=await ot(Me(Ce(ce,"events"),Re("__name__","==",te),Re("eventDate",">=",T)));if(!J.empty){const ae=J.docs[0].data();ne.push({id:J.docs[0].id,title:ae.title,date:D(ae.eventDate),status:"Attending",attendees:ae.attendeeCount||0})}}const H=[...L,...ne].sort((te,J)=>new Date(te.date)-new Date(J.date));v(H),C(te=>({...te,eventsRegisteredCount:ne.length+L.length}))}catch(Y){console.error("Error loading events:",Y)}};G();const M=setInterval(G,3e5);return()=>clearInterval(M)},[s]),p.useEffect(()=>{if(!s)return;const T=Me(Ce(ce,"opportunities"),Re("creatorId","==",s.userId),_t("createdAt","desc")),_=Ot(T,async U=>{const G=[];for(const M of U.docs){const Y=M.data();try{const L=Me(Ce(ce,"applications"),Re("opportunityId","==",M.id)),le=(await ot(L)).size;G.push({id:M.id,title:Y.title,company:Y.company,applications:le,posted:D(Y.createdAt)})}catch(L){console.error("Error counting applications:",L),G.push({id:M.id,title:Y.title,company:Y.company,applications:0,posted:D(Y.createdAt)})}}I(G)});return()=>_()},[s]),p.useEffect(()=>{if(!s)return;const T=Me(Ce(ce,"communities"),Re("creatorId","==",s.userId)),_=Ot(T,async U=>{const G=[];for(const M of U.docs){const Y=M.data();try{const L=Me(Ce(ce,"communityMembers"),Re("communityId","==",M.id)),le=(await ot(L)).size,ne=new Date;ne.setDate(ne.getDate()-7);const H=Me(Ce(ce,"communityPosts"),Re("communityId","==",M.id),Re("createdAt",">=",ne)),J=(await ot(H)).size;G.push({id:M.id,name:Y.name,members:le,newPosts:J})}catch(L){console.error("Error counting community metrics:",L),G.push({id:M.id,name:Y.name,members:0,newPosts:0})}}z(G)});return()=>_()},[s]);const D=T=>T?(T.toDate?T.toDate():new Date(T)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",S=T=>T==="1"?"st":T==="2"?"nd":T==="3"?"rd":"th",P=u.filter(T=>!T.read).length,B=async()=>{const T=ce.batch();u.forEach(_=>{if(!_.read){const U=it(ce,"notifications",_.id);T.update(U,{readAt:Mt()})}});try{await T.commit(),d(u.map(_=>({..._,read:!0})))}catch(_){console.error("Error marking notifications as read:",_)}},O=async(T,_)=>{try{const U=it(ce,"mentorshipRequests",T);await Yt(U,{status:"accepted",updatedAt:Mt()});const G=m.find(M=>M.id===T);await wr(Ce(ce,"mentorships"),{mentorId:s.userId,studentId:_,status:"active",topic:G.requestType,createdAt:Mt(),updatedAt:Mt()}),await wr(Ce(ce,"notifications"),{recipientId:_,content:`${s.fullName} accepted your mentorship request`,type:"mentorship_accepted",timestamp:Mt(),readAt:null})}catch(U){console.error("Error accepting request:",U)}},$=async(T,_)=>{try{const U=it(ce,"mentorshipRequests",T);await Yt(U,{status:"declined",updatedAt:Mt()}),await wr(Ce(ce,"notifications"),{recipientId:_,content:`${s.fullName} declined your mentorship request`,type:"mentorship_declined",timestamp:Mt(),readAt:null})}catch(U){console.error("Error declining request:",U)}};return s?r.jsxs("div",{className:"flex min-h-screen bg-gradient-to-b from-white to-blue-50",children:[l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>c(!1)}),r.jsxs("div",{className:`${l?"translate-x-0":"-translate-x-full lg:translate-x-0"} fixed top-0 left-0 h-full w-64 bg-white shadow-md flex-shrink-0 z-30 transition-transform duration-300 ease-in-out lg:relative lg:z-10`,children:[r.jsxs("div",{className:"p-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"BVRIT Connect"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Alumni Dashboard"})]}),r.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-700",onClick:R,children:r.jsx(er,{className:"w-6 h-6"})})]}),r.jsx("nav",{className:"mt-6",children:r.jsx("ul",{children:[{id:"home",name:"Home",icon:r.jsx(RR,{className:"w-5 h-5"})},{id:"students",name:"Student Directory",icon:r.jsx(Pn,{className:"w-5 h-5"})},{id:"events",name:"Events",icon:r.jsx(lt,{className:"w-5 h-5"})},{id:"opportunities",name:"Opportunities Board",icon:r.jsx(hn,{className:"w-5 h-5"})},{id:"communities",name:"Communities",icon:r.jsx(qs,{className:"w-5 h-5"})},{id:"mentorship",name:"Mentorship Panel",icon:r.jsx(Mo,{className:"w-5 h-5"})},{id:"requests",name:"Requests List",icon:r.jsx(ks,{className:"w-5 h-5"})},{id:"schedule",name:"Chat Scheduling",icon:r.jsx(In,{className:"w-5 h-5"})},{id:"communication",name:"Communication Tracker",icon:r.jsx(Jj,{className:"w-5 h-5"})},{id:"profile",name:"Profile & Verification",icon:r.jsx(Rt,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:r.jsx(nN,{className:"w-5 h-5"})}].map(T=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>k(T.id),className:`flex items-center w-full p-3 px-6 ${e===T.id?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:[T.icon,r.jsx("span",{className:"ml-3",children:T.name})]})},T.id))})})]}),r.jsxs("div",{className:"flex-1 w-full",children:[r.jsxs("header",{className:"bg-white shadow-sm py-4 px-4 md:px-8 flex justify-between items-center sticky top-0 z-10",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{className:"mr-4 p-1 rounded-md text-gray-700 hover:bg-gray-100 lg:hidden",onClick:R,children:r.jsx(tN,{className:"h-6 w-6"})}),r.jsx("div",{className:"text-lg font-semibold text-gray-800",children:e.charAt(0).toUpperCase()+e.slice(1)})]}),r.jsxs("div",{className:"flex items-center space-x-3 md:space-x-6",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>o(!a),className:"relative p-2 rounded-full hover:bg-gray-100",children:[r.jsx(Ox,{className:"h-5 w-5 md:h-6 md:w-6 text-gray-600"}),P>0&&r.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-4 w-4 md:h-5 md:w-5 flex items-center justify-center",children:P})]}),a&&r.jsxs("div",{className:"absolute right-0 mt-2 w-72 md:w-80 bg-white rounded-md shadow-lg z-20",children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsx("h3",{className:"font-semibold",children:"Notifications"}),r.jsx("button",{onClick:B,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length>0?u.map(T=>r.jsxs("div",{className:`p-3 border-b hover:bg-gray-50 ${T.read?"":"bg-blue-50"}`,children:[r.jsx("p",{className:"text-sm",children:T.content}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T.time})]},T.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"})})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.profilePictureUrl?r.jsx("img",{src:s.profilePictureUrl,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Rt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("div",{className:"font-medium text-sm",children:s.fullName}),r.jsx("div",{className:"text-xs text-gray-500",children:s.company})]})]})]})]}),r.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[e==="home"&&r.jsxs("div",{className:"space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Requests"}),r.jsx("h3",{className:"text-2xl md:text-3xl font-bold mt-1",children:A.pendingRequestsCount})]}),r.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:r.jsx(ks,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>k("requests"),children:["View all requests",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Students Mentored"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:A.studentsmentored})]}),r.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:r.jsx(ts,{className:"h-6 w-6 text-green-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("mentorship"),children:["View mentorship activity",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming Meetings"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:A.upcomingMeetingsCount})]}),r.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:r.jsx(lt,{className:"h-6 w-6 text-purple-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("schedule"),children:["View calendar",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Registered Events"}),r.jsx("h3",{className:"text-3xl font-bold mt-1",children:A.eventsRegisteredCount})]}),r.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:r.jsx(lt,{className:"h-6 w-6 text-red-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800 p-0 h-auto",onClick:()=>n("events"),children:["View all events",r.jsx(Fr,{className:"h-4 w-4 ml-1"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Mentorship Requests"}),m.length>0&&r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("requests"),children:"View all"})]}),r.jsx("div",{className:"p-6",children:m.length>0?r.jsx("div",{className:"space-y-4",children:m.slice(0,3).map(T=>r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:T.student}),r.jsxs("p",{className:"text-sm text-gray-600",children:[T.branch,"  ",T.year]}),r.jsxs("p",{className:"text-sm mt-1",children:[r.jsx("span",{className:"text-blue-600 font-medium",children:"Request: "}),T.requestType]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Requested on ",T.date]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50",onClick:()=>$(T.id,T.studentId),children:[r.jsx(Hs,{className:"h-4 w-4 mr-1"}),"Decline"]}),r.jsxs(W,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>O(T.id,T.studentId),children:[r.jsx(sn,{className:"h-4 w-4 mr-1"}),"Accept"]})]})]})},T.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(ks,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No pending requests"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"You're all caught up for now!"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("schedule"),children:"Schedule new"})]}),r.jsx("div",{className:"p-6",children:b.length>0?r.jsx("div",{className:"space-y-4",children:b.map(T=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-purple-100 rounded-full p-3 mr-4",children:r.jsx(In,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:T.topic}),r.jsxs("p",{className:"text-sm text-gray-600",children:["with ",T.with]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),T.date,r.jsx("span",{className:"mx-2",children:""}),r.jsx(In,{className:"h-3 w-3 mr-1"}),T.time]})]})]},T.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(lt,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No upcoming meetings"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Schedule a meeting with a student"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("schedule"),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Mentorship Activity"})}),r.jsx("div",{className:"p-6",children:g.length>0?r.jsx("div",{className:"space-y-4",children:g.map(T=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:`rounded-full p-3 mr-4 ${T.status==="active"?"bg-green-100":T.status==="completed"?"bg-blue-100":"bg-yellow-100"}`,children:r.jsx(ts,{className:`h-5 w-5 ${T.status==="active"?"text-green-600":T.status==="completed"?"text-blue-600":"text-yellow-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h4",{className:"font-medium",children:T.student}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${T.status==="active"?"bg-green-100 text-green-700":T.status==="completed"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",T.topic]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(In,{className:"h-3 w-3 mr-1"}),"Last updated: ",T.date]})]})]},T.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Mo,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No mentorship activity yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Accept mentorship requests to get started"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Events"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("events"),children:"Create event"})]}),r.jsx("div",{className:"p-6",children:w.length>0?r.jsx("div",{className:"space-y-4",children:w.map(T=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-red-100 rounded-full p-3 mr-4",children:r.jsx(lt,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h4",{className:"font-medium",children:T.title}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${T.status==="Hosting"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:T.status})]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(lt,{className:"h-3 w-3 mr-1"}),T.date,r.jsx("span",{className:"mx-2",children:""}),r.jsx(Pn,{className:"h-3 w-3 mr-1"}),T.attendees," attendees"]})]})]},T.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(lt,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No upcoming events"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Create or register for alumni events"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("events"),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Create Event"]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Posted Opportunities"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("opportunities"),children:"Post new"})]}),r.jsx("div",{className:"p-6",children:N.length>0?r.jsx("div",{className:"space-y-4",children:N.map(T=>r.jsxs("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:r.jsx(hn,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:T.title}),r.jsx("p",{className:"text-sm text-gray-600",children:T.company}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(ri,{className:"h-3 w-3 mr-1"}),T.applications," applications",r.jsx("span",{className:"mx-2",children:""}),r.jsx(In,{className:"h-3 w-3 mr-1"}),"Posted: ",T.posted]})]})]},T.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(hn,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No opportunities posted"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Share job and internship opportunities"}),r.jsxs(W,{variant:"outline",className:"mt-4",onClick:()=>n("opportunities"),children:[r.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Post Opportunity"]})]})})]})]}),V.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Communities You Manage"}),r.jsx(W,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>n("communities"),children:"View all"})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[V.map(T=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:r.jsx(pr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("span",{className:"text-xs font-medium bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:[T.members," Members"]})]}),r.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),r.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[T.newPosts," new posts this week"]}),r.jsx(W,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>t(`/communities/${T.id}`),children:"Manage"})]},T.id)),r.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-5 flex flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"bg-gray-100 rounded-full p-3 mb-3",children:r.jsx(Vr,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h3",{className:"font-semibold text-gray-700",children:"Create Community"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start a new professional group"}),r.jsx(W,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>t("/communities/create"),children:"Create"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"BVRIT Connect Assistant"})}),r.jsx("div",{className:"p-6",children:r.jsx(CN,{})})]})]}),e==="students"&&r.jsx(Fie,{}),e==="events"&&r.jsx(Vie,{}),e==="opportunities"&&r.jsx(Uie,{}),e==="communities"&&r.jsx($ie,{}),e==="mentorship"&&r.jsx(Bie,{}),e==="requests"&&r.jsx(Fae,{}),e==="schedule"&&r.jsx(Vae,{}),e==="communication"&&r.jsx(Uae,{}),e==="profile"&&r.jsx($ae,{}),e==="settings"&&r.jsx(Xae,{})]})]})]}):r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-white to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Loading your dashboard..."})]})})},Jae=new _9;function ma({children:t}){const e=Vi.isLoggedIn(),n=Vi.getCurrentUser();return e?(n==null?void 0:n.type)==="student"&&location.pathname.startsWith("/alumni")?r.jsx(Wv,{to:"/student/dashboard",replace:!0}):(n==null?void 0:n.type)==="alumni"&&location.pathname.startsWith("/student")?r.jsx(Wv,{to:"/alumni/dashboard",replace:!0}):t:r.jsx(Wv,{to:"/login",replace:!0})}const eoe=()=>r.jsx(T9,{client:Jae,children:r.jsx(fN,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(a$,{}),r.jsx(M$,{}),r.jsx(V7,{children:r.jsxs(A7,{children:[r.jsx(En,{path:"/login",element:r.jsx(WZ,{})}),r.jsx(En,{path:"/register",element:r.jsx(HZ,{})}),r.jsx(En,{path:"/",element:r.jsx(H7,{})}),r.jsx(En,{path:"/StudentIntroForm",element:r.jsx(rre,{})}),r.jsx(En,{path:"/alumni/profile-form",element:r.jsx(ure,{})}),r.jsx(En,{path:"/verification",element:r.jsx(dre,{})}),r.jsx(En,{path:"/student/dashboard",element:r.jsx(NT,{})}),r.jsx(En,{path:"/alumni/dashboard",element:r.jsx(kT,{})}),r.jsx(En,{path:"/student/communities",element:r.jsx(ma,{children:r.jsx(z5,{})})}),r.jsx(En,{path:"/events",element:r.jsx(ma,{children:r.jsx(gse,{})})}),r.jsx(En,{path:"/opportunities",element:r.jsx(ma,{children:r.jsx(yse,{})})}),r.jsx(En,{path:"/about",element:r.jsx(ma,{children:r.jsx(jse,{})})}),r.jsx(En,{path:"/profile",element:r.jsx(ma,{children:r.jsx(bT,{})})}),r.jsx(En,{path:"/profile/:section",element:r.jsx(ma,{children:r.jsx(bT,{})})}),r.jsx(En,{path:"/database-details",element:r.jsx(ma,{children:r.jsx(Tse,{})})}),r.jsx(En,{path:"/student/dashboard",element:r.jsx(ma,{children:r.jsx(NT,{})})}),r.jsx(En,{path:"/alumni/dashboard",element:r.jsx(ma,{children:r.jsx(kT,{})})}),r.jsx(En,{path:"*",element:r.jsx(GZ,{})})]})})]})})}),toe={apiKey:"AIzaSyADeNZ-j6P43uNOpe2H7_2zEFUl3nBjaDQ",authDomain:"minor-project-64ad1.firebaseapp.com",projectId:"minor-project-64ad1",storageBucket:"minor-project-64ad1.firebasestorage.app",messagingSenderId:"499345594003",appId:"1:499345594003:web:07a3b44bea02e5c2be9f66",measurementId:"G-D2G5EYR4F1"},noe=iy(toe);UM(noe);JI(document.getElementById("root")).render(r.jsx(eoe,{}));
